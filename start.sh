#!/bin/bash

# 自动研发平台原型 - 一键启动脚本
# 端口: 6060

echo "🚀 正在启动自动研发平台原型..."
echo "================================================"

# 进入前端目录
cd "$(dirname "$0")/frontend" || exit 1

# 检查node_modules是否存在
if [ ! -d "node_modules" ]; then
    echo "📦 首次运行，正在安装依赖..."
    npm install
    echo "✅ 依赖安装完成"
    echo "================================================"
fi

# 停止可能正在运行的服务
echo "🔄 检查并停止旧服务..."
pkill -f "vite" 2>/dev/null || true

# 启动开发服务器
echo "🎯 启动开发服务器 (端口: 6060)..."
echo "================================================"
echo ""
echo "📍 访问地址:"
echo "   - 本地: http://localhost:6060"
echo ""
echo "🔐 默认登录信息:"
echo "   - 用户名: admin"
echo "   - 密码: admin123"
echo ""
echo "================================================"
echo "💡 提示: 按 Ctrl+C 停止服务器"
echo "================================================"
echo ""

npm run dev
