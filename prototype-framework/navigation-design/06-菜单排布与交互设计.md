# 菜单排布与交互设计

> **版本**: V1.0  
> **日期**: 2025-01-14  
> **说明**: 定义菜单的视觉设计、布局规范和交互细节

---

## 一、顶部导航栏设计

### 1.1 布局规范

```
┌─────────────────────────────────────────────────────────────┐
│ [Logo] 平台名称  [模式切换器]    [搜索]  [通知] [用户]     │
│  60px   120px      300px         200px    40px   80px      │
└─────────────────────────────────────────────────────────────┘
高度: 60px
背景色: #FFFFFF
边框: 底部 1px solid #E0E0E0
```

### 1.2 组件详细设计

#### 1.2.1 Logo + 平台名称

```
┌──────────────────────┐
│ [🚗] 整车软件研发平台 │
│ 40px    16px 粗体    │
└──────────────────────┘
```

**交互**:
- 点击Logo: 返回首页（工作台）
- 悬停: 显示平台版本号

#### 1.2.2 模式切换器

```
┌─────────────────────────────────────┐
│ [流程驱动] [固有功能] [工作台]      │
│    ↑          ↑          ↑          │
│  当前模式   可切换     可切换        │
└─────────────────────────────────────┘
```

**视觉设计**:
- 当前模式: 蓝色背景 (#1976D2) + 白色文字
- 可切换模式: 白色背景 + 灰色文字 (#757575)
- 悬停效果: 浅灰色背景 (#F5F5F5)
- 切换动画: 背景色渐变（200ms）

**交互**:
- 点击模式: 切换到对应模式
- 切换确认: 如果当前页面有未保存内容，弹窗确认

#### 1.2.3 全局搜索

```
┌─────────────────────────────┐
│ 🔍 搜索功能、Epic、Task...  │
│     200px 宽度              │
└─────────────────────────────┘
```

**搜索范围**:
- 功能名称和编号（179个功能）
- Epic/Feature/SSTS/MR
- Task/缺陷
- 资产
- 文档

**搜索结果**:
```
┌─────────────────────────────────┐
│ 搜索结果 (12)                   │
├─────────────────────────────────┤
│ 功能 (3)                        │
│ • C1-F01 Epic创建               │
│ • C1-F02 Epic优先级排序         │
│ • C1-F03 MoSCoW分类             │
│                                 │
│ Epic (5)                        │
│ • Epic-123: 智能驾驶功能        │
│ • Epic-456: 智能座舱功能        │
│ ...                             │
│                                 │
│ Task (4)                        │
│ • Task-789: 修复P1缺陷          │
│ ...                             │
│                                 │
│ [查看全部结果 →]                │
└─────────────────────────────────┘
```

**交互**:
- 输入关键词: 实时搜索（防抖300ms）
- 点击结果: 跳转到对应页面
- 按ESC: 关闭搜索结果
- 按↑↓: 选择结果
- 按Enter: 跳转到选中结果

#### 1.2.4 通知中心

```
┌─────────────────────────────────┐
│ 🔔 (8)                          │
│  ↑                              │
│ 未读数量                        │
└─────────────────────────────────┘
```

**通知面板**:
```
┌─────────────────────────────────┐
│ 通知中心 (8)        [全部已读]  │
├─────────────────────────────────┤
│ 今天                            │
│ 🔔 张三 @了你                   │
│   "请帮忙Review PR #567"        │
│   5分钟前                       │
│                                 │
│ 🔔 Epic-123 状态变更            │
│   已完成 → 已发布               │
│   1小时前                       │
│                                 │
│ 昨天                            │
│ 🔔 Sprint 5 即将结束            │
│   还剩2天，请及时完成任务        │
│   昨天 14:30                    │
│                                 │
│ [查看全部通知 →]                │
└─────────────────────────────────┘
```

**交互**:
- 点击通知图标: 打开/关闭通知面板
- 点击通知: 跳转到相关页面 + 标记已读
- 点击[全部已读]: 标记所有通知为已读
- 点击[查看全部通知]: 跳转到通知列表页

#### 1.2.5 用户中心

```
┌─────────────────────────────────┐
│ 👤 张三                         │
│     ↓                           │
└─────────────────────────────────┘
```

**用户菜单**:
```
┌─────────────────────────────────┐
│ 👤 张三                         │
│ 角色: 开发工程师                │
│ Team: Team A                    │
├─────────────────────────────────┤
│ 🏠 我的工作台                   │
│ ⚙️ 个人设置                     │
│ 📊 我的统计                     │
│ 📚 帮助文档                     │
│ 🚪 退出登录                     │
└─────────────────────────────────┘
```

---

## 二、左侧导航区设计

### 2.1 布局规范

```
┌─────────────────────┐
│ 左侧导航区          │
│ 宽度: 240px         │
│ 背景色: #FAFAFA     │
│ 可折叠: 是          │
│ 折叠后宽度: 60px    │
└─────────────────────┘
```

### 2.2 折叠/展开交互

**折叠按钮**:
```
┌─────────────────────┐
│ 导航区              │
│                     │
│ ...                 │
│                     │
│ [◀] 折叠            │
└─────────────────────┘
```

**折叠后**:
```
┌────┐
│ 🚗 │
│ ⭐ │
│ 🕐 │
│ 📋 │
│ 📝 │
│ 🏛️ │
│ 🎯 │
│ 🏃 │
│ ✅ │
│ 🚀 │
│ 📊 │
│    │
│ [▶]│
└────┘
```

**交互**:
- 点击折叠按钮: 折叠/展开导航区
- 折叠后悬停图标: 显示Tooltip（功能名称）
- 折叠状态保存到LocalStorage

### 2.3 菜单项视觉设计

#### 2.3.1 能力域标题

```
┌─────────────────────────────────┐
│ 📋 C0: 领域项目管理 (8)    ▼   │
│ ↑   ↑                  ↑    ↑   │
│图标 标题              数量 展开  │
└─────────────────────────────────┘
```

**样式**:
- 字体: 16px 粗体
- 颜色: #212121
- 高度: 48px
- 左边距: 16px
- 图标大小: 20px

**状态**:
- 默认: 白色背景
- 悬停: #F5F5F5 背景
- 展开: #E3F2FD 背景
- 当前: #1976D2 背景 + 白色文字

#### 2.3.2 功能分组

```
┌─────────────────────────────────┐
│   项目管理                 ▼    │
│   ↑                        ↑    │
│ 缩进16px                  展开  │
└─────────────────────────────────┘
```

**样式**:
- 字体: 14px 常规
- 颜色: #424242
- 高度: 40px
- 左边距: 32px

#### 2.3.3 具体功能

```
┌─────────────────────────────────┐
│     C0-F01 整车项目创建         │
│     ↑                           │
│   缩进32px                      │
└─────────────────────────────────┘
```

**样式**:
- 字体: 13px 常规
- 颜色: #616161
- 高度: 36px
- 左边距: 48px

**状态**:
- 默认: 白色背景
- 悬停: #F5F5F5 背景
- 当前: #E3F2FD 背景 + #1976D2 文字 + 左侧3px蓝色竖线

### 2.4 右键菜单

**功能项右键菜单**:
```
┌─────────────────────────────────┐
│ ⭐ 添加到收藏                   │
│ 🔗 复制链接                     │
│ 🪟 在新标签页打开               │
│ 📌 固定到顶部                   │
└─────────────────────────────────┘
```

---

## 三、主内容区设计

### 3.1 布局规范

```
┌─────────────────────────────────────────────────────────────┐
│ 主内容区                                                    │
│ 宽度: calc(100% - 240px - 300px)  // 减去左侧导航和右侧面板 │
│ 背景色: #FFFFFF                                             │
│ 内边距: 24px                                                │
└─────────────────────────────────────────────────────────────┘
```

### 3.2 页面标题栏

```
┌─────────────────────────────────────────────────────────────┐
│ C1-F01 Epic创建                    [收藏] [帮助] [分享]     │
│ 创建Epic，定义业务需求                                      │
└─────────────────────────────────────────────────────────────┘
```

**样式**:
- 标题: 24px 粗体 #212121
- 描述: 14px 常规 #757575
- 高度: 80px
- 底部边框: 1px solid #E0E0E0

### 3.3 快捷操作栏

```
┌─────────────────────────────────────────────────────────────┐
│ [新建Epic] [导入] [导出] [批量操作]                         │
└─────────────────────────────────────────────────────────────┘
```

**按钮样式**:
- 主按钮: #1976D2 背景 + 白色文字
- 次按钮: 白色背景 + #1976D2 文字 + #1976D2 边框
- 高度: 36px
- 圆角: 4px

---

## 四、右侧面板设计

### 4.1 布局规范

```
┌─────────────────────┐
│ 右侧面板            │
│ 宽度: 300px         │
│ 背景色: #FAFAFA     │
│ 可折叠: 是          │
└─────────────────────┘
```

### 4.2 面板内容

```
┌─────────────────────────────────┐
│ 上下文帮助              [✕]     │
├─────────────────────────────────┤
│ 📚 相关文档                     │
│ • Epic创建指南                  │
│ • 需求管理最佳实践              │
│                                 │
│ 💡 操作提示                     │
│ • 填写Epic标题和描述            │
│ • 选择业务价值和优先级          │
│                                 │
│ 🔗 相关功能                     │
│ • C1-F02 Epic优先级排序         │
│ • C1-F05 Feature创建            │
└─────────────────────────────────┘
```

---

## 五、响应式设计

### 5.1 断点定义

| 断点 | 屏幕宽度 | 左侧导航 | 右侧面板 | 主内容区 |
|------|---------|---------|---------|---------|
| XL | ≥1920px | 240px | 300px | 自适应 |
| L | 1440-1919px | 240px | 300px | 自适应 |
| M | 1024-1439px | 240px | 折叠 | 自适应 |
| S | 768-1023px | 折叠 | 折叠 | 自适应 |
| XS | <768px | 抽屉 | 折叠 | 100% |

### 5.2 移动端适配

**顶部导航栏**:
```
┌─────────────────────────────────┐
│ [☰] 平台名称    [🔍] [🔔] [👤] │
└─────────────────────────────────┘
```

**左侧导航抽屉**:
- 点击[☰]打开抽屉
- 抽屉从左侧滑入
- 点击遮罩层关闭抽屉

---

**下一步**: 查看 [07-全局搜索与快捷操作.md](./07-全局搜索与快捷操作.md)

