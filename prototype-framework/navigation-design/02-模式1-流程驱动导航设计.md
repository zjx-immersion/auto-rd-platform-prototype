# 模式1: 流程驱动导航设计

> **版本**: V2.0
> **日期**: 2025-01-15
> **核心理念**: 以三层需求为主线，体现核心价值流

---

## 一、流程驱动模式概述

### 1.1 设计理念

流程驱动模式以**三层需求（Epic → Feature/PRD → MR）为主线**，体现从战略到执行的完整价值流，帮助用户按照最佳实践完成需求的全生命周期管理。

**核心特点**:
- ✅ 需求为主线 - 以三层需求贯穿全流程
- ✅ 价值流可视化 - 清晰展示需求流转过程
- ✅ 项目为核心 - 以项目为单位组织规划和管理
- ✅ 团队为视角 - 支持团队迭代计划和开发
- ✅ 向导式引导 - 每步提供操作指引和校验

### 1.2 核心价值流

```
┌─────────────────────────────────────────────────────────────────────────────┐
│ Auto-RD平台核心价值流（以需求为主线）                                        │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│  战略层                                                                     │
│  ┌──────────┐                                                              │
│  │  Epic    │  ← 战略规划流程 (P1)                                         │
│  │ (史诗需求)│                                                              │
│  └────┬─────┘                                                              │
│       │                                                                     │
│       ↓ 拆解                                                                │
│  ┌──────────┐      ┌──────────┐                                           │
│  │ Feature  │ ───→ │   PRD    │  ← 特性设计流程 (P2)                       │
│  │ (特性需求)│      │(产品需求) │                                           │
│  └────┬─────┘      └────┬─────┘                                           │
│       │                 │                                                   │
│       ↓ 分配到项目       ↓ 拆解到SSTS                                       │
│  ┌──────────┐      ┌──────────┐                                           │
│  │ Project  │      │  SSTS    │  ← 方案设计流程 (P3)                       │
│  │  (项目)  │      │(系统方案) │                                           │
│  └────┬─────┘      └────┬─────┘                                           │
│       │                 │                                                   │
│       │                 ↓ 拆解到MR                                          │
│       │            ┌──────────┐                                            │
│       │            │    MR    │  ← 模块需求定义                            │
│       │            │(模块需求) │                                            │
│       │            └────┬─────┘                                            │
│       │                 │                                                   │
│       ↓ PI Planning     ↓ 分配到Team                                       │
│  ┌──────────┐      ┌──────────┐                                           │
│  │    PI    │      │   Team   │  ← 团队迭代流程 (P4)                       │
│  │(规划增量) │      │  (团队)  │                                            │
│  └────┬─────┘      └────┬─────┘                                           │
│       │                 │                                                   │
│       ↓ Sprint规划      ↓ Sprint开发                                       │
│  ┌──────────┐      ┌──────────┐                                           │
│  │  Sprint  │      │   Task   │  ← Sprint执行                             │
│  │ (迭代)   │      │  (任务)  │                                            │
│  └──────────┘      └──────────┘                                           │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘
```

### 1.3 核心流程定义

基于三层需求主线，平台支持以下**4个核心流程**：

| 流程编号 | 流程名称 | 核心目标 | 需求层级 | 主要角色 | 价值流阶段 |
|---------|---------|---------|---------|---------|-----------|
| **P1** | **战略规划流程** | Epic创建与版本规划 | Epic层 | PO/PM | S1-S2 |
| **P2** | **特性设计流程** | PRD编写与SSTS拆解 | Feature层 | FO/SE | S2-S3 |
| **P3** | **方案设计流程** | SSTS设计与MR定义 | MR层 | SO/SE | S3 |
| **P4** | **团队迭代流程** | PI Planning → Sprint执行 | Team层 | PM/DL | S4-S5 |

---

## 二、左侧导航设计

### 2.1 导航结构（以需求为主线）

```
流程驱动导航
│
├── 📋 P1: 战略规划流程 (Epic层)
│   │   目标: 从战略到Epic，完成版本规划
│   │
│   ├── 1. Epic创建
│   │   └─ 输入: 战略目标、市场需求
│   │   └─ 输出: Epic列表
│   │
│   ├── 2. Epic优先级排序
│   │   └─ 输入: Epic列表
│   │   └─ 输出: 优先级排序的Epic
│   │
│   ├── 3. Epic MoSCoW分类
│   │   └─ 输入: 优先级排序的Epic
│   │   └─ 输出: Must/Should/Could/Won't分类
│   │
│   ├── 4. 版本规划
│   │   └─ 输入: 分类后的Epic
│   │   └─ 输出: Epic-版本映射
│   │
│   └── 5. 战略规划确认
│       └─ 输出: 版本计划
│
├── 🎯 P2: 特性设计流程 (Feature层)
│   │   目标: 从Epic到Feature/PRD，完成SSTS拆解
│   │
│   ├── 1. Feature拆解
│   │   └─ 输入: Epic
│   │   └─ 输出: Feature列表
│   │
│   ├── 2. PRD编写
│   │   └─ 输入: Feature
│   │   └─ 输出: PRD文档（产品需求规格说明书）
│   │
│   ├── 3. SSTS拆解
│   │   └─ 输入: PRD
│   │   └─ 输出: SSTS列表（系统/子系统技术规格）
│   │
│   ├── 4. Feature-项目分配
│   │   └─ 输入: Feature列表
│   │   └─ 输出: Feature-Project映射
│   │
│   └── 5. 特性设计确认
│       └─ 输出: Feature设计完成
│
├── 🏗️ P3: 方案设计流程 (MR层)
│   │   目标: 从SSTS到MR，完成模块需求定义
│   │
│   ├── 1. 架构设计
│   │   └─ 输入: SSTS
│   │   └─ 输出: 系统架构图
│   │
│   ├── 2. 接口设计
│   │   └─ 输入: 架构设计
│   │   └─ 输出: 接口规格说明
│   │
│   ├── 3. MR拆解
│   │   └─ 输入: SSTS + 架构设计
│   │   └─ 输出: MR列表（模块需求）
│   │
│   ├── 4. 资产复用决策
│   │   └─ 输入: MR列表
│   │   └─ 输出: 复用/新建决策
│   │
│   ├── 5. MR-Team分配
│   │   └─ 输入: MR列表
│   │   └─ 输出: MR-Team映射
│   │
│   └── 6. 方案设计评审
│       └─ 输出: 方案设计完成
│
└── 🏃 P4: 团队迭代流程 (Team层)
    │   目标: 从项目规划到Sprint执行
    │
    ├── 1. PI Planning
    │   │
    │   ├── 1.1 创建PI
    │   │   └─ 输入: 项目、Feature列表
    │   │   └─ 输出: PI定义
    │   │
    │   ├── 1.2 PI目标设定
    │   │   └─ 输入: PI定义
    │   │   └─ 输出: PI Objectives
    │   │
    │   ├── 1.3 团队容量规划
    │   │   └─ 输入: 团队信息
    │   │   └─ 输出: 团队容量
    │   │
    │   ├── 1.4 MR分配到Team
    │   │   └─ 输入: MR列表、团队容量
    │   │   └─ 输出: MR-Team-Sprint映射
    │   │
    │   ├── 1.5 依赖识别
    │   │   └─ 输入: MR-Team映射
    │   │   └─ 输出: 依赖关系图
    │   │
    │   ├── 1.6 风险评估
    │   │   └─ 输入: PI计划
    │   │   └─ 输出: 风险列表
    │   │
    │   └── 1.7 PI承诺
    │       └─ 输出: PI Planning完成
    │
    ├── 2. Sprint规划
    │   │
    │   ├── 2.1 Sprint创建
    │   │   └─ 输入: PI计划
    │   │   └─ 输出: Sprint定义
    │   │
    │   ├── 2.2 Backlog梳理
    │   │   └─ 输入: MR列表
    │   │   └─ 输出: Sprint Backlog
    │   │
    │   ├── 2.3 Task拆解
    │   │   └─ 输入: Sprint Backlog
    │   │   └─ 输出: Task列表
    │   │
    │   ├── 2.4 工作量估算
    │   │   └─ 输入: Task列表
    │   │   └─ 输出: Task工作量
    │   │
    │   └── 2.5 Sprint承诺
    │       └─ 输出: Sprint计划完成
    │
    └── 3. Sprint执行
        │
        ├── 3.1 任务分配
        │   └─ 输入: Task列表
        │   └─ 输出: Task-开发者映射
        │
        ├── 3.2 开发跟踪
        │   └─ 输入: Task状态
        │   └─ 输出: Sprint进度
        │
        └── 3.3 Sprint回顾
            └─ 输出: Sprint完成
```

### 2.2 导航层级说明

**三层需求主线可视化**:
```
Epic层 (战略)  →  Feature层 (产品)  →  MR层 (模块)  →  Team层 (执行)
   P1               P2                  P3              P4
```

**需求流转关系**:
- Epic → Feature: 一个Epic可拆解为多个Feature
- Feature → PRD: 一个Feature对应一个PRD文档
- PRD → SSTS: 一个PRD可拆解为多个SSTS
- SSTS → MR: 一个SSTS可拆解为多个MR
- MR → Task: 一个MR在Sprint中拆解为多个Task

### 2.3 导航交互

**视觉设计**:
- 当前流程: 高亮显示（蓝色背景）+ 需求层级标签
- 当前步骤: 加粗 + 左侧蓝色竖线
- 已完成步骤: 绿色勾选图标 ✓
- 进行中步骤: 蓝色进度图标 ⟳
- 未开始步骤: 灰色圆点图标 ○
- 必填步骤: 红色星号标记 *

**需求层级标识**:
- Epic层: 🔷 蓝色菱形
- Feature层: 🔶 橙色菱形
- MR层: 🔸 黄色菱形
- Team层: 🔹 绿色菱形

**交互行为**:
- 点击流程名称: 展开/折叠步骤列表，显示需求层级
- 点击步骤: 跳转到对应页面（需满足前置条件）
- 悬停步骤: 显示步骤说明、输入输出、预计耗时
- 右键菜单: 保存草稿、跳过步骤、查看帮助、查看需求关系

---

## 三、主内容区设计

### 3.1 页面布局（以需求为主线）

```
┌─────────────────────────────────────────────────────────────────────────────┐
│ 面包屑导航: 首页 > 流程驱动 > P2:特性设计流程 > 步骤3: SSTS拆解             │
│ 需求层级: 🔶 Feature层 → SSTS                                               │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│  ┌───────────────────────────────────────────────────────────────────────┐ │
│  │ 需求流转可视化                                                         │ │
│  │                                                                       │ │
│  │  Epic: E001-智能驾驶系统                                              │ │
│  │    ↓                                                                  │ │
│  │  Feature: F001-自动泊车功能  ← 当前                                   │ │
│  │    ↓                                                                  │ │
│  │  PRD: PRD-F001 (已完成)                                               │ │
│  │    ↓                                                                  │ │
│  │  SSTS: [正在拆解...]  ← 当前步骤                                      │ │
│  │                                                                       │ │
│  └───────────────────────────────────────────────────────────────────────┘ │
│                                                                             │
│  ┌───────────────────────────────────────────────────────────────────────┐ │
│  │ 步骤进度条                                                             │ │
│  │ ●━━━●━━━●━━━○━━━○                                                     │ │
│  │ 1   2   3   4   5                                                     │ │
│  │ Feature PRD SSTS Feature 特性                                         │ │
│  │ 拆解   编写 拆解  -项目  设计                                          │ │
│  │                  分配   确认                                           │ │
│  └───────────────────────────────────────────────────────────────────────┘ │
│                                                                             │
│  ┌───────────────────────────────────────────────────────────────────────┐ │
│  │ 步骤标题: 步骤3 - SSTS拆解                                             │ │
│  │ 步骤说明: 将PRD拆解为系统/子系统技术规格（SSTS）                        │ │
│  │ 输入: PRD-F001                                                         │ │
│  │ 输出: SSTS列表                                                         │ │
│  │ 预计耗时: 2小时                                                        │ │
│  └───────────────────────────────────────────────────────────────────────┘ │
│                                                                             │
│  ┌───────────────────────────────────────────────────────────────────────┐ │
│  │ 表单区域                                                               │ │
│  │                                                                       │ │
│  │ PRD内容预览:                                                           │ │
│  │ ┌─────────────────────────────────────────────────────────────────┐  │ │
│  │ │ PRD-F001: 自动泊车功能                                           │  │ │
│  │ │ 1. 功能描述: ...                                                 │  │ │
│  │ │ 2. 用户场景: ...                                                 │  │ │
│  │ │ 3. 功能需求: ...                                                 │  │ │
│  │ └─────────────────────────────────────────────────────────────────┘  │ │
│  │                                                                       │ │
│  │ SSTS拆解:                                                              │ │
│  │ ┌─────────────────────────────────────────────────────────────────┐  │ │
│  │ │ [+ 添加SSTS]                                                     │  │ │
│  │ │                                                                  │  │ │
│  │ │ SSTS-001: 环境感知子系统                                         │  │ │
│  │ │   - 系统名称: 环境感知子系统                                     │  │ │
│  │ │   - 技术规格: [编辑]                                             │  │ │
│  │ │   - 接口定义: [编辑]                                             │  │ │
│  │ │                                                                  │  │ │
│  │ │ SSTS-002: 路径规划子系统                                         │  │ │
│  │ │   - 系统名称: 路径规划子系统                                     │  │ │
│  │ │   - 技术规格: [编辑]                                             │  │ │
│  │ │   - 接口定义: [编辑]                                             │  │ │
│  │ └─────────────────────────────────────────────────────────────────┘  │ │
│  └───────────────────────────────────────────────────────────────────────┘ │
│                                                                             │
│  ┌───────────────────────────────────────────────────────────────────────┐ │
│  │ 操作按钮区                                                             │ │
│  │ [← 上一步: PRD编写] [保存草稿] [下一步: Feature-项目分配 →]           │ │
│  └───────────────────────────────────────────────────────────────────────┘ │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘
```

### 3.2 需求流转可视化

**需求层级关系展示**:
```
┌─────────────────────────────────────────────────────────────┐
│ 需求流转路径                                                 │
├─────────────────────────────────────────────────────────────┤
│                                                             │
│  🔷 Epic: E001-智能驾驶系统                                 │
│     │                                                       │
│     ├─ 🔶 Feature: F001-自动泊车功能  ← 当前               │
│     │     │                                                 │
│     │     ├─ 📄 PRD: PRD-F001 (已完成)                     │
│     │     │                                                 │
│     │     ├─ 🔸 SSTS-001: 环境感知子系统 (进行中)           │
│     │     │     │                                           │
│     │     │     └─ MR-001: 摄像头模块 (待拆解)             │
│     │     │                                                 │
│     │     └─ 🔸 SSTS-002: 路径规划子系统 (待开始)           │
│     │                                                       │
│     └─ 🔶 Feature: F002-自动跟车功能                        │
│                                                             │
└─────────────────────────────────────────────────────────────┘
```

### 3.3 步骤进度条设计

**进度条状态**:
- ✓ 已完成 (绿色勾选)
- ⟳ 进行中 (蓝色旋转 + 脉冲动画)
- ○ 待完成 (灰色空心圆)
- ⚠ 有警告 (黄色感叹号)
- ✗ 有错误 (红色叉号)
- * 必填步骤 (红色星号)

**进度条交互**:
- 点击已完成步骤: 返回该步骤（弹窗确认，提示可能影响后续步骤）
- 点击待完成步骤: 提示需先完成前置步骤
- 悬停步骤: 显示步骤名称、输入输出、状态

---

## 四、P1: 战略规划流程详细设计

### 4.1 流程概述

**目标**: 从战略目标到Epic，完成版本规划

**需求层级**: 🔷 Epic层

**涉及功能**: C1-F01 (Epic创建), C1-F02 (优先级排序), C1-F03 (MoSCoW分类), C1-F04 (版本分配)

**输入**: 战略目标、市场需求
**输出**: Epic列表、版本计划

### 4.2 步骤详细设计

| 步骤 | 步骤名称 | 功能编号 | 输入 | 输出 | 必填项 | 预计耗时 |
|------|---------|---------|------|------|-------|---------|
| 1 | Epic创建 | C1-F01 | 战略目标 | Epic列表 | Epic标题、描述、业务价值 | 1小时 |
| 2 | Epic优先级排序 | C1-F02 | Epic列表 | 优先级排序的Epic | 优先级 | 30分钟 |
| 3 | Epic MoSCoW分类 | C1-F03 | 优先级排序的Epic | 分类后的Epic | MoSCoW分类 | 20分钟 |
| 4 | 版本规划 | C1-F04 | 分类后的Epic | Epic-版本映射 | 版本分配 | 40分钟 |
| 5 | 战略规划确认 | - | Epic-版本映射 | 版本计划 | - | 10分钟 |

### 4.3 步骤1: Epic创建 - 页面设计

**页面内容**:
```
┌─────────────────────────────────────────────────────────────────────────────┐
│ P1: 战略规划流程 > 步骤1: Epic创建                                           │
│ 需求层级: 🔷 Epic层                                                          │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│  ┌───────────────────────────────────────────────────────────────────────┐ │
│  │ 战略目标回顾                                                           │ │
│  │ ┌─────────────────────────────────────────────────────────────────┐  │ │
│  │ │ 2025年战略目标:                                                  │  │ │
│  │ │ 1. 打造行业领先的智能驾驶系统                                    │  │ │
│  │ │ 2. 提升用户体验满意度至90%以上                                   │  │ │
│  │ │ 3. 降低研发成本20%                                               │  │ │
│  │ └─────────────────────────────────────────────────────────────────┘  │ │
│  └───────────────────────────────────────────────────────────────────────┘ │
│                                                                             │
│  ┌───────────────────────────────────────────────────────────────────────┐ │
│  │ Epic列表                                                [+ 创建Epic]   │ │
│  │ ┌─────────────────────────────────────────────────────────────────┐  │ │
│  │ │ Epic ID  │ Epic名称              │ 业务价值 │ 状态   │ 操作    │  │ │
│  │ ├─────────────────────────────────────────────────────────────────┤  │ │
│  │ │ E001     │ 智能驾驶系统          │ 高       │ 草稿   │ [编辑]  │  │ │
│  │ │ E002     │ 用户体验优化          │ 中       │ 草稿   │ [编辑]  │  │ │
│  │ │ E003     │ 研发效能提升          │ 高       │ 草稿   │ [编辑]  │  │ │
│  │ └─────────────────────────────────────────────────────────────────┘  │ │
│  └───────────────────────────────────────────────────────────────────────┘ │
│                                                                             │
│  ┌───────────────────────────────────────────────────────────────────────┐ │
│  │ 创建Epic表单                                                           │ │
│  │                                                                       │ │
│  │ Epic名称: *                                                            │ │
│  │ ┌─────────────────────────────────────────────────────────────────┐  │ │
│  │ │ 智能驾驶系统                                                     │  │ │
│  │ └─────────────────────────────────────────────────────────────────┘  │ │
│  │                                                                       │ │
│  │ Epic描述: *                                                            │ │
│  │ ┌─────────────────────────────────────────────────────────────────┐  │ │
│  │ │ 构建L2+级别的智能驾驶系统，包括自动泊车、自动跟车、车道保持等    │  │ │
│  │ │ 核心功能，提升驾驶安全性和便利性。                               │  │ │
│  │ └─────────────────────────────────────────────────────────────────┘  │ │
│  │                                                                       │ │
│  │ 业务价值: *                                                            │ │
│  │ ┌─────────────────────────────────────────────────────────────────┐  │ │
│  │ │ ○ 高  ● 中  ○ 低                                                 │  │ │
│  │ └─────────────────────────────────────────────────────────────────┘  │ │
│  │                                                                       │ │
│  │ 对齐战略目标:                                                          │ │
│  │ ┌─────────────────────────────────────────────────────────────────┐  │ │
│  │ │ ☑ 打造行业领先的智能驾驶系统                                     │  │ │
│  │ │ ☑ 提升用户体验满意度至90%以上                                    │  │ │
│  │ │ ☐ 降低研发成本20%                                                │  │ │
│  │ └─────────────────────────────────────────────────────────────────┘  │ │
│  │                                                                       │ │
│  │ [取消] [保存Epic]                                                      │ │
│  └───────────────────────────────────────────────────────────────────────┘ │
│                                                                             │
│  ┌───────────────────────────────────────────────────────────────────────┐ │
│  │ [下一步: Epic优先级排序 →]                                             │ │
│  └───────────────────────────────────────────────────────────────────────┘ │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘
```

**字段说明**:
- Epic名称: 简洁描述Epic的核心内容
- Epic描述: 详细说明Epic的目标、范围、价值
- 业务价值: 高/中/低，用于后续优先级排序
- 对齐战略目标: 关联到公司战略目标

**校验规则**:
- Epic名称不能为空
- Epic描述不能为空
- 必须选择业务价值
- 至少关联一个战略目标

---

## 五、P2: 特性设计流程详细设计

### 5.1 流程概述

**目标**: 从Epic到Feature/PRD，完成SSTS拆解

**需求层级**: 🔶 Feature层

**涉及功能**: C1-F05 (Feature拆解), C1-F06 (PRD编写), C2-F01 (SSTS拆解)

**输入**: Epic
**输出**: Feature列表、PRD文档、SSTS列表

### 5.2 步骤详细设计

| 步骤 | 步骤名称 | 功能编号 | 输入 | 输出 | 必填项 | 预计耗时 |
|------|---------|---------|------|------|-------|---------|
| 1 | Feature拆解 | C1-F05 | Epic | Feature列表 | Feature名称、描述 | 2小时 |
| 2 | PRD编写 | C1-F06 | Feature | PRD文档 | PRD内容 | 4小时 |
| 3 | SSTS拆解 | C2-F01 | PRD | SSTS列表 | SSTS名称、技术规格 | 3小时 |
| 4 | Feature-项目分配 | C1-F07 | Feature列表 | Feature-Project映射 | 项目分配 | 1小时 |
| 5 | 特性设计确认 | - | SSTS列表 | Feature设计完成 | - | 30分钟 |

### 5.3 步骤2: PRD编写 - 页面设计

**页面内容**:
```
┌─────────────────────────────────────────────────────────────────────────────┐
│ P2: 特性设计流程 > 步骤2: PRD编写                                            │
│ 需求层级: 🔶 Feature层 → 📄 PRD                                              │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│  ┌───────────────────────────────────────────────────────────────────────┐ │
│  │ 需求流转路径                                                           │ │
│  │ Epic: E001-智能驾驶系统 → Feature: F001-自动泊车功能 → PRD-F001       │ │
│  └───────────────────────────────────────────────────────────────────────┘ │
│                                                                             │
│  ┌───────────────────────────────────────────────────────────────────────┐ │
│  │ Feature信息                                                            │ │
│  │ ┌─────────────────────────────────────────────────────────────────┐  │ │
│  │ │ Feature ID: F001                                                 │  │ │
│  │ │ Feature名称: 自动泊车功能                                        │  │ │
│  │ │ Feature描述: 实现自动识别车位、自动泊车入位的功能                │  │ │
│  │ │ 所属Epic: E001-智能驾驶系统                                      │  │ │
│  │ └─────────────────────────────────────────────────────────────────┘  │ │
│  └───────────────────────────────────────────────────────────────────────┘ │
│                                                                             │
│  ┌───────────────────────────────────────────────────────────────────────┐ │
│  │ PRD编写 (产品需求规格说明书)                                           │ │
│  │                                                                       │ │
│  │ 1. 产品概述 *                                                          │ │
│  │ ┌─────────────────────────────────────────────────────────────────┐  │ │
│  │ │ 自动泊车功能是智能驾驶系统的核心功能之一，旨在解决用户在狭窄    │  │ │
│  │ │ 空间泊车困难的痛点，提升驾驶便利性和安全性。                    │  │ │
│  │ └─────────────────────────────────────────────────────────────────┘  │ │
│  │                                                                       │ │
│  │ 2. 用户场景 *                                                          │ │
│  │ ┌─────────────────────────────────────────────────────────────────┐  │ │
│  │ │ 场景1: 垂直车位泊车                                              │  │ │
│  │ │ - 用户驾驶车辆进入停车场                                         │  │ │
│  │ │ - 系统自动识别可用垂直车位                                       │  │ │
│  │ │ - 用户确认后，系统自动完成泊车                                   │  │ │
│  │ │                                                                  │  │ │
│  │ │ 场景2: 平行车位泊车                                              │  │ │
│  │ │ - 用户驾驶车辆在路边寻找车位                                     │  │ │
│  │ │ - 系统自动识别可用平行车位                                       │  │ │
│  │ │ - 用户确认后，系统自动完成泊车                                   │  │ │
│  │ └─────────────────────────────────────────────────────────────────┘  │ │
│  │                                                                       │ │
│  │ 3. 功能需求 *                                                          │ │
│  │ ┌─────────────────────────────────────────────────────────────────┐  │ │
│  │ │ FR-001: 车位识别                                                 │  │ │
│  │ │ - 系统应能识别垂直车位和平行车位                                 │  │ │
│  │ │ - 识别准确率应≥95%                                               │  │ │
│  │ │                                                                  │  │ │
│  │ │ FR-002: 自动泊车                                                 │  │ │
│  │ │ - 系统应能自动控制方向盘、油门、刹车完成泊车                     │  │ │
│  │ │ - 泊车成功率应≥90%                                               │  │ │
│  │ │                                                                  │  │ │
│  │ │ FR-003: 安全监控                                                 │  │ │
│  │ │ - 系统应实时监控周围环境，遇到障碍物自动停车                     │  │ │
│  │ │ - 响应时间应≤100ms                                               │  │ │
│  │ └─────────────────────────────────────────────────────────────────┘  │ │
│  │                                                                       │ │
│  │ 4. 非功能需求 *                                                        │ │
│  │ ┌─────────────────────────────────────────────────────────────────┐  │ │
│  │ │ NFR-001: 性能要求                                                │  │ │
│  │ │ - 车位识别响应时间≤2s                                            │  │ │
│  │ │ - 泊车完成时间≤60s                                               │  │ │
│  │ │                                                                  │  │ │
│  │ │ NFR-002: 安全要求                                                │  │ │
│  │ │ - 符合ISO 26262 ASIL-B安全等级                                   │  │ │
│  │ │ - 故障检测覆盖率≥95%                                             │  │ │
│  │ └─────────────────────────────────────────────────────────────────┘  │ │
│  │                                                                       │ │
│  │ 5. 验收标准 *                                                          │ │
│  │ ┌─────────────────────────────────────────────────────────────────┐  │ │
│  │ │ AC-001: 车位识别准确率≥95%                                       │  │ │
│  │ │ AC-002: 泊车成功率≥90%                                           │  │ │
│  │ │ AC-003: 安全监控响应时间≤100ms                                   │  │ │
│  │ │ AC-004: 通过ISO 26262 ASIL-B认证                                 │  │ │
│  │ └─────────────────────────────────────────────────────────────────┘  │ │
│  │                                                                       │ │
│  │ [保存草稿] [提交评审]                                                  │ │
│  └───────────────────────────────────────────────────────────────────────┘ │
│                                                                             │
│  ┌───────────────────────────────────────────────────────────────────────┐ │
│  │ [← 上一步: Feature拆解] [下一步: SSTS拆解 →]                           │ │
│  └───────────────────────────────────────────────────────────────────────┘ │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘
```

**PRD模板章节**:
1. 产品概述
2. 用户场景
3. 功能需求 (Functional Requirements)
4. 非功能需求 (Non-Functional Requirements)
5. 验收标准 (Acceptance Criteria)

**校验规则**:
- 所有必填章节不能为空
- 功能需求至少包含3个
- 验收标准至少包含3个
- 验收标准应可量化

---

## 六、P3: 方案设计流程详细设计

### 6.1 流程概述

**目标**: 从SSTS到MR，完成模块需求定义

**需求层级**: 🔸 MR层

**涉及功能**: C2-F02 (架构设计), C2-F03 (接口设计), C2-F04 (MR拆解), C2-F05 (资产复用)

**输入**: SSTS
**输出**: 架构设计、接口规格、MR列表

### 6.2 步骤详细设计

| 步骤 | 步骤名称 | 功能编号 | 输入 | 输出 | 必填项 | 预计耗时 |
|------|---------|---------|------|------|-------|---------|
| 1 | 架构设计 | C2-F02 | SSTS | 系统架构图 | 架构图、模块划分 | 3小时 |
| 2 | 接口设计 | C2-F03 | 架构设计 | 接口规格说明 | 接口定义 | 2小时 |
| 3 | MR拆解 | C2-F04 | SSTS + 架构设计 | MR列表 | MR名称、规格 | 4小时 |
| 4 | 资产复用决策 | C2-F05 | MR列表 | 复用/新建决策 | 复用决策 | 2小时 |
| 5 | MR-Team分配 | C3-F07 | MR列表 | MR-Team映射 | Team分配 | 1小时 |
| 6 | 方案设计评审 | - | 方案设计 | 方案设计完成 | - | 1小时 |

---

## 七、P4: 团队迭代流程详细设计

### 7.1 流程概述

**目标**: 从项目规划到Sprint执行

**需求层级**: 🔹 Team层

**涉及功能**: C3 (规划协调), C4 (迭代管理)

**输入**: 项目、MR列表
**输出**: PI计划、Sprint计划、Task列表

### 7.2 子流程1: PI Planning

| 步骤 | 步骤名称 | 功能编号 | 输入 | 输出 | 预计耗时 |
|------|---------|---------|------|------|---------|
| 1.1 | 创建PI | C3-F03 | 项目、Feature列表 | PI定义 | 30分钟 |
| 1.2 | PI目标设定 | C3-F04 | PI定义 | PI Objectives | 1小时 |
| 1.3 | 团队容量规划 | C3-F05 | 团队信息 | 团队容量 | 1小时 |
| 1.4 | MR分配到Team | C3-F07 | MR列表、团队容量 | MR-Team-Sprint映射 | 2小时 |
| 1.5 | 依赖识别 | C3-F09 | MR-Team映射 | 依赖关系图 | 1小时 |
| 1.6 | 风险评估 | C3-F12 | PI计划 | 风险列表 | 1小时 |
| 1.7 | PI承诺 | C3-F17 | PI计划 | PI Planning完成 | 30分钟 |

### 7.3 子流程2: Sprint规划

| 步骤 | 步骤名称 | 功能编号 | 输入 | 输出 | 预计耗时 |
|------|---------|---------|------|------|---------|
| 2.1 | Sprint创建 | C3-F08 | PI计划 | Sprint定义 | 15分钟 |
| 2.2 | Backlog梳理 | C4-F01 | MR列表 | Sprint Backlog | 1小时 |
| 2.3 | Task拆解 | C4-F02 | Sprint Backlog | Task列表 | 2小时 |
| 2.4 | 工作量估算 | C4-F03 | Task列表 | Task工作量 | 1小时 |
| 2.5 | Sprint承诺 | C4-F04 | Sprint计划 | Sprint计划完成 | 30分钟 |

### 7.4 子流程3: Sprint执行

| 步骤 | 步骤名称 | 功能编号 | 输入 | 输出 | 说明 |
|------|---------|---------|------|------|------|
| 3.1 | 任务分配 | C4-F05 | Task列表 | Task-开发者映射 | 分配给具体开发者 |
| 3.2 | 开发跟踪 | C4-F06 | Task状态 | Sprint进度 | 每日更新 |
| 3.3 | Sprint回顾 | C4-F07 | Sprint完成 | 改进项 | Sprint结束后 |

---

## 八、总结

### 8.1 核心价值流

本流程驱动导航设计以**三层需求为主线**，体现了从战略到执行的完整价值流：

```
Epic (战略层) → Feature/PRD (产品层) → SSTS (系统层) → MR (模块层) → Task (执行层)
     P1              P2                    P2              P3             P4
```

### 8.2 关键特性

1. **需求为主线**: 所有流程围绕需求展开，清晰展示需求流转
2. **层级清晰**: 四个需求层级（Epic/Feature/MR/Team）职责明确
3. **价值流可视化**: 每个步骤都展示输入输出，形成完整价值流
4. **项目为核心**: P4流程以项目为单位组织PI Planning和Sprint
5. **团队为视角**: 支持团队视角的迭代计划和开发

### 8.3 与固有功能导航的关系

- **流程驱动导航**: 适用于向导式、有明确步骤的工作流程
- **固有功能导航**: 适用于日常管理、查询、监控等常规操作

两种导航模式互补，共同支撑平台的完整功能。

---

**下一步**: 查看 [03-模式2-固有功能导航设计.md](./03-模式2-固有功能导航设计.md)

