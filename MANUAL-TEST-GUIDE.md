# Phase 6手工测试指南

**测试范围**: Phase 6 - 风险与进度管理  
**测试日期**: 2026-01-19  
**测试版本**: v3.0  
**访问地址**: http://localhost:6060

---

## 📋 测试目标

验证Phase 6的3个核心功能模块：
1. **风险管理**：风险识别、评估、缓解、跟踪
2. **PI进度跟踪和回顾**：进度仪表盘、燃尽图、回顾会议
3. **项目监控看板**：关键指标、图表可视化、统计分析

---

## 🎯 数据关联关系

### 数据模型依赖

```
项目 (Project)
  ↓
  PI版本 (PIVersion)
    ↓
    ├─ PI进度跟踪 (PIProgress)
    │   ├─ 团队配置 (PITeamConfig)
    │   ├─ 风险 (Risk)
    │   └─ 依赖 (Dependency)
    │
    ├─ PI回顾会议 (PIReview)
    │   ├─ What went well
    │   ├─ To improve
    │   └─ Action items
    │
    └─ Feature (Feature)
        ├─ Epic (Epic)
        └─ Story Points

风险管理 (Risk Management)
  ├─ 风险 (Risk)
  │   ├─ 风险类型 (technical/resource/dependency/external)
  │   ├─ 概率等级 (low/medium/high)
  │   ├─ 影响等级 (low/medium/high)
  │   ├─ 风险评分 (1-9)
  │   └─ 状态 (open/mitigating/resolved/accepted)

项目监控 (Project Monitor)
  ├─ 项目 (Project)
  ├─ Epic完成率
  ├─ Feature完成率
  ├─ 团队效能
  ├─ 里程碑
  └─ 风险汇总
```

---

## 📦 测试数据准备

### 1. 基础数据（前置条件）

#### 1.1 创建测试项目

**项目信息**:
- 项目名称：`智能驾驶系统V2.0`
- 项目代码：`IDS-V2`
- 项目类型：`领域项目`
- 负责人：`张三`
- 开始日期：`2026-01-01`
- 结束日期：`2026-06-30`

#### 1.2 创建PI版本

**PI版本信息**:
- PI名称：`PI-2026-Q1`
- 开始日期：`2026-01-01`
- 结束日期：`2026-03-31`
- Sprint数量：`6个`
- 目标：`完成核心驾驶算法开发和集成`

#### 1.3 创建Epic

**Epic 1**:
- 名称：`自动泊车功能`
- 描述：`实现自动泊车的核心算法和交互`
- 状态：`进行中`
- 优先级：`高`

**Epic 2**:
- 名称：`车道保持辅助`
- 描述：`实现车道保持的传感器融合和控制`
- 状态：`进行中`
- 优先级：`高`

**Epic 3**:
- 名称：`智能巡航控制`
- 描述：`自适应巡航控制系统优化`
- 状态：`已完成`
- 优先级：`中`

#### 1.4 创建Feature

**Feature 1** (Epic 1):
- 名称：`泊车空间识别算法`
- Story Points：`13`
- 状态：`进行中`

**Feature 2** (Epic 1):
- 名称：`自动泊车路径规划`
- Story Points：`21`
- 状态：`待开始`

**Feature 3** (Epic 2):
- 名称：`车道线检测优化`
- Story Points：`8`
- 状态：`进行中`

**Feature 4** (Epic 2):
- 名称：`转向控制集成`
- Story Points：`13`
- 状态：`待开始`

**Feature 5** (Epic 3):
- 名称：`雷达数据融合`
- Story Points：`8`
- 状态：`已完成`

**Feature 6** (Epic 3):
- 名称：`速度控制优化`
- Story Points：`5`
- 状态：`已完成`

#### 1.5 配置团队

**团队1**:
- 团队名称：`前端团队`
- 成员数量：`8人`
- 容量：`200 SP`

**团队2**:
- 团队名称：`算法团队`
- 成员数量：`10人`
- 容量：`250 SP`

**团队3**:
- 团队名称：`集成测试团队`
- 成员数量：`6人`
- 容量：`150 SP`

---

## 🧪 测试用例

### 测试模块1：风险管理

#### 用例1.1：创建风险（高优先级）

**前置条件**:
- 已登录系统
- 已创建测试项目

**测试步骤**:
1. 导航到：`固有功能 → C3: 规划协调 → 风险管理`
2. 点击`创建风险`按钮
3. 填写风险信息：
   - 风险描述：`第三方传感器供应商延期交付风险`
   - 风险类型：`外部风险`
   - 发生概率：`高`
   - 影响程度：`高`
   - 缓解措施：`寻找备选供应商，提前启动采购流程`
   - 负责人：`李四`
4. 点击`创建`按钮

**预期结果**:
- ✅ 风险创建成功
- ✅ 风险评分显示为`9分`（高×高）
- ✅ 风险卡片显示在`未缓解`列
- ✅ 风险卡片显示红色标识（高优先级）
- ✅ 统计卡片更新：风险总数+1，高优先级风险+1，未缓解风险+1

#### 用例1.2：创建风险（中优先级）

**测试步骤**:
1. 点击`创建风险`按钮
2. 填写风险信息：
   - 风险描述：`算法性能不达标，需要优化`
   - 风险类型：`技术风险`
   - 发生概率：`中`
   - 影响程度：`中`
   - 缓解措施：`增加算法优化资源，引入专家评审`
   - 负责人：`王五`
3. 点击`创建`按钮

**预期结果**:
- ✅ 风险评分显示为`4分`（中×中）
- ✅ 风险卡片显示橙色标识（中优先级）

#### 用例1.3：创建风险（低优先级）

**测试步骤**:
1. 点击`创建风险`按钮
2. 填写风险信息：
   - 风险描述：`文档更新不及时`
   - 风险类型：`资源风险`
   - 发生概率：`低`
   - 影响程度：`低`
   - 缓解措施：`安排专人负责文档维护`
   - 负责人：`赵六`
3. 点击`创建`按钮

**预期结果**:
- ✅ 风险评分显示为`1分`（低×低）
- ✅ 风险卡片显示绿色标识（低优先级）

#### 用例1.4：风险筛选

**测试步骤**:
1. 使用筛选条件：
   - 按状态筛选：`未缓解`
   - 按类型筛选：`外部风险`
   - 按优先级筛选：`高优先级`
2. 清空筛选条件
3. 使用搜索：输入`传感器`

**预期结果**:
- ✅ 筛选结果正确
- ✅ 搜索结果准确
- ✅ 清空筛选后显示所有风险

#### 用例1.5：看板视图和列表视图切换

**测试步骤**:
1. 点击`列表视图`Tab
2. 验证表格显示
3. 点击`看板视图`Tab
4. 验证4列看板显示

**预期结果**:
- ✅ 列表视图显示完整表格，包含所有字段
- ✅ 看板视图显示4列：未缓解/缓解中/已解决/已接受
- ✅ 视图切换流畅

#### 用例1.6：查看风险详情

**测试步骤**:
1. 在看板或列表中点击`第三方传感器供应商延期交付风险`
2. 查看风险详情页面

**预期结果**:
- ✅ 显示完整的风险信息
- ✅ 显示大号风险评分（9分，红色）
- ✅ 显示状态操作按钮
- ✅ 显示缓解措施
- ✅ 返回按钮可用

#### 用例1.7：风险状态流转

**测试步骤**:
1. 在风险详情页面，点击`开始缓解`按钮
2. 验证状态更新为`缓解中`
3. 点击返回，验证看板中风险移动到`缓解中`列
4. 再次进入风险详情
5. 点击`标记为已解决`按钮
6. 验证状态更新为`已解决`

**预期结果**:
- ✅ 状态流转正常：未缓解 → 缓解中 → 已解决
- ✅ 看板实时更新
- ✅ 统计卡片更新

#### 用例1.8：添加缓解措施

**测试步骤**:
1. 在风险详情页面，点击`添加措施`按钮
2. 输入缓解措施：`已联系3家备选供应商，2家可以提供替代方案`
3. 点击`保存`

**预期结果**:
- ✅ 缓解措施更新成功
- ✅ 页面显示最新缓解措施

---

### 测试模块2：PI进度跟踪和回顾

#### 用例2.1：查看PI进度跟踪

**前置条件**:
- 已创建PI版本：`PI-2026-Q1`
- 已分配Feature到PI

**测试步骤**:
1. 导航到：`固有功能 → C3: 规划协调 → PI列表`
2. 选择`PI-2026-Q1`
3. 点击`进度跟踪`或访问：`/function/c3/pi/progress/{pi-id}`

**预期结果**:
- ✅ 显示PI名称标签
- ✅ 显示4个关键指标卡片：
  - 总体完成率
  - Feature完成率
  - Story Points完成
  - 速率
- ✅ 显示PI燃尽图
- ✅ 显示团队进度表
- ✅ 显示风险与依赖卡片
- ✅ 显示里程碑时间线

#### 用例2.2：切换燃尽图模式

**测试步骤**:
1. 在PI进度跟踪页面
2. 点击`Feature Count`单选按钮
3. 验证燃尽图模式切换
4. 点击`Story Points`单选按钮
5. 验证燃尽图模式切换回来

**预期结果**:
- ✅ 燃尽图Y轴标签更新
- ✅ 数据重新渲染
- ✅ 图表流畅切换

#### 用例2.3：查看团队进度

**测试步骤**:
1. 在PI进度跟踪页面
2. 查看团队进度表
3. 验证每个团队的数据

**预期结果**:
- ✅ 显示所有团队
- ✅ 显示负载进度条（颜色编码）
- ✅ 显示速率（SP/周）
- ✅ 显示完成率
- ✅ 显示状态标签

#### 用例2.4：进入PI回顾会议

**测试步骤**:
1. 在PI进度跟踪页面，点击`PI回顾`按钮
2. 或访问：`/function/c3/pi/review/{pi-id}`

**预期结果**:
- ✅ 进入PI回顾会议页面
- ✅ 显示PI名称标签
- ✅ 显示3个分类卡片
- ✅ 显示PI总结卡片
- ✅ 显示关键指标
- ✅ 显示参与人员

#### 用例2.5：添加"做得好的"

**测试步骤**:
1. 在`What went well`卡片中，点击`添加`按钮
2. 输入：`团队协作效率高，daily standup执行良好`
3. 点击`添加`按钮

**预期结果**:
- ✅ 添加成功
- ✅ 卡片列表显示新条目
- ✅ 显示作者（当前用户）
- ✅ 关键指标更新（做得好数量+1）

#### 用例2.6：添加"待改进的"

**测试步骤**:
1. 在`To improve`卡片中，点击`添加`按钮
2. 输入：`代码审查流程需要加强，发现多处低级错误`
3. 点击`添加`按钮

**预期结果**:
- ✅ 添加成功
- ✅ 显示在To improve列表中
- ✅ 关键指标更新（待改进数量+1）

#### 用例2.7：添加Action Item

**测试步骤**:
1. 在`Action items`卡片中，点击`添加`按钮
2. 填写Action item信息：
   - 行动项：`建立代码审查checklist，强制执行审查流程`
   - 负责人：`王五`
   - 截止日期：`2026-02-15`
3. 点击`保存`按钮

**预期结果**:
- ✅ Action item创建成功
- ✅ 显示在表格中
- ✅ 状态为`待处理`
- ✅ 关键指标更新（行动项数量+1）

#### 用例2.8：编辑Action Item状态

**测试步骤**:
1. 在Action items表格中，点击刚创建的Action item的`编辑`按钮
2. 修改状态为：`进行中`
3. 点击`保存`

**预期结果**:
- ✅ 状态更新成功
- ✅ 表格显示更新后的状态标签

#### 用例2.9：删除回顾条目

**测试步骤**:
1. 在"做得好的"列表中，点击某个条目的`删除`按钮
2. 确认删除

**预期结果**:
- ✅ 条目删除成功
- ✅ 列表更新
- ✅ 关键指标更新

#### 用例2.10：查看PI总结

**测试步骤**:
1. 查看右侧`PI总结`卡片
2. 验证统计数据

**预期结果**:
- ✅ 显示完成率进度条
- ✅ 显示Feature完成统计
- ✅ 显示Story Points统计
- ✅ 显示平均速率
- ✅ 显示团队满意度星级

---

### 测试模块3：项目监控看板

#### 用例3.1：查看项目监控看板

**前置条件**:
- 已创建测试项目
- 已有Epic、Feature、PI数据

**测试步骤**:
1. 导航到项目详情页面
2. 点击`项目监控`按钮或访问：`/function/c0-project/monitor/{project-id}`

**预期结果**:
- ✅ 显示项目名称标签
- ✅ 显示4个关键指标卡片：
  - 项目进度（百分比+进度条）
  - 活跃风险（数量+状态提示）
  - 团队负载（百分比+描述）
  - 预算使用（百分比+剩余预算）
- ✅ 所有卡片数据正确显示

#### 用例3.2：查看Epic完成率

**测试步骤**:
1. 在项目监控看板页面
2. 查看`Epic完成率`饼图

**预期结果**:
- ✅ 显示环形饼图
- ✅ 图例显示：已完成/进行中/待开始
- ✅ 颜色编码：绿色/蓝色/灰色
- ✅ 悬停显示详细数据
- ✅ 数据与实际Epic状态一致

#### 用例3.3：查看Feature完成率

**测试步骤**:
1. 查看`Feature完成率`部分
2. 验证进度条和统计

**预期结果**:
- ✅ 显示大号进度条
- ✅ 显示数量标签（已完成/总数）
- ✅ 显示3个状态统计标签：
  - 待开始
  - 进行中
  - 已完成
- ✅ 数据与实际Feature状态一致

#### 用例3.4：查看团队效能表

**测试步骤**:
1. 查看`团队效能`表格
2. 验证所有团队数据

**预期结果**:
- ✅ 显示所有团队
- ✅ 每行显示：
  - 团队名称
  - 负载进度条（颜色编码：红/橙/绿）
  - 速率（SP/周）
  - 完成率（百分比）
  - 状态标签
- ✅ 负载超过90%显示红色（超载）
- ✅ 负载75-90%显示橙色（正常）
- ✅ 负载低于75%显示绿色（轻载）

#### 用例3.5：查看里程碑

**测试步骤**:
1. 查看`里程碑达成情况`时间线
2. 验证里程碑数量统计

**预期结果**:
- ✅ 显示时间线
- ✅ 每个里程碑显示：
  - 名称
  - 日期
  - 状态标识（已完成/进行中/待完成）
  - 描述
- ✅ 已完成的里程碑显示实心图标
- ✅ 未完成的里程碑显示空心图标
- ✅ 显示完成数量统计

#### 用例3.6：查看资源分配图

**测试步骤**:
1. 查看`资源分配`横向柱状图

**预期结果**:
- ✅ 显示4个资源类别：
  - 开发
  - 测试
  - 设计
  - 管理
- ✅ 每个柱子显示百分比标签
- ✅ 总和为100%

#### 用例3.7：查看风险汇总

**测试步骤**:
1. 查看`风险汇总`卡片
2. 点击`查看全部风险`链接

**预期结果**:
- ✅ 显示高中低风险统计
- ✅ 颜色编码：红/橙/绿
- ✅ 数字与风险管理页面一致
- ✅ 点击链接跳转到风险管理页面

#### 用例3.8：刷新监控数据

**测试步骤**:
1. 点击`刷新`按钮
2. 等待页面重新加载

**预期结果**:
- ✅ 页面重新加载
- ✅ 所有数据更新
- ✅ 图表重新渲染

---

## 🔄 综合测试场景

### 场景1：完整的风险管理流程

**测试步骤**:
1. 创建高优先级风险
2. 查看风险详情
3. 添加缓解措施
4. 开始缓解
5. 在项目监控看板中查看风险统计
6. 标记风险为已解决
7. 验证所有页面数据同步更新

**预期结果**:
- ✅ 数据在各页面保持一致
- ✅ 状态流转正常
- ✅ 统计数据实时更新

### 场景2：PI进度跟踪到回顾会议

**测试步骤**:
1. 查看PI进度跟踪
2. 分析燃尽图趋势
3. 查看团队进度
4. 识别风险和依赖
5. 进入PI回顾会议
6. 记录做得好的和待改进的
7. 创建改进行动项

**预期结果**:
- ✅ 流程流畅
- ✅ 数据关联正确
- ✅ 回顾内容完整

### 场景3：从项目监控到风险管理

**测试步骤**:
1. 在项目监控看板发现活跃风险较多
2. 点击查看全部风险
3. 进入风险管理页面
4. 筛选高优先级风险
5. 逐个处理风险
6. 返回项目监控看板
7. 验证风险统计更新

**预期结果**:
- ✅ 页面跳转正确
- ✅ 数据联动更新
- ✅ 筛选功能准确

---

## 📊 测试数据验证矩阵

### 风险管理

| 数据项 | 创建 | 读取 | 更新 | 删除 | 筛选 | 统计 |
|--------|------|------|------|------|------|------|
| 风险基本信息 | ✅ | ✅ | ✅ | ✅ | ✅ | ✅ |
| 风险评分 | ✅ | ✅ | - | - | - | ✅ |
| 风险状态 | ✅ | ✅ | ✅ | - | ✅ | ✅ |
| 缓解措施 | ✅ | ✅ | ✅ | - | - | - |
| 看板视图 | - | ✅ | - | - | ✅ | ✅ |
| 列表视图 | - | ✅ | - | - | ✅ | ✅ |

### PI进度跟踪

| 数据项 | 创建 | 读取 | 更新 | 删除 | 筛选 | 统计 |
|--------|------|------|------|------|------|------|
| PI基本信息 | - | ✅ | - | - | - | - |
| 关键指标 | - | ✅ | - | - | - | ✅ |
| 燃尽图 | - | ✅ | - | - | ✅ | ✅ |
| 团队进度 | - | ✅ | - | - | - | ✅ |
| 风险依赖 | - | ✅ | - | - | - | ✅ |
| 里程碑 | - | ✅ | - | - | - | ✅ |

### PI回顾会议

| 数据项 | 创建 | 读取 | 更新 | 删除 | 筛选 | 统计 |
|--------|------|------|------|------|------|------|
| What went well | ✅ | ✅ | - | ✅ | - | ✅ |
| To improve | ✅ | ✅ | - | ✅ | - | ✅ |
| Action items | ✅ | ✅ | ✅ | ✅ | - | ✅ |
| PI总结 | - | ✅ | - | - | - | ✅ |
| 参与人员 | - | ✅ | - | - | - | - |

### 项目监控

| 数据项 | 创建 | 读取 | 更新 | 删除 | 筛选 | 统计 |
|--------|------|------|------|------|------|------|
| 关键指标 | - | ✅ | - | - | - | ✅ |
| Epic完成率 | - | ✅ | - | - | - | ✅ |
| Feature完成率 | - | ✅ | - | - | - | ✅ |
| 团队效能 | - | ✅ | - | - | - | ✅ |
| 里程碑 | - | ✅ | - | - | - | ✅ |
| 资源分配 | - | ✅ | - | - | - | ✅ |
| 风险汇总 | - | ✅ | - | - | - | ✅ |

---

## ✅ 测试检查清单

### 功能完整性

- [ ] 风险管理页面所有功能正常
- [ ] 风险详情页面所有功能正常
- [ ] PI进度跟踪页面所有功能正常
- [ ] PI回顾会议页面所有功能正常
- [ ] 项目监控看板页面所有功能正常

### UI/UX检查

- [ ] 页面布局合理，无title和description冗余
- [ ] 操作空间最大化
- [ ] 所有按钮可点击
- [ ] 表单验证正确
- [ ] 加载状态显示
- [ ] 错误提示友好

### 数据一致性

- [ ] 统计数据准确
- [ ] 跨页面数据同步
- [ ] 状态流转正确
- [ ] 筛选结果准确

### 性能检查

- [ ] 页面加载速度<3秒
- [ ] 图表渲染流畅
- [ ] 大数据量不卡顿
- [ ] 视图切换顺畅

### 兼容性检查

- [ ] Chrome浏览器正常
- [ ] Firefox浏览器正常
- [ ] Safari浏览器正常
- [ ] 不同分辨率正常

---

## 🐛 缺陷记录模板

### 缺陷1: [标题]

**严重程度**: 严重/一般/轻微  
**优先级**: P0/P1/P2/P3  
**发现页面**: [页面路径]  
**复现步骤**:
1. ...
2. ...
3. ...

**实际结果**: ...  
**预期结果**: ...  
**截图/日志**: [附件]

---

## 📝 测试总结模板

### 测试执行情况

- 测试用例总数：`XX个`
- 执行用例数：`XX个`
- 通过用例数：`XX个`
- 失败用例数：`XX个`
- 通过率：`XX%`

### 发现问题统计

- 严重问题：`X个`
- 一般问题：`X个`
- 轻微问题：`X个`
- 建议优化：`X个`

### 测试结论

- [ ] 通过，可以发布
- [ ] 通过，有少量优化建议
- [ ] 不通过，需要修复问题

### 备注

[补充说明]

---

**测试指南版本**: v1.0  
**最后更新**: 2026-01-19  
**维护人员**: 测试团队
