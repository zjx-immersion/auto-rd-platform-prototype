# C4-F08: TaskçŠ¶æ€æµè½¬

> **åŠŸèƒ½ç¼–å·**: C4-F08  
> **åŠŸèƒ½åç§°**: TaskçŠ¶æ€æµè½¬  
> **æ‰€å±æ¨¡å—**: C4-è¿­ä»£æ‰§è¡Œ > Taskç®¡ç†  
> **ä¸»è¦ç”¨æˆ·**: DEV (å¼€å‘å·¥ç¨‹å¸ˆ)  
> **é¡µé¢ç±»å‹**: æ“ä½œé¡µ + çŠ¶æ€è§†å›¾

---

## ä¸€ã€åŠŸèƒ½æ¦‚è¿°

### 1.1 åŠŸèƒ½å®šä½

TaskçŠ¶æ€æµè½¬æ˜¯è¿­ä»£æ‰§è¡Œçš„æ ¸å¿ƒåŠŸèƒ½ï¼Œæ”¯æŒå¼€å‘äººå‘˜æµè½¬TaskçŠ¶æ€ï¼Œè·Ÿè¸ªä»»åŠ¡è¿›å±•ã€‚

### 1.2 æ ¸å¿ƒä»·å€¼

- **è¿›åº¦é€æ˜**: å®æ—¶åæ˜ Taskæ‰§è¡Œè¿›åº¦
- **æµç¨‹è§„èŒƒ**: å¼ºåˆ¶æ‰§è¡ŒçŠ¶æ€æµè½¬è§„åˆ™
- **åä½œé«˜æ•ˆ**: å›¢é˜Ÿæˆå‘˜å®æ—¶äº†è§£ä»»åŠ¡çŠ¶æ€
- **æ•°æ®å‡†ç¡®**: ä¸ºç‡ƒå°½å›¾ã€è¿›åº¦é¢„æµ‹æä¾›å‡†ç¡®æ•°æ®

### 1.3 ä¸šåŠ¡åœºæ™¯

| åœºæ™¯ | æè¿° | é¢‘ç‡ |
|------|------|------|
| å¼€å§‹ä»»åŠ¡ | DEVå¼€å§‹æ‰§è¡ŒTaskï¼ŒçŠ¶æ€ä»"å¾…åŠ"â†’"è¿›è¡Œä¸­" | æ¯å¤©å¤šæ¬¡ |
| æäº¤è¯„å®¡ | DEVå®Œæˆå¼€å‘ï¼ŒçŠ¶æ€ä»"è¿›è¡Œä¸­"â†’"è¯„å®¡ä¸­" | æ¯å¤©å¤šæ¬¡ |
| è¯„å®¡é€šè¿‡ | è¯„å®¡é€šè¿‡ï¼ŒçŠ¶æ€ä»"è¯„å®¡ä¸­"â†’"å·²å®Œæˆ" | æ¯å¤©å¤šæ¬¡ |
| è¯„å®¡é€€å› | è¯„å®¡ä¸é€šè¿‡ï¼ŒçŠ¶æ€ä»"è¯„å®¡ä¸­"â†’"è¿›è¡Œä¸­" | å¶å°” |
| é˜»å¡ä»»åŠ¡ | é‡åˆ°é˜»å¡ï¼ŒçŠ¶æ€ä»"è¿›è¡Œä¸­"â†’"å·²é˜»å¡" | å¶å°” |
| è§£é™¤é˜»å¡ | é˜»å¡è§£é™¤ï¼ŒçŠ¶æ€ä»"å·²é˜»å¡"â†’"è¿›è¡Œä¸­" | å¶å°” |

---

## äºŒã€é¡µé¢è®¾è®¡

### 2.1 é¡µé¢å¸ƒå±€

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ¯ TaskçŠ¶æ€æµè½¬                                    [å…³é—­ Ã—] â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚  Taskä¿¡æ¯                                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ TASK-1234: å®ç°æ‘„åƒå¤´æ•°æ®é‡‡é›†æ¥å£                     â”‚ â”‚
â”‚  â”‚ è´Ÿè´£äºº: å¼ ä¸‰ | ä¼°ç®—: 8h | å·²ç”¨: 5h | å‰©ä½™: 3h        â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                             â”‚
â”‚  å½“å‰çŠ¶æ€                                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  â¸ï¸  è¿›è¡Œä¸­                                            â”‚ â”‚
â”‚  â”‚  å¼€å§‹æ—¶é—´: 2025-01-15 09:00                           â”‚ â”‚
â”‚  â”‚  æŒç»­æ—¶é—´: 5å°æ—¶                                       â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                             â”‚
â”‚  çŠ¶æ€æµè½¬                                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  å¯æµè½¬çŠ¶æ€:                                           â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”‚ â”‚
â”‚  â”‚  â”‚ âœ… å®Œæˆ  â”‚  â”‚ ğŸš« é˜»å¡  â”‚  â”‚ â¸ï¸ æš‚åœ  â”‚           â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â”‚ â”‚
â”‚  â”‚                                                        â”‚ â”‚
â”‚  â”‚  æµè½¬è¯´æ˜: (å¿…å¡«)                                      â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚ â”‚
â”‚  â”‚  â”‚ å·²å®Œæˆæ¥å£å¼€å‘å’Œå•å…ƒæµ‹è¯•ï¼Œæäº¤ä»£ç è¯„å®¡         â”‚  â”‚ â”‚
â”‚  â”‚  â”‚                                                 â”‚  â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚ â”‚
â”‚  â”‚                                                        â”‚ â”‚
â”‚  â”‚  å·¥æ—¶ç™»è®°:                                             â”‚ â”‚
â”‚  â”‚  æœ¬æ¬¡å·¥æ—¶: [5] å°æ—¶                                   â”‚ â”‚
â”‚  â”‚  å‰©ä½™å·¥æ—¶: [3] å°æ—¶                                   â”‚ â”‚
â”‚  â”‚                                                        â”‚ â”‚
â”‚  â”‚  é™„ä»¶: (å¯é€‰)                                          â”‚ â”‚
â”‚  â”‚  ğŸ“ æ·»åŠ é™„ä»¶                                           â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                             â”‚
â”‚  çŠ¶æ€å†å²                                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ 2025-01-15 09:00  å¾…åŠ â†’ è¿›è¡Œä¸­  (å¼ ä¸‰)              â”‚ â”‚
â”‚  â”‚ è¯´æ˜: å¼€å§‹å¼€å‘                                         â”‚ â”‚
â”‚  â”‚                                                        â”‚ â”‚
â”‚  â”‚ 2025-01-14 14:00  åˆ›å»º â†’ å¾…åŠ  (æå››)                â”‚ â”‚
â”‚  â”‚ è¯´æ˜: ä»»åŠ¡åˆ›å»º                                         â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                             â”‚
â”‚                          [å–æ¶ˆ]  [ç¡®è®¤æµè½¬]                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2.2 çŠ¶æ€æµè½¬å›¾

```mermaid
stateDiagram-v2
    [*] --> å¾…åŠ: åˆ›å»ºTask
    å¾…åŠ --> è¿›è¡Œä¸­: å¼€å§‹
    è¿›è¡Œä¸­ --> è¯„å®¡ä¸­: æäº¤è¯„å®¡
    è¿›è¡Œä¸­ --> å·²é˜»å¡: é‡åˆ°é˜»å¡
    è¿›è¡Œä¸­ --> æš‚åœ: æš‚åœ
    è¯„å®¡ä¸­ --> å·²å®Œæˆ: è¯„å®¡é€šè¿‡
    è¯„å®¡ä¸­ --> è¿›è¡Œä¸­: è¯„å®¡é€€å›
    å·²é˜»å¡ --> è¿›è¡Œä¸­: è§£é™¤é˜»å¡
    æš‚åœ --> è¿›è¡Œä¸­: æ¢å¤
    å·²å®Œæˆ --> [*]
```

---

## ä¸‰ã€äº¤äº’è®¾è®¡

### 3.1 çŠ¶æ€æµè½¬è§„åˆ™

| å½“å‰çŠ¶æ€ | å¯æµè½¬çŠ¶æ€ | å¿…å¡«å­—æ®µ | æƒé™ |
|---------|-----------|---------|------|
| å¾…åŠ | è¿›è¡Œä¸­ | æµè½¬è¯´æ˜ | è´Ÿè´£äºº |
| è¿›è¡Œä¸­ | è¯„å®¡ä¸­ã€å·²é˜»å¡ã€æš‚åœ | æµè½¬è¯´æ˜ã€å·¥æ—¶ | è´Ÿè´£äºº |
| è¯„å®¡ä¸­ | å·²å®Œæˆã€è¿›è¡Œä¸­ | æµè½¬è¯´æ˜ | è´Ÿè´£äºº/è¯„å®¡äºº |
| å·²é˜»å¡ | è¿›è¡Œä¸­ | æµè½¬è¯´æ˜ã€é˜»å¡è§£å†³æ–¹æ¡ˆ | è´Ÿè´£äºº/DL |
| æš‚åœ | è¿›è¡Œä¸­ | æµè½¬è¯´æ˜ | è´Ÿè´£äºº |

### 3.2 æ“ä½œæµç¨‹

```mermaid
graph TB
    Start[é€‰æ‹©Task] --> Check{æ£€æŸ¥æƒé™}
    Check -->|æ— æƒé™| Error[æç¤ºæ— æƒé™]
    Check -->|æœ‰æƒé™| Show[æ˜¾ç¤ºå¯æµè½¬çŠ¶æ€]
    Show --> Select[é€‰æ‹©ç›®æ ‡çŠ¶æ€]
    Select --> Fill[å¡«å†™æµè½¬ä¿¡æ¯]
    Fill --> Validate{éªŒè¯å¿…å¡«é¡¹}
    Validate -->|ä¸å®Œæ•´| Fill
    Validate -->|å®Œæ•´| Confirm[ç¡®è®¤æµè½¬]
    Confirm --> Update[æ›´æ–°çŠ¶æ€]
    Update --> Notify[å‘é€é€šçŸ¥]
    Notify --> End[å®Œæˆ]
    
    style Start fill:#e3f2fd
    style Show fill:#fff3e0
    style Update fill:#e8f5e9
    style End fill:#f3e5f5
```

### 3.3 äº¤äº’ç»†èŠ‚

**çŠ¶æ€é€‰æ‹©**:
- åªæ˜¾ç¤ºå½“å‰çŠ¶æ€å¯æµè½¬çš„ç›®æ ‡çŠ¶æ€
- ä¸å¯æµè½¬çš„çŠ¶æ€ç½®ç°å¹¶æç¤ºåŸå› 
- ç‚¹å‡»çŠ¶æ€å¡ç‰‡é€‰ä¸­

**æµè½¬è¯´æ˜**:
- å¿…å¡«å­—æ®µï¼Œæœ€å°‘10ä¸ªå­—ç¬¦
- æ”¯æŒ@æåŠç›¸å…³äººå‘˜
- æ”¯æŒæ·»åŠ é™„ä»¶ï¼ˆæˆªå›¾ã€æ–‡æ¡£ï¼‰

**å·¥æ—¶ç™»è®°**:
- æµè½¬åˆ°"è¯„å®¡ä¸­"æˆ–"å·²å®Œæˆ"æ—¶å¿…å¡«
- è‡ªåŠ¨è®¡ç®—å‰©ä½™å·¥æ—¶
- æç¤ºå·¥æ—¶å¼‚å¸¸ï¼ˆè¶…å‡ºä¼°ç®—ï¼‰

---

## å››ã€æ•°æ®è®¾è®¡

### 4.1 çŠ¶æ€å®šä¹‰

```typescript
enum TaskStatus {
  TODO = 'TODO',           // å¾…åŠ
  IN_PROGRESS = 'IN_PROGRESS',  // è¿›è¡Œä¸­
  IN_REVIEW = 'IN_REVIEW',      // è¯„å®¡ä¸­
  BLOCKED = 'BLOCKED',          // å·²é˜»å¡
  ON_HOLD = 'ON_HOLD',          // æš‚åœ
  DONE = 'DONE'                 // å·²å®Œæˆ
}

interface TaskStatusTransition {
  id: string;
  taskId: string;
  fromStatus: TaskStatus;
  toStatus: TaskStatus;
  comment: string;          // æµè½¬è¯´æ˜
  timeSpent?: number;       // æœ¬æ¬¡å·¥æ—¶ï¼ˆå°æ—¶ï¼‰
  remainingTime?: number;   // å‰©ä½™å·¥æ—¶ï¼ˆå°æ—¶ï¼‰
  attachments?: string[];   // é™„ä»¶
  operator: string;         // æ“ä½œäºº
  operatedAt: Date;         // æ“ä½œæ—¶é—´
}
```

---

## äº”ã€Mockæ•°æ®

```json
{
  "task": {
    "id": "TASK-1234",
    "title": "å®ç°æ‘„åƒå¤´æ•°æ®é‡‡é›†æ¥å£",
    "assignee": "å¼ ä¸‰",
    "currentStatus": "IN_PROGRESS",
    "estimatedHours": 8,
    "spentHours": 5,
    "remainingHours": 3,
    "startedAt": "2025-01-15T09:00:00Z"
  },
  "availableTransitions": [
    {
      "targetStatus": "IN_REVIEW",
      "label": "æäº¤è¯„å®¡",
      "icon": "âœ…",
      "requiresComment": true,
      "requiresTimeLog": true
    },
    {
      "targetStatus": "BLOCKED",
      "label": "æ ‡è®°é˜»å¡",
      "icon": "ğŸš«",
      "requiresComment": true,
      "requiresTimeLog": false
    },
    {
      "targetStatus": "ON_HOLD",
      "label": "æš‚åœ",
      "icon": "â¸ï¸",
      "requiresComment": true,
      "requiresTimeLog": false
    }
  ],
  "statusHistory": [
    {
      "fromStatus": "TODO",
      "toStatus": "IN_PROGRESS",
      "comment": "å¼€å§‹å¼€å‘",
      "operator": "å¼ ä¸‰",
      "operatedAt": "2025-01-15T09:00:00Z"
    },
    {
      "fromStatus": null,
      "toStatus": "TODO",
      "comment": "ä»»åŠ¡åˆ›å»º",
      "operator": "æå››",
      "operatedAt": "2025-01-14T14:00:00Z"
    }
  ]
}
```

---

**è®¾è®¡å®Œæˆæ—¥æœŸ**: 2025-01-15  
**è®¾è®¡äºº**: Auto-RDå¹³å°è®¾è®¡ç»„  
**å®¡æ ¸çŠ¶æ€**: å¾…å®¡æ ¸

