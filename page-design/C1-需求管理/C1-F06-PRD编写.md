# C1-F06: PRD编写

> **功能编号**: C1-F06  
> **功能名称**: PRD编写 (Product Requirements Document)  
> **所属模块**: C1-需求管理  
> **所属流程**: P2-特性设计流程 (步骤2)  
> **优先级**: P0 (核心功能)  
> **设计日期**: 2025-01-15

---

## 一、功能概述

### 1.1 功能定位

PRD编写是特性设计流程（P2）的第二步，负责将Feature转化为详细的产品需求规格说明书。

### 1.2 核心价值

- ✅ 将Feature转化为可执行的产品需求
- ✅ 明确功能需求和非功能需求
- ✅ 定义验收标准
- ✅ 支撑后续SSTS拆解
- ✅ 符合ASPICE标准

### 1.3 需求流转

```
Epic → Feature → PRD → SSTS → MR
        ↑        ↑
      P2步骤1  P2步骤2 (当前)
```

### 1.4 用户角色

- **主要用户**: PO (Product Owner)、PM (Product Manager)
- **次要用户**: 系统工程师、架构师
- **评审用户**: 技术负责人、测试负责人

---

## 二、页面设计

### 2.1 PRD编写主页面

```
┌─────────────────────────────────────────────────────────────────────────────┐
│ P2: 特性设计流程 > 步骤2: PRD编写                                            │
│ 需求层级: 🔶 Feature层 → 📄 PRD                                              │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│  ┌───────────────────────────────────────────────────────────────────────┐ │
│  │ 需求流转路径                                                           │ │
│  │ Epic: E001-智能驾驶系统 → Feature: F001-自动泊车功能 → PRD-F001       │ │
│  └───────────────────────────────────────────────────────────────────────┘ │
│                                                                             │
│  ┌───────────────────────────────────────────────────────────────────────┐ │
│  │ Feature信息                                                            │ │
│  │ ┌─────────────────────────────────────────────────────────────────┐  │ │
│  │ │ Feature ID: F001                                                 │  │ │
│  │ │ Feature名称: 自动泊车功能                                        │  │ │
│  │ │ Feature描述: 实现自动识别车位、自动泊车入位的功能                │  │ │
│  │ │ 所属Epic: E001-智能驾驶系统                                      │  │ │
│  │ └─────────────────────────────────────────────────────────────────┘  │ │
│  └───────────────────────────────────────────────────────────────────────┘ │
│                                                                             │
│  ┌───────────────────────────────────────────────────────────────────────┐ │
│  │ PRD编写 (产品需求规格说明书)                    [使用模板 ▼] [AI辅助] │ │
│  │                                                                       │ │
│  │ 1. 产品概述 *                                                          │ │
│  │ ┌─────────────────────────────────────────────────────────────────┐  │ │
│  │ │ 自动泊车功能是智能驾驶系统的核心功能之一，旨在解决用户在狭窄    │  │ │
│  │ │ 空间泊车困难的痛点，提升驾驶便利性和安全性。                    │  │ │
│  │ │                                                                  │  │ │
│  │ │ 目标用户: 城市驾驶者，尤其是新手驾驶员                           │  │ │
│  │ │ 使用场景: 停车场、路边停车                                       │  │ │
│  │ └─────────────────────────────────────────────────────────────────┘  │ │
│  │                                                                       │ │
│  │ 2. 用户场景 *                                                          │ │
│  │ ┌─────────────────────────────────────────────────────────────────┐  │ │
│  │ │ 场景1: 垂直车位泊车                                              │  │ │
│  │ │ - 用户驾驶车辆进入停车场                                         │  │ │
│  │ │ - 系统自动识别可用垂直车位                                       │  │ │
│  │ │ - 用户确认后，系统自动完成泊车                                   │  │ │
│  │ │                                                                  │  │ │
│  │ │ 场景2: 平行车位泊车                                              │  │ │
│  │ │ - 用户驾驶车辆在路边寻找车位                                     │  │ │
│  │ │ - 系统自动识别可用平行车位                                       │  │ │
│  │ │ - 用户确认后，系统自动完成泊车                                   │  │ │
│  │ │                                                                  │  │ │
│  │ │ [+ 添加场景]                                                     │  │ │
│  │ └─────────────────────────────────────────────────────────────────┘  │ │
│  │                                                                       │ │
│  │ 3. 功能需求 (Functional Requirements) *                                │ │
│  │ ┌─────────────────────────────────────────────────────────────────┐  │ │
│  │ │ FR-001: 车位识别                                    [编辑] [删除] │  │ │
│  │ │ - 系统应能识别垂直车位和平行车位                                 │  │ │
│  │ │ - 识别准确率应≥95%                                               │  │ │
│  │ │ - 识别距离应≥10米                                                │  │ │
│  │ │                                                                  │  │ │
│  │ │ FR-002: 自动泊车                                    [编辑] [删除] │  │ │
│  │ │ - 系统应能自动控制方向盘、油门、刹车完成泊车                     │  │ │
│  │ │ - 泊车成功率应≥90%                                               │  │ │
│  │ │ - 泊车时间应≤60秒                                                │  │ │
│  │ │                                                                  │  │ │
│  │ │ FR-003: 安全监控                                    [编辑] [删除] │  │ │
│  │ │ - 系统应实时监控周围环境，遇到障碍物自动停车                     │  │ │
│  │ │ - 响应时间应≤100ms                                               │  │ │
│  │ │ - 支持360度环视监控                                              │  │ │
│  │ │                                                                  │  │ │
│  │ │ [+ 添加功能需求]                                                 │  │ │
│  │ └─────────────────────────────────────────────────────────────────┘  │ │
│  │                                                                       │ │
│  │ 4. 非功能需求 (Non-Functional Requirements) *                          │ │
│  │ ┌─────────────────────────────────────────────────────────────────┐  │ │
│  │ │ NFR-001: 性能要求                                   [编辑] [删除] │  │ │
│  │ │ - 车位识别响应时间≤2s                                            │  │ │
│  │ │ - 泊车完成时间≤60s                                               │  │ │
│  │ │ - 系统延迟≤100ms                                                 │  │ │
│  │ │                                                                  │  │ │
│  │ │ NFR-002: 安全要求                                   [编辑] [删除] │  │ │
│  │ │ - 符合ISO 26262 ASIL-B安全等级                                   │  │ │
│  │ │ - 故障检测覆盖率≥95%                                             │  │ │
│  │ │ - 支持故障安全模式                                               │  │ │
│  │ │                                                                  │  │ │
│  │ │ NFR-003: 可靠性要求                                 [编辑] [删除] │  │ │
│  │ │ - MTBF (平均故障间隔时间) ≥10000小时                             │  │ │
│  │ │ - 系统可用性≥99.9%                                               │  │ │
│  │ │                                                                  │  │ │
│  │ │ [+ 添加非功能需求]                                               │  │ │
│  │ └─────────────────────────────────────────────────────────────────┘  │ │
│  │                                                                       │ │
│  │ 5. 验收标准 (Acceptance Criteria) *                                    │ │
│  │ ┌─────────────────────────────────────────────────────────────────┐  │ │
│  │ │ AC-001: 车位识别准确率≥95%                          [编辑] [删除] │  │ │
│  │ │ AC-002: 泊车成功率≥90%                              [编辑] [删除] │  │ │
│  │ │ AC-003: 安全监控响应时间≤100ms                      [编辑] [删除] │  │ │
│  │ │ AC-004: 通过ISO 26262 ASIL-B认证                    [编辑] [删除] │  │ │
│  │ │ AC-005: 用户满意度≥85%                              [编辑] [删除] │  │ │
│  │ │                                                                  │  │ │
│  │ │ [+ 添加验收标准]                                                 │  │ │
│  │ └─────────────────────────────────────────────────────────────────┘  │ │
│  │                                                                       │ │
│  │ 6. 约束条件                                                            │ │
│  │ ┌─────────────────────────────────────────────────────────────────┐  │ │
│  │ │ - 必须兼容现有车辆平台                                           │  │ │
│  │ │ - 必须符合国家法规要求                                           │  │ │
│  │ │ - 开发周期不超过6个月                                            │  │ │
│  │ │ - 成本控制在预算范围内                                           │  │ │
│  │ └─────────────────────────────────────────────────────────────────┘  │ │
│  │                                                                       │ │
│  │ [保存草稿] [提交评审] [导出PRD]                                       │ │
│  └───────────────────────────────────────────────────────────────────────┘ │
│                                                                             │
│  ┌───────────────────────────────────────────────────────────────────────┐ │
│  │ [← 上一步: Feature拆解] [下一步: SSTS拆解 →]                           │ │
│  └───────────────────────────────────────────────────────────────────────┘ │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘
```

---

## 三、PRD模板章节

### 3.1 标准PRD模板

| 章节 | 是否必填 | 说明 |
|-----|---------|------|
| 1. 产品概述 | 是 | 产品背景、目标用户、使用场景 |
| 2. 用户场景 | 是 | 详细的用户使用场景描述 |
| 3. 功能需求 (FR) | 是 | 系统应具备的功能 |
| 4. 非功能需求 (NFR) | 是 | 性能、安全、可靠性等要求 |
| 5. 验收标准 (AC) | 是 | 可量化的验收标准 |
| 6. 约束条件 | 否 | 技术、法规、成本等约束 |

### 3.2 功能需求编号规则

```
FR-XXX: 功能需求
  ├─ FR-001: 第一个功能需求
  ├─ FR-002: 第二个功能需求
  └─ ...
```

### 3.3 非功能需求编号规则

```
NFR-XXX: 非功能需求
  ├─ NFR-001: 性能要求
  ├─ NFR-002: 安全要求
  ├─ NFR-003: 可靠性要求
  └─ ...
```

### 3.4 验收标准编号规则

```
AC-XXX: 验收标准
  ├─ AC-001: 第一个验收标准
  ├─ AC-002: 第二个验收标准
  └─ ...
```

---

## 四、字段说明

### 4.1 PRD基本信息

| 字段名称 | 字段类型 | 是否必填 | 说明 |
|---------|---------|---------|------|
| prd_id | String | 自动生成 | PRD唯一标识 |
| feature_id | String | 是 | 关联的Feature ID |
| prd_version | String | 自动 | PRD版本号 |
| status | Enum | 自动 | Draft/Review/Approved |

### 4.2 功能需求 (FR)

| 字段名称 | 字段类型 | 是否必填 | 说明 |
|---------|---------|---------|------|
| fr_id | String | 自动生成 | 功能需求ID |
| fr_description | Text | 是 | 功能需求描述 |
| fr_priority | Enum | 是 | Must/Should/Could/Won't |

### 4.3 非功能需求 (NFR)

| 字段名称 | 字段类型 | 是否必填 | 说明 |
|---------|---------|---------|------|
| nfr_id | String | 自动生成 | 非功能需求ID |
| nfr_type | Enum | 是 | Performance/Security/Reliability |
| nfr_description | Text | 是 | 非功能需求描述 |

### 4.4 验收标准 (AC)

| 字段名称 | 字段类型 | 是否必填 | 说明 |
|---------|---------|---------|------|
| ac_id | String | 自动生成 | 验收标准ID |
| ac_description | Text | 是 | 验收标准描述 |
| ac_measurable | Boolean | 是 | 是否可量化 |

---

## 五、业务规则

### 5.1 PRD编写规则

1. **一个Feature对应一个PRD**
2. **至少包含3个功能需求 (FR)**
3. **至少包含3个验收标准 (AC)**
4. **验收标准必须可量化**
5. **非功能需求应覆盖性能、安全、可靠性**

### 5.2 PRD评审规则

1. **草稿状态 (Draft)**: 可编辑
2. **评审中 (Review)**: 只读，等待评审
3. **已批准 (Approved)**: 只读，可进入下一步

### 5.3 PRD版本管理

```
V1.0 → V1.1 → V1.2 → V2.0
```

- 小版本更新: 内容修订
- 大版本更新: 重大变更

---

**下一步**: 继续设计 [C1-F07-SSTS拆解.md](./C1-F07-SSTS拆解.md)

