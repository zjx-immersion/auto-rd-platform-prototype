# C3-F03: Sprint看板

> **功能编号**: C3-F03  
> **功能名称**: Sprint看板  
> **主要用户**: DL（开发负责人）、DEV（开发工程师）、Scrum Master  
> **页面类型**: 看板页  
> **优先级**: P0  
> **价值流阶段**: S5-迭代开发

---

## 一、功能概述

### 1.1 功能描述
提供可视化的Sprint执行看板，展示任务状态流转，支持拖拽更新任务状态，实时跟踪Sprint进度，支持Daily Standup会议。

### 1.2 业务价值
- 可视化Sprint执行进度
- 实时跟踪任务状态
- 识别阻塞和瓶颈
- 支撑Daily Standup会议
- 提升团队协作效率

### 1.3 使用场景
- Daily Standup会议时查看进度
- 开发人员更新任务状态
- Scrum Master监控Sprint进度
- 识别和解决阻塞问题
- 查看团队工作负载

### 1.4 看板方法说明

**看板（Kanban）**:
- 可视化工作流
- 限制在制品（WIP）
- 管理流动
- 持续改进

**典型看板列**:
```
待办 → 进行中 → 代码审查 → 测试中 → 已完成
```

---

## 二、页面布局

### 2.1 Sprint看板页

```
┌─────────────────────────────────────────────────────────────────────────────────────────────────────────┐
│ 面包屑: 首页 > 项目管理 > PRJ-2025-001 > PI-1 > Sprint 1 > Sprint看板                                  │
├─────────────────────────────────────────────────────────────────────────────────────────────────────────┤
│ Sprint 1: 核心功能开发第一个迭代                                                                        │
│ 📅 2025-02-01 ~ 2025-02-14 (剩余8天)  👥 ADAS团队  📊 进度: 45%  ⚡ 速率: 18/40 Story点              │
│                                                                                                         │
│ [刷新] [筛选▼] [分组▼] [燃尽图] [Daily Standup] [导出]                                                │
├─────────────────────────────────────────────────────────────────────────────────────────────────────────┤
│                                                                                                         │
│ ┌─────────────────────────────────────────────────────────────────────────────────────────────────────┐ │
│ │ Sprint概览                                                                                          │ │
│ │ ┌─────────────────────────────────────────────────────────────────────────────────────────────────┐ │ │
│ │ │ Story点: 18/40 (45%)  |  任务: 12/32 (38%)  |  工时: 17/38人天 (45%)  |  缺陷: 2个 (1严重)    │ │ │
│ │ │ ████████████████████░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░ │ │ │
│ │ │                                                                                                 │ │ │
│ │ │ 🎯 Sprint目标达成度: 45%  |  ⚠️ 风险: 1个高风险  |  🚧 阻塞: 2个任务                          │ │ │
│ │ └─────────────────────────────────────────────────────────────────────────────────────────────────┘ │ │
│ └─────────────────────────────────────────────────────────────────────────────────────────────────────┘ │
│                                                                                                         │
│ ┌──────────┬──────────┬──────────┬──────────┬──────────┬──────────┐                                    │
│ │ 待办     │ 进行中   │ 代码审查 │ 测试中   │ 已完成   │ 已阻塞   │                                    │
│ │ TODO     │ IN PROG  │ REVIEW   │ TESTING  │ DONE     │ BLOCKED  │                                    │
│ │ 15个任务 │ 8个任务  │ 4个任务  │ 3个任务  │ 12个任务 │ 2个任务  │                                    │
│ │ WIP: -   │ WIP: 8/10│ WIP: 4/5 │ WIP: 3/5 │ WIP: -   │ WIP: -   │                                    │
│ ├──────────┼──────────┼──────────┼──────────┼──────────┼──────────┤                                    │
│ │          │          │          │          │          │          │                                    │
│ │ ┌──────┐ │ ┌──────┐ │ ┌──────┐ │ ┌──────┐ │ ┌──────┐ │ ┌──────┐ │                                    │
│ │ │🔴T-01│ │ │🔴T-05│ │ │🟡T-09│ │ │🟡T-13│ │ │🟢T-17│ │ │🔴T-33│ │                                    │
│ │ │车道保│ │ │自适应│ │ │车道线│ │ │障碍物│ │ │单元测│ │ │紧急制│ │                                    │
│ │ │持算法│ │ │巡航控│ │ │识别优│ │ │检测算│ │ │试框架│ │ │动系统│ │                                    │
│ │ │开发  │ │ │制开发│ │ │化    │ │ │法测试│ │ │搭建  │ │ │开发  │ │                                    │
│ │ │      │ │ │      │ │ │      │ │ │      │ │ │      │ │ │      │ │                                    │
│ │ │👤王芳│ │ │👤刘强│ │ │👤赵磊│ │ │👤陈静│ │ │👤陈静│ │ │👤王芳│ │                                    │
│ │ │⏱5天  │ │ │⏱8天  │ │ │⏱3天  │ │ │⏱2天  │ │ │⏱2天  │ │ │⏱8天  │ │                                    │
│ │ │📊8点 │ │ │📊13点│ │ │📊5点 │ │ │📊3点 │ │ │📊3点 │ │ │📊13点│ │                                    │
│ │ │      │ │ │      │ │ │      │ │ │      │ │ │✅完成│ │ │🚧阻塞│ │                                    │
│ │ │[详情]│ │ │[详情]│ │ │[详情]│ │ │[详情]│ │ │[详情]│ │ │[详情]│ │                                    │
│ │ └──────┘ │ └──────┘ │ └──────┘ │ └──────┘ │ └──────┘ │ └──────┘ │                                    │
│ │          │          │          │          │          │          │                                    │
│ │ ┌──────┐ │ ┌──────┐ │ ┌──────┐ │ ┌──────┐ │ ┌──────┐ │ ┌──────┐ │                                    │
│ │ │🔴T-02│ │ │🔴T-06│ │ │🟡T-10│ │ │🟡T-14│ │ │🟢T-18│ │ │🟡T-34│ │                                    │
│ │ │车道保│ │ │自适应│ │ │车道线│ │ │障碍物│ │ │集成测│ │ │性能优│ │                                    │
│ │ │持单元│ │ │巡航单│ │ │识别单│ │ │检测单│ │ │试用例│ │ │化    │ │                                    │
│ │ │测试  │ │ │元测试│ │ │元测试│ │ │元测试│ │ │编写  │ │ │      │ │                                    │
│ │ │      │ │ │      │ │ │      │ │ │      │ │ │      │ │ │      │ │                                    │
│ │ │👤陈静│ │ │👤陈静│ │ │👤赵磊│ │ │👤陈静│ │ │👤陈静│ │ │👤刘强│ │                                    │
│ │ │⏱2天  │ │ │⏱3天  │ │ │⏱1天  │ │ │⏱1天  │ │ │⏱2天  │ │ │⏱3天  │ │                                    │
│ │ │📊3点 │ │ │📊5点 │ │ │📊2点 │ │ │📊2点 │ │ │📊2点 │ │ │📊5点 │ │                                    │
│ │ │      │ │ │      │ │ │      │ │ │      │ │ │✅完成│ │ │🚧阻塞│ │                                    │
│ │ │[详情]│ │ │[详情]│ │ │[详情]│ │ │[详情]│ │ │[详情]│ │ │[详情]│ │                                    │
│ │ └──────┘ │ └──────┘ │ └──────┘ │ └──────┘ │ └──────┘ │ └──────┘ │                                    │
│ │          │          │          │          │          │          │                                    │
│ │ ┌──────┐ │ ┌──────┐ │ ┌──────┐ │ ┌──────┐ │ ┌──────┐ │          │                                    │
│ │ │🔴T-03│ │ │🟡T-07│ │ │🟡T-11│ │ │🟢T-15│ │ │🟢T-19│ │          │                                    │
│ │ │车道保│ │ │障碍物│ │ │车道线│ │ │代码审│ │ │性能测│ │          │                                    │
│ │ │持集成│ │ │检测算│ │ │识别集│ │ │查流程│ │ │试环境│ │          │                                    │
│ │ │测试  │ │ │法开发│ │ │成测试│ │ │优化  │ │ │搭建  │ │          │                                    │
│ │ │      │ │ │      │ │ │      │ │ │      │ │ │      │ │          │                                    │
│ │ │👤陈静│ │ │👤王芳│ │ │👤赵磊│ │ │👤张伟│ │ │👤刘强│ │          │                                    │
│ │ │⏱2天  │ │ │⏱5天  │ │ │⏱1天  │ │ │⏱1天  │ │ │⏱2天  │ │          │                                    │
│ │ │📊2点 │ │ │📊8点 │ │ │📊1点 │ │ │📊1点 │ │ │📊2点 │ │          │                                    │
│ │ │      │ │ │      │ │ │      │ │ │      │ │ │✅完成│ │          │                                    │
│ │ │[详情]│ │ │[详情]│ │ │[详情]│ │ │[详情]│ │ │[详情]│ │          │                                    │
│ │ └──────┘ │ └──────┘ │ └──────┘ │ └──────┘ │ └──────┘ │          │                                    │
│ │          │          │          │          │          │          │                                    │
│ │ ┌──────┐ │ ┌──────┐ │ ┌──────┐ │          │ ┌──────┐ │          │                                    │
│ │ │🔴T-04│ │ │🟡T-08│ │ │🟢T-12│ │          │ │🟢T-20│ │          │                                    │
│ │ │...   │ │ │...   │ │ │...   │ │          │ │...   │ │          │                                    │
│ │ └──────┘ │ └──────┘ │ └──────┘ │          │ └──────┘ │          │                                    │
│ │          │          │          │          │          │          │                                    │
│ │ +11个... │ +4个...  │ +1个...  │          │ +8个...  │          │                                    │
│ │          │          │          │          │          │          │                                    │
│ └──────────┴──────────┴──────────┴──────────┴──────────┴──────────┘                                    │
│                                                                                                         │
│ ┌─────────────────────────────────────────────────────────────────────────────────────────────────────┐ │
│ │ 团队成员工作负载                                                                                    │ │
│ │ ┌─────────────────────────────────────────────────────────────────────────────────────────────────┐ │ │
│ │ │ 👤 王芳:  ████████████████████░░░░░░░░░░░░░░░░░░░░  3个任务, 21点, 18人天 (90%)  ⚠️ 负载高    │ │ │
│ │ │ 👤 刘强:  ████████████████░░░░░░░░░░░░░░░░░░░░░░░░  2个任务, 18点, 13人天 (65%)  ✅ 正常      │ │ │
│ │ │ 👤 赵磊:  ████████████░░░░░░░░░░░░░░░░░░░░░░░░░░░░  2个任务, 8点, 7人天 (35%)   💡 负载低     │ │ │
│ │ │ 👤 陈静:  ████████████████████████░░░░░░░░░░░░░░░░  4个任务, 13点, 10人天 (50%)  ✅ 正常      │ │ │
│ │ │ 👤 张伟:  ████░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░  1个任务, 1点, 1人天 (5%)    💡 负载低     │ │ │
│ │ └─────────────────────────────────────────────────────────────────────────────────────────────────┘ │ │
│ └─────────────────────────────────────────────────────────────────────────────────────────────────────┘ │
│                                                                                                         │
│ ┌─────────────────────────────────────────────────────────────────────────────────────────────────────┐ │
│ │ 阻塞和风险                                                                                          │ │
│ │ ┌─────────────────────────────────────────────────────────────────────────────────────────────────┐ │ │
│ │ │ 🚧 T-33: 紧急制动系统开发 - 阻塞原因: 等待硬件设备到货  |  阻塞时长: 2天  |  负责人: 王芳      │ │ │
│ │ │ 🚧 T-34: 性能优化 - 阻塞原因: 依赖T-33完成  |  阻塞时长: 2天  |  负责人: 刘强                  │ │ │
│ │ │ ⚠️ 风险: Sprint进度落后，建议调整范围或增加资源                                               │ │ │
│ │ └─────────────────────────────────────────────────────────────────────────────────────────────────┘ │ │
│ └─────────────────────────────────────────────────────────────────────────────────────────────────────┘ │
│                                                                                                         │
├─────────────────────────────────────────────────────────────────────────────────────────────────────────┤
│ [Daily Standup记录]  [添加任务]  [批量操作]                                                            │
└─────────────────────────────────────────────────────────────────────────────────────────────────────────┘
```

### 2.2 任务卡片详情弹窗

```
┌─────────────────────────────────────────────────────────────┐
│ 任务详情: T-05 自适应巡航控制开发                    [×]    │
├─────────────────────────────────────────────────────────────┤
│                                                             │
│ 基本信息                                                    │
│ ┌─────────────────────────────────────────────────────────┐ │
│ │ 任务编号: T-05                                          │ │
│ │ 任务名称: 自适应巡航控制开发                            │ │
│ │ 所属MR: MR-002 自适应巡航控制开发                       │ │
│ │ 优先级: 🔴 P0                                           │ │
│ │ Story点: 13点                                           │ │
│ │ 预估工时: 8人天                                         │ │
│ │ 实际工时: 4人天                                         │ │
│ │ 负责人: 刘强                                            │ │
│ │ 状态: 进行中                                            │ │
│ │ 进度: 50%                                               │ │
│ └─────────────────────────────────────────────────────────┘ │
│                                                             │
│ 任务描述                                                    │
│ ┌─────────────────────────────────────────────────────────┐ │
│ │ 实现自适应巡航控制（ACC）功能，包括：                   │ │
│ │ 1. 前车距离检测算法                                     │ │
│ │ 2. 速度自动调节逻辑                                     │ │
│ │ 3. 安全距离保持算法                                     │ │
│ │ 4. 紧急制动触发机制                                     │ │
│ └─────────────────────────────────────────────────────────┘ │
│                                                             │
│ 验收标准                                                    │
│ ┌─────────────────────────────────────────────────────────┐ │
│ │ ☑ 前车距离检测精度达到±0.5m                             │ │
│ │ ☑ 速度调节响应时间<100ms                                │ │
│ │ ☐ 安全距离保持准确率>95%                                │ │
│ │ ☐ 通过所有单元测试                                      │ │
│ │ ☐ 代码覆盖率>80%                                        │ │
│ └─────────────────────────────────────────────────────────┘ │
│                                                             │
│ 依赖关系                                                    │
│ ┌─────────────────────────────────────────────────────────┐ │
│ │ 依赖: T-01 车道保持算法开发 (已完成)                    │ │
│ │ 被依赖: T-06 自适应巡航单元测试 (进行中)                │ │
│ └─────────────────────────────────────────────────────────┘ │
│                                                             │
│ 工作日志                                                    │
│ ┌─────────────────────────────────────────────────────────┐ │
│ │ 2025-02-05 10:00 - 刘强                                 │ │
│ │ 完成前车距离检测算法，测试通过                          │ │
│ │ 工时: 4小时                                             │ │
│ │                                                         │ │
│ │ 2025-02-04 14:00 - 刘强                                 │ │
│ │ 完成速度调节逻辑，待测试                                │ │
│ │ 工时: 6小时                                             │ │
│ │                                                         │ │
│ │ [添加工作日志]                                          │ │
│ └─────────────────────────────────────────────────────────┘ │
│                                                             │
│ 附件                                                        │
│ ┌─────────────────────────────────────────────────────────┐ │
│ │ 📄 ACC算法设计文档.pdf                                  │ │
│ │ 📄 测试报告.xlsx                                        │ │
│ │ [上传附件]                                              │ │
│ └─────────────────────────────────────────────────────────┘ │
│                                                             │
├─────────────────────────────────────────────────────────────┤
│ [关闭]  [更新状态]  [添加评论]  [标记阻塞]                 │
└─────────────────────────────────────────────────────────────┘
```

### 2.3 燃尽图页面

```
┌─────────────────────────────────────────────────────────────────────────────────────────┐
│ Sprint 1 燃尽图                                                              [返回看板]  │
├─────────────────────────────────────────────────────────────────────────────────────────┤
│                                                                                         │
│ ┌─────────────────────────────────────────────────────────────────────────────────────┐ │
│ │ Story点燃尽图                                                                       │ │
│ │                                                                                     │ │
│ │ 40 ┤                                                                                │ │
│ │    │ ●                                                                              │ │
│ │ 35 ┤   ╲                                                                            │ │
│ │    │     ●                                                                          │ │
│ │ 30 ┤       ╲                                                                        │ │
│ │    │         ●                                                                      │ │
│ │ 25 ┤           ╲                                                                    │ │
│ │    │             ●                                                                  │ │
│ │ 20 ┤               ╲                                                                │ │
│ │    │                 ◆ (实际)                                                       │ │
│ │ 15 ┤                   ╲                                                            │ │
│ │    │                     ●                                                          │ │
│ │ 10 ┤                       ╲                                                        │ │
│ │    │                         ●                                                      │ │
│ │  5 ┤                           ╲                                                    │ │
│ │    │                             ●                                                  │ │
│ │  0 ┤───────────────────────────────●                                               │ │
│ │    └─────┬─────┬─────┬─────┬─────┬─────┬─────┬─────┬─────┬─────┐                  │ │
│ │         D1    D2    D3    D4    D5    D6    D7    D8    D9   D10                  │ │
│ │                                                                                     │ │
│ │ ● 理想燃尽线  ◆ 实际燃尽线                                                         │ │
│ │                                                                                     │ │
│ │ 📊 当前剩余: 22 Story点  |  预计完成: 2025-02-16 (延期2天)  |  ⚠️ 进度落后        │ │
│ └─────────────────────────────────────────────────────────────────────────────────────┘ │
│                                                                                         │
│ ┌─────────────────────────────────────────────────────────────────────────────────────┐ │
│ │ 任务燃尽图                                                                          │ │
│ │                                                                                     │ │
│ │ 32 ┤                                                                                │ │
│ │    │ ●                                                                              │ │
│ │ 28 ┤   ╲                                                                            │ │
│ │    │     ●                                                                          │ │
│ │ 24 ┤       ╲                                                                        │ │
│ │    │         ●                                                                      │ │
│ │ 20 ┤           ╲                                                                    │ │
│ │    │             ◆ (实际)                                                           │ │
│ │ 16 ┤               ╲                                                                │ │
│ │    │                 ●                                                              │ │
│ │ 12 ┤                   ╲                                                            │ │
│ │    │                     ●                                                          │ │
│ │  8 ┤                       ╲                                                        │ │
│ │    │                         ●                                                      │ │
│ │  4 ┤                           ╲                                                    │ │
│ │    │                             ●                                                  │ │
│ │  0 ┤───────────────────────────────●                                               │ │
│ │    └─────┬─────┬─────┬─────┬─────┬─────┬─────┬─────┬─────┬─────┐                  │ │
│ │         D1    D2    D3    D4    D5    D6    D7    D8    D9   D10                  │ │
│ │                                                                                     │ │
│ │ 📊 当前剩余: 20个任务  |  完成率: 38%  |  ✅ 进度正常                               │ │
│ └─────────────────────────────────────────────────────────────────────────────────────┘ │
│                                                                                         │
├─────────────────────────────────────────────────────────────────────────────────────────┤
│ [导出图表]  [打印]                                                                      │
└─────────────────────────────────────────────────────────────────────────────────────────┘
```

### 2.4 Daily Standup页面

```
┌─────────────────────────────────────────────────────────────────────────────────────────┐
│ Daily Standup - 2025-02-05                                                   [返回看板]  │
├─────────────────────────────────────────────────────────────────────────────────────────┤
│                                                                                         │
│ ┌─────────────────────────────────────────────────────────────────────────────────────┐ │
│ │ 会议信息                                                                            │ │
│ │ 📅 日期: 2025-02-05  ⏰ 时间: 09:30-09:45  👥 参与人员: 5人                        │ │
│ └─────────────────────────────────────────────────────────────────────────────────────┘ │
│                                                                                         │
│ ┌─────────────────────────────────────────────────────────────────────────────────────┐ │
│ │ 👤 王芳                                                                             │ │
│ │ ┌─────────────────────────────────────────────────────────────────────────────────┐ │ │
│ │ │ ✅ 昨天完成:                                                                    │ │ │
│ │ │ - 完成车道保持算法开发                                                          │ │ │
│ │ │ - 通过单元测试                                                                  │ │ │
│ │ │                                                                                 │ │ │
│ │ │ 📋 今天计划:                                                                    │ │ │
│ │ │ - 开始障碍物检测算法开发                                                        │ │ │
│ │ │ - 完成算法设计文档                                                              │ │ │
│ │ │                                                                                 │ │ │
│ │ │ 🚧 遇到的问题:                                                                  │ │ │
│ │ │ - 紧急制动系统开发被阻塞，等待硬件设备到货                                      │ │ │
│ │ │                                                                                 │ │ │
│ │ │ 💡 需要的帮助:                                                                  │ │ │
│ │ │ - 请PM协调硬件设备尽快到货                                                      │ │ │
│ │ └─────────────────────────────────────────────────────────────────────────────────┘ │ │
│ └─────────────────────────────────────────────────────────────────────────────────────┘ │
│                                                                                         │
│ ┌─────────────────────────────────────────────────────────────────────────────────────┐ │
│ │ 👤 刘强                                                                             │ │
│ │ ┌─────────────────────────────────────────────────────────────────────────────────┐ │ │
│ │ │ ✅ 昨天完成:                                                                    │ │ │
│ │ │ - 完成自适应巡航控制速度调节逻辑                                                │ │ │
│ │ │                                                                                 │ │ │
│ │ │ 📋 今天计划:                                                                    │ │ │
│ │ │ - 完成安全距离保持算法                                                          │ │ │
│ │ │ - 开始单元测试                                                                  │ │ │
│ │ │                                                                                 │ │ │
│ │ │ 🚧 遇到的问题: 无                                                               │ │ │
│ │ │                                                                                 │ │ │
│ │ │ 💡 需要的帮助: 无                                                               │ │ │
│ │ └─────────────────────────────────────────────────────────────────────────────────┘ │ │
│ └─────────────────────────────────────────────────────────────────────────────────────┘ │
│                                                                                         │
│ ┌─────────────────────────────────────────────────────────────────────────────────────┐ │
│ │ 👤 赵磊  |  👤 陈静  |  👤 张伟                                                     │ │
│ │ [展开详情]                                                                          │ │
│ └─────────────────────────────────────────────────────────────────────────────────────┘ │
│                                                                                         │
│ ┌─────────────────────────────────────────────────────────────────────────────────────┐ │
│ │ 行动项                                                                              │ │
│ │ ┌─────────────────────────────────────────────────────────────────────────────────┐ │ │
│ │ │ 🔴 协调硬件设备到货 - 负责人: PM - 截止日期: 2025-02-06                         │ │ │
│ │ │ 🟡 审查车道保持算法代码 - 负责人: 张伟 - 截止日期: 2025-02-05                   │ │ │
│ │ │ [添加行动项]                                                                    │ │ │
│ │ └─────────────────────────────────────────────────────────────────────────────────┘ │ │
│ └─────────────────────────────────────────────────────────────────────────────────────┘ │
│                                                                                         │
├─────────────────────────────────────────────────────────────────────────────────────────┤
│ [保存记录]  [发送邮件通知]  [导出]                                                      │
└─────────────────────────────────────────────────────────────────────────────────────────┘
```

---

## 三、交互流程

### 3.1 任务状态更新流程

```
选择任务卡片
  ↓
拖拽到目标列
  ↓
系统检查
  ├─ WIP限制检查
  │   ├─ 未超限 → 允许移动
  │   └─ 超限 → 提示WIP超限
  ├─ 依赖检查
  │   ├─ 依赖已满足 → 允许移动
  │   └─ 依赖未满足 → 提示依赖问题
  └─ 状态流转规则检查
      ├─ 符合规则 → 允许移动
      └─ 不符合规则 → 提示状态流转错误
  ↓
更新任务状态
  ├─ 更新状态
  ├─ 记录状态变更历史
  ├─ 更新进度统计
  └─ 发送通知
  ↓
刷新看板
  ↓
完成
```

### 3.2 Daily Standup流程

```
开始Daily Standup
  ↓
逐个成员汇报
  ├─ 昨天完成了什么？
  ├─ 今天计划做什么？
  ├─ 遇到了什么问题？
  └─ 需要什么帮助？
  ↓
记录行动项
  ├─ 问题
  ├─ 负责人
  └─ 截止日期
  ↓
保存会议记录
  ↓
发送邮件通知
  ↓
结束
```

### 3.3 阻塞处理流程

```
识别阻塞任务
  ↓
标记为阻塞状态
  ├─ 填写阻塞原因
  ├─ 指定负责人
  └─ 设置预计解决时间
  ↓
移动到阻塞列
  ↓
通知相关人员
  ↓
跟踪解决进度
  ↓
阻塞解除
  ├─ 更新状态
  └─ 移回原列
  ↓
完成
```

---

## 四、字段说明

### 4.1 任务卡片字段

| 字段名 | 类型 | 说明 | 显示位置 |
|-------|------|------|---------|
| task_id | UUID | 任务ID | 系统内部 |
| task_number | String | 任务编号 | 卡片标题 |
| task_name | String | 任务名称 | 卡片标题 |
| mr_id | UUID | 所属MR | 卡片详情 |
| priority | Enum | 优先级 | 卡片标识 |
| story_points | Integer | Story点数 | 卡片底部 |
| estimated_hours | Decimal | 预估工时 | 卡片底部 |
| actual_hours | Decimal | 实际工时 | 卡片详情 |
| assignee | UUID | 负责人 | 卡片中部 |
| status | Enum | 状态 | 看板列 |
| progress | Integer | 进度 | 卡片详情 |
| is_blocked | Boolean | 是否阻塞 | 卡片标识 |
| blocked_reason | Text | 阻塞原因 | 卡片详情 |

### 4.2 看板列配置字段

| 字段名 | 类型 | 说明 | 默认值 |
|-------|------|------|--------|
| column_id | UUID | 列ID | - |
| column_name | String | 列名称 | - |
| column_order | Integer | 列顺序 | - |
| wip_limit | Integer | WIP限制 | null(无限制) |
| status_mapping | Array | 状态映射 | - |

### 4.3 Sprint统计字段

| 字段名 | 类型 | 说明 | 计算方式 |
|-------|------|------|---------|
| total_story_points | Integer | 总Story点 | Sum(task.story_points) |
| completed_story_points | Integer | 已完成Story点 | Sum(task.story_points WHERE status='done') |
| total_tasks | Integer | 总任务数 | Count(tasks) |
| completed_tasks | Integer | 已完成任务数 | Count(tasks WHERE status='done') |
| total_hours | Decimal | 总工时 | Sum(task.estimated_hours) |
| actual_hours | Decimal | 实际工时 | Sum(task.actual_hours) |
| progress_percentage | Decimal | 进度百分比 | completed_story_points / total_story_points |
| blocked_tasks | Integer | 阻塞任务数 | Count(tasks WHERE is_blocked=true) |

---

## 五、业务规则

### 5.1 WIP限制规则
- **目的**: 限制在制品数量，提高流动效率
- **设置**: 每列可设置WIP限制
- **检查**: 移动任务时检查WIP限制
- **建议**:
  - 进行中列: 团队人数 × 1.5
  - 代码审查列: 团队人数 × 0.5
  - 测试中列: 团队人数 × 0.5

### 5.2 状态流转规则
- **顺序流转**: 任务按列顺序流转
- **跳跃限制**: 不允许跳过中间状态
- **回退允许**: 允许回退到前一状态
- **阻塞处理**: 阻塞任务可移动到阻塞列

**状态流转图**:
```
待办 → 进行中 → 代码审查 → 测试中 → 已完成
  ↓       ↓         ↓         ↓
  └───────┴─────────┴─────────┴──→ 已阻塞
```

### 5.3 任务分配规则
- **负载均衡**: 避免单个成员负载过高
- **技能匹配**: 任务分配考虑成员技能
- **优先级优先**: 优先分配高优先级任务
- **依赖优先**: 被依赖的任务优先分配

### 5.4 燃尽图规则
- **理想燃尽线**: 线性递减
- **实际燃尽线**: 基于每日完成情况
- **更新频率**: 每日更新
- **预警机制**:
  - 实际线高于理想线 → 进度落后
  - 实际线低于理想线 → 进度超前

### 5.5 Daily Standup规则
- **时间盒**: 15分钟
- **站立会议**: 站着开会，提高效率
- **三个问题**:
  1. 昨天完成了什么？
  2. 今天计划做什么？
  3. 遇到了什么问题？
- **聚焦**: 聚焦任务，不讨论细节
- **行动项**: 记录需要跟进的行动项

---

## 六、API接口设计

### 6.1 获取Sprint看板数据

**接口**: `GET /api/v1/sprints/{sprint_id}/board`

**响应**:
```json
{
  "code": 200,
  "data": {
    "sprint": {
      "sprint_id": "sprint-001",
      "sprint_number": "Sprint 1",
      "sprint_name": "核心功能开发第一个迭代",
      "start_date": "2025-02-01",
      "end_date": "2025-02-14",
      "days_remaining": 8,
      "progress": 0.45
    },
    "statistics": {
      "story_points": {
        "total": 40,
        "completed": 18,
        "percentage": 0.45
      },
      "tasks": {
        "total": 32,
        "completed": 12,
        "percentage": 0.38
      },
      "hours": {
        "total": 38,
        "actual": 17,
        "percentage": 0.45
      },
      "defects": {
        "total": 2,
        "critical": 1
      },
      "risks": 1,
      "blocked_tasks": 2
    },
    "columns": [
      {
        "column_id": "col-001",
        "column_name": "待办",
        "column_key": "TODO",
        "column_order": 1,
        "wip_limit": null,
        "task_count": 15,
        "tasks": [...]
      },
      {
        "column_id": "col-002",
        "column_name": "进行中",
        "column_key": "IN_PROGRESS",
        "column_order": 2,
        "wip_limit": 10,
        "task_count": 8,
        "tasks": [...]
      }
    ],
    "team_workload": [...],
    "blocked_tasks": [...]
  }
}
```

### 6.2 更新任务状态

**接口**: `PUT /api/v1/tasks/{task_id}/status`

**请求体**:
```json
{
  "status": "IN_PROGRESS",
  "comment": "开始开发"
}
```

**响应**:
```json
{
  "code": 200,
  "message": "任务状态更新成功",
  "data": {
    "task_id": "task-001",
    "old_status": "TODO",
    "new_status": "IN_PROGRESS",
    "updated_at": "2025-02-05T10:00:00Z",
    "updated_by": "刘强"
  }
}
```

### 6.3 标记任务阻塞

**接口**: `POST /api/v1/tasks/{task_id}/block`

**请求体**:
```json
{
  "blocked_reason": "等待硬件设备到货",
  "expected_resolve_date": "2025-02-06"
}
```

**响应**:
```json
{
  "code": 200,
  "message": "任务已标记为阻塞",
  "data": {
    "task_id": "task-033",
    "is_blocked": true,
    "blocked_at": "2025-02-05T10:00:00Z",
    "blocked_by": "王芳"
  }
}
```

### 6.4 获取燃尽图数据

**接口**: `GET /api/v1/sprints/{sprint_id}/burndown`

**响应**:
```json
{
  "code": 200,
  "data": {
    "story_points": {
      "ideal_line": [40, 36, 32, 28, 24, 20, 16, 12, 8, 4, 0],
      "actual_line": [40, 35, 30, 25, 22, null, null, null, null, null, null],
      "remaining": 22,
      "predicted_completion_date": "2025-02-16",
      "status": "behind"
    },
    "tasks": {
      "ideal_line": [32, 29, 26, 22, 19, 16, 13, 10, 6, 3, 0],
      "actual_line": [32, 28, 24, 20, 20, null, null, null, null, null, null],
      "remaining": 20,
      "completion_rate": 0.38,
      "status": "on_track"
    }
  }
}
```

### 6.5 保存Daily Standup记录

**接口**: `POST /api/v1/sprints/{sprint_id}/daily-standup`

**请求体**:
```json
{
  "date": "2025-02-05",
  "time": "09:30",
  "attendees": ["user-001", "user-003", "user-004", "user-005", "user-006"],
  "updates": [
    {
      "user_id": "user-003",
      "yesterday_completed": "完成车道保持算法开发\n通过单元测试",
      "today_plan": "开始障碍物检测算法开发\n完成算法设计文档",
      "blockers": "紧急制动系统开发被阻塞，等待硬件设备到货",
      "help_needed": "请PM协调硬件设备尽快到货"
    }
  ],
  "action_items": [
    {
      "description": "协调硬件设备到货",
      "assignee_id": "user-pm",
      "due_date": "2025-02-06"
    }
  ]
}
```

**响应**:
```json
{
  "code": 200,
  "message": "Daily Standup记录保存成功",
  "data": {
    "standup_id": "standup-001",
    "date": "2025-02-05",
    "created_at": "2025-02-05T09:45:00Z"
  }
}
```

---

## 七、数据模型

### 7.1 任务表

```sql
CREATE TABLE tasks (
  task_id UUID PRIMARY KEY,
  sprint_id UUID NOT NULL REFERENCES sprints(sprint_id),
  mr_id UUID REFERENCES module_requirements(mr_id),
  task_number VARCHAR(50) NOT NULL,
  task_name VARCHAR(200) NOT NULL,
  task_description TEXT,
  acceptance_criteria TEXT,
  priority VARCHAR(20) NOT NULL, -- P0, P1, P2
  story_points INTEGER,
  estimated_hours DECIMAL(10,2),
  actual_hours DECIMAL(10,2) DEFAULT 0,
  assignee_id UUID REFERENCES users(user_id),
  status VARCHAR(50) NOT NULL, -- TODO, IN_PROGRESS, REVIEW, TESTING, DONE, BLOCKED
  progress INTEGER DEFAULT 0, -- 0-100
  is_blocked BOOLEAN DEFAULT FALSE,
  blocked_reason TEXT,
  blocked_at TIMESTAMP,
  blocked_by UUID REFERENCES users(user_id),
  expected_resolve_date DATE,
  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
  created_by UUID REFERENCES users(user_id),
  updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
  updated_by UUID REFERENCES users(user_id),
  UNIQUE(sprint_id, task_number)
);

CREATE INDEX idx_tasks_sprint ON tasks(sprint_id);
CREATE INDEX idx_tasks_mr ON tasks(mr_id);
CREATE INDEX idx_tasks_assignee ON tasks(assignee_id);
CREATE INDEX idx_tasks_status ON tasks(status);
CREATE INDEX idx_tasks_blocked ON tasks(is_blocked);
```

### 7.2 看板列配置表

```sql
CREATE TABLE board_columns (
  column_id UUID PRIMARY KEY,
  project_id UUID NOT NULL REFERENCES projects(project_id),
  column_name VARCHAR(100) NOT NULL,
  column_key VARCHAR(50) NOT NULL,
  column_order INTEGER NOT NULL,
  wip_limit INTEGER,
  status_mapping JSONB, -- 状态映射配置
  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
  UNIQUE(project_id, column_key)
);

CREATE INDEX idx_board_columns_project ON board_columns(project_id);
```

### 7.3 任务状态变更历史表

```sql
CREATE TABLE task_status_history (
  id UUID PRIMARY KEY,
  task_id UUID NOT NULL REFERENCES tasks(task_id),
  old_status VARCHAR(50),
  new_status VARCHAR(50) NOT NULL,
  comment TEXT,
  changed_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
  changed_by UUID REFERENCES users(user_id)
);

CREATE INDEX idx_task_status_history_task ON task_status_history(task_id);
```

### 7.4 Daily Standup记录表

```sql
CREATE TABLE daily_standups (
  standup_id UUID PRIMARY KEY,
  sprint_id UUID NOT NULL REFERENCES sprints(sprint_id),
  date DATE NOT NULL,
  time TIME NOT NULL,
  attendees JSONB, -- 参与人员列表
  updates JSONB, -- 成员更新内容
  action_items JSONB, -- 行动项
  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
  created_by UUID REFERENCES users(user_id),
  UNIQUE(sprint_id, date)
);

CREATE INDEX idx_daily_standups_sprint ON daily_standups(sprint_id);
CREATE INDEX idx_daily_standups_date ON daily_standups(date);
```

### 7.5 燃尽图数据表

```sql
CREATE TABLE burndown_data (
  id UUID PRIMARY KEY,
  sprint_id UUID NOT NULL REFERENCES sprints(sprint_id),
  date DATE NOT NULL,
  remaining_story_points INTEGER,
  remaining_tasks INTEGER,
  completed_story_points INTEGER,
  completed_tasks INTEGER,
  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
  UNIQUE(sprint_id, date)
);

CREATE INDEX idx_burndown_data_sprint ON burndown_data(sprint_id);
CREATE INDEX idx_burndown_data_date ON burndown_data(date);
```

---

## 八、Mock数据

### 8.1 Sprint看板示例

```json
{
  "sprint": {
    "sprint_id": "sprint-001",
    "sprint_number": "Sprint 1",
    "sprint_name": "核心功能开发第一个迭代",
    "start_date": "2025-02-01",
    "end_date": "2025-02-14",
    "days_remaining": 8,
    "progress": 0.45,
    "team": {
      "team_id": "team-001",
      "team_name": "ADAS团队"
    }
  },
  "statistics": {
    "story_points": {
      "total": 40,
      "completed": 18,
      "percentage": 0.45
    },
    "tasks": {
      "total": 32,
      "completed": 12,
      "percentage": 0.38
    },
    "hours": {
      "total": 38,
      "actual": 17,
      "percentage": 0.45
    },
    "defects": {
      "total": 2,
      "critical": 1
    },
    "goal_achievement": 0.45,
    "risks": 1,
    "blocked_tasks": 2
  },
  "columns": [
    {
      "column_id": "col-001",
      "column_name": "待办",
      "column_key": "TODO",
      "column_order": 1,
      "wip_limit": null,
      "task_count": 15,
      "tasks": [
        {
          "task_id": "task-001",
          "task_number": "T-01",
          "task_name": "车道保持算法开发",
          "priority": "P0",
          "story_points": 8,
          "estimated_hours": 5,
          "assignee": {
            "user_id": "user-003",
            "name": "王芳"
          },
          "status": "TODO",
          "is_blocked": false
        }
      ]
    },
    {
      "column_id": "col-002",
      "column_name": "进行中",
      "column_key": "IN_PROGRESS",
      "column_order": 2,
      "wip_limit": 10,
      "task_count": 8,
      "tasks": [
        {
          "task_id": "task-005",
          "task_number": "T-05",
          "task_name": "自适应巡航控制开发",
          "priority": "P0",
          "story_points": 13,
          "estimated_hours": 8,
          "actual_hours": 4,
          "assignee": {
            "user_id": "user-004",
            "name": "刘强"
          },
          "status": "IN_PROGRESS",
          "progress": 50,
          "is_blocked": false
        }
      ]
    },
    {
      "column_id": "col-006",
      "column_name": "已阻塞",
      "column_key": "BLOCKED",
      "column_order": 6,
      "wip_limit": null,
      "task_count": 2,
      "tasks": [
        {
          "task_id": "task-033",
          "task_number": "T-33",
          "task_name": "紧急制动系统开发",
          "priority": "P0",
          "story_points": 13,
          "estimated_hours": 8,
          "assignee": {
            "user_id": "user-003",
            "name": "王芳"
          },
          "status": "BLOCKED",
          "is_blocked": true,
          "blocked_reason": "等待硬件设备到货",
          "blocked_at": "2025-02-03T10:00:00Z",
          "blocked_duration_days": 2
        }
      ]
    }
  ],
  "team_workload": [
    {
      "user_id": "user-003",
      "name": "王芳",
      "task_count": 3,
      "story_points": 21,
      "hours": 18,
      "utilization_rate": 0.90,
      "status": "high"
    },
    {
      "user_id": "user-004",
      "name": "刘强",
      "task_count": 2,
      "story_points": 18,
      "hours": 13,
      "utilization_rate": 0.65,
      "status": "normal"
    }
  ],
  "blocked_tasks": [
    {
      "task_id": "task-033",
      "task_number": "T-33",
      "task_name": "紧急制动系统开发",
      "blocked_reason": "等待硬件设备到货",
      "blocked_duration_days": 2,
      "assignee": {
        "user_id": "user-003",
        "name": "王芳"
      }
    }
  ]
}
```

---

## 九、特殊说明

### 9.1 WIP限制最佳实践
- **进行中列**: 建议设置为团队人数 × 1.5
- **代码审查列**: 建议设置为团队人数 × 0.5
- **测试中列**: 建议设置为团队人数 × 0.5
- **目的**: 限制在制品，提高流动效率

### 9.2 燃尽图解读
- **理想燃尽线**: 线性递减，表示理想进度
- **实际燃尽线**: 基于每日完成情况
- **进度判断**:
  - 实际线高于理想线 → 进度落后
  - 实际线低于理想线 → 进度超前
  - 实际线平行于X轴 → 进度停滞

### 9.3 Daily Standup最佳实践
- **时间盒**: 严格控制在15分钟内
- **站立**: 站着开会，提高效率
- **聚焦**: 聚焦任务，不讨论细节
- **三个问题**:
  1. 昨天完成了什么？
  2. 今天计划做什么？
  3. 遇到了什么问题？
- **行动项**: 记录需要跟进的行动项

### 9.4 阻塞处理建议
- **及时标记**: 发现阻塞立即标记
- **明确原因**: 清晰描述阻塞原因
- **指定负责人**: 指定解决阻塞的负责人
- **跟踪进度**: 每日跟踪阻塞解决进度
- **升级机制**: 超过2天未解决的阻塞升级到管理层

---

## 十、与其他功能的关系

### 10.1 与C3-F02 Sprint规划的关系
- **Sprint规划** → **Sprint看板**: 规划后在看板上执行
- **Sprint Backlog** → **任务看板**: Sprint Backlog转化为任务

### 10.2 与C4-迭代执行的关系
- **Sprint看板** → **Task执行**: 看板上的任务执行
- **任务状态** → **进度跟踪**: 任务状态更新驱动进度跟踪

### 10.3 与C5-测试验收的关系
- **测试中列** → **测试执行**: 测试中的任务触发测试执行
- **缺陷** → **缺陷管理**: 测试发现的缺陷进入缺陷管理

### 10.4 与C6-DevOps的关系
- **代码审查列** → **代码审查**: 触发代码审查流程
- **已完成列** → **CI/CD**: 触发CI/CD流程

---

**创建时间**: 2025-01-15
**设计团队**: Auto-RD平台设计组
**文档版本**: V1.0

