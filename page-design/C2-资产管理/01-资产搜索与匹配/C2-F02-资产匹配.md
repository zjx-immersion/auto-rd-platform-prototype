# C2-F02: 资产匹配

> **功能编号**: C2-F02  
> **功能名称**: 资产匹配  
> **所属模块**: C2-资产管理 > 资产搜索与匹配  
> **主要角色**: SO (Software Owner)  
> **价值流阶段**: S3-方案设计

---

## 1. 功能概述

### 1.1 功能描述
基于需求特征和资产特征，智能匹配最合适的可复用资产，并给出匹配度评分和匹配理由，帮助用户快速决策是否复用。

### 1.2 业务价值
- AI驱动的智能匹配，提高匹配准确性
- 量化匹配度，辅助决策
- 自动分析匹配理由，降低评估成本

### 1.3 使用场景
- SO在创建MR时，自动匹配可复用的Module资产
- SE在拆解SSTS时，自动匹配可复用的Feature资产
- 系统自动推荐高匹配度资产

---

## 2. 页面布局

### 2.1 页面结构

```
┌─────────────────────────────────────────────────────────────────┐
│ 面包屑: 首页 > 资产管理 > 资产匹配                                │
├─────────────────────────────────────────────────────────────────┤
│ 页面标题: 资产智能匹配                              [帮助] [?]   │
├─────────────────────────────────────────────────────────────────┤
│ ┌─────────────────────────────────────────────────────────────┐ │
│ │ 需求信息                                                     │ │
│ │ 需求ID: ADAS-MR-001                                         │ │
│ │ 需求名称: 车道线检测模块                                     │ │
│ │ 需求描述: 实现基于视觉的车道线检测功能，支持多种道路场景... │ │
│ │ 技术要求: 深度学习、实时性<100ms、准确率>95%                │ │
│ │ [编辑需求] [重新匹配]                                        │ │
│ └─────────────────────────────────────────────────────────────┘ │
├─────────────────────────────────────────────────────────────────┤
│ ┌─────────────────────────────────────────────────────────────┐ │
│ │ 匹配结果 (共找到 5 个匹配资产)                               │ │
│ │                                                             │ │
│ │ ┌─────────────────────────────────────────────────────────┐ │ │
│ │ │ 🥇 最佳匹配 - 匹配度: 95%                                │ │ │
│ │ │                                                         │ │ │
│ │ │ 资产名称: 车道线检测模块 V2.0                            │ │ │
│ │ │ 资产ID: ASSET-ADAS-001                                  │ │ │
│ │ │ 成熟度: ⭐⭐⭐⭐⭐ L5 | 复用次数: 15次                 │ │ │
│ │ │ 产品线: 智能驾驶 | 负责人: 张三                          │ │ │
│ │ │                                                         │ │ │
│ │ │ 匹配分析:                                               │ │ │
│ │ │ ✅ 功能匹配度: 98% - 完全满足车道线检测需求              │ │ │
│ │ │ ✅ 技术匹配度: 95% - 使用深度学习，性能指标符合要求      │ │ │
│ │ │ ✅ 成熟度: L5 - 经过15个项目验证，稳定可靠              │ │ │
│ │ │ ⚠️  兼容性: 90% - 需要适配新的硬件平台                  │ │ │
│ │ │                                                         │ │ │
│ │ │ 复用建议: 强烈推荐复用，预计节省 75% 开发工作量          │ │ │
│ │ │ 适配工作量: 5人天                                       │ │ │
│ │ │                                                         │ │ │
│ │ │ [查看详情] [复用评估] [选择此资产]                      │ │ │
│ │ └─────────────────────────────────────────────────────────┘ │ │
│ │                                                             │ │
│ │ ┌─────────────────────────────────────────────────────────┐ │ │
│ │ │ 🥈 次优匹配 - 匹配度: 82%                                │ │ │
│ │ │                                                         │ │ │
│ │ │ 资产名称: 车道线检测模块 V1.5                            │ │ │
│ │ │ 资产ID: ASSET-ADAS-002                                  │ │ │
│ │ │ 成熟度: ⭐⭐⭐⭐ L4 | 复用次数: 8次                    │ │ │
│ │ │ 产品线: 智能驾驶 | 负责人: 李四                          │ │ │
│ │ │                                                         │ │ │
│ │ │ 匹配分析:                                               │ │ │
│ │ │ ✅ 功能匹配度: 85% - 基本满足需求，部分功能需扩展        │ │ │
│ │ │ ⚠️  技术匹配度: 80% - 使用传统算法，性能略低            │ │ │
│ │ │ ✅ 成熟度: L4 - 经过8个项目验证，较为稳定               │ │ │
│ │ │ ✅ 兼容性: 95% - 与现有平台兼容性好                     │ │ │
│ │ │                                                         │ │ │
│ │ │ 复用建议: 可以复用，但需要较多改造工作                   │ │ │
│ │ │ 适配工作量: 12人天                                      │ │ │
│ │ │                                                         │ │ │
│ │ │ [查看详情] [复用评估] [选择此资产]                      │ │ │
│ │ └─────────────────────────────────────────────────────────┘ │ │
│ │                                                             │ │
│ │ [查看更多匹配结果 (3个)]                                    │ │
│ └─────────────────────────────────────────────────────────────┘ │
├─────────────────────────────────────────────────────────────────┤
│ ┌─────────────────────────────────────────────────────────────┐ │
│ │ 匹配对比                                                     │ │
│ │ [选择资产进行对比] [ASSET-ADAS-001] [ASSET-ADAS-002]        │ │
│ │                                                             │ │
│ │ 对比维度        | ASSET-ADAS-001 | ASSET-ADAS-002           │ │
│ │ ─────────────────────────────────────────────────────────  │ │
│ │ 功能匹配度      | 98%            | 85%                      │ │
│ │ 技术匹配度      | 95%            | 80%                      │ │
│ │ 成熟度          | L5 (⭐⭐⭐⭐⭐) | L4 (⭐⭐⭐⭐)          │ │
│ │ 兼容性          | 90%            | 95%                      │ │
│ │ 复用次数        | 15次           | 8次                       │ │
│ │ 适配工作量      | 5人天          | 12人天                    │ │
│ │ 预计节省        | 75%            | 60%                       │ │
│ │                                                             │ │
│ │ [导出对比报告]                                              │ │
│ └─────────────────────────────────────────────────────────────┘ │
└─────────────────────────────────────────────────────────────────┘
```

---

## 3. 数据字段

### 3.1 需求信息

| 字段名 | 类型 | 必填 | 说明 |
|--------|------|------|------|
| requirementId | String | 是 | 需求ID (MR/SSTS/Feature) |
| requirementType | Enum | 是 | 需求类型: MR/SSTS/Feature |
| requirementName | String | 是 | 需求名称 |
| description | String | 是 | 需求描述 |
| technicalRequirements | String | 否 | 技术要求 |
| functionalRequirements | String | 否 | 功能要求 |
| performanceRequirements | String | 否 | 性能要求 |
| keywords | String[] | 否 | 关键词列表 |

### 3.2 匹配结果

| 字段名 | 类型 | 说明 |
|--------|------|------|
| assetId | String | 资产ID |
| assetName | String | 资产名称 |
| assetType | Enum | 资产类型 |
| matchScore | Float | 总体匹配度(0-100) |
| matchRank | Integer | 匹配排名 |
| functionalMatchScore | Float | 功能匹配度(0-100) |
| technicalMatchScore | Float | 技术匹配度(0-100) |
| maturityLevel | Enum | 成熟度等级 |
| compatibilityScore | Float | 兼容性评分(0-100) |
| reuseCount | Integer | 复用次数 |
| adaptationEffort | Integer | 适配工作量(人天) |
| estimatedSaving | Float | 预计节省比例(0-100) |
| reuseRecommendation | String | 复用建议 |
| matchAnalysis | Object | 匹配分析详情 |

---

## 4. 交互设计

### 4.1 匹配流程

1. **输入需求信息**
   - 自动从需求详情页获取需求信息
   - 或手动输入需求描述
   - 提取关键特征和技术要求

2. **执行智能匹配**
   - AI分析需求特征
   - 搜索资产库
   - 计算匹配度评分
   - 生成匹配分析报告

3. **展示匹配结果**
   - 按匹配度排序
   - 显示最佳匹配、次优匹配等
   - 展示匹配分析和复用建议

4. **对比和选择**
   - 选择多个资产进行对比
   - 查看详细对比报告
   - 选择最合适的资产

### 4.2 匹配分析

#### 4.2.1 功能匹配度
- 分析需求功能与资产功能的重合度
- 识别缺失功能和冗余功能
- 评估功能扩展的难度

#### 4.2.2 技术匹配度
- 分析技术栈的兼容性
- 评估性能指标的符合度
- 识别技术风险

#### 4.2.3 成熟度评估
- 基于资产成熟度等级(L1-L5)
- 考虑复用次数和验证情况
- 评估稳定性和可靠性

#### 4.2.4 兼容性评估
- 分析与目标环境的兼容性
- 评估依赖关系的兼容性
- 识别潜在的兼容性问题

---

## 5. API接口

### 5.1 执行资产匹配

**接口**: `POST /api/assets/match`

**请求示例**:
```json
{
  "requirementId": "ADAS-MR-001",
  "requirementType": "MR",
  "requirementName": "车道线检测模块",
  "description": "实现基于视觉的车道线检测功能，支持多种道路场景",
  "technicalRequirements": "深度学习、实时性<100ms、准确率>95%",
  "keywords": ["车道线", "检测", "视觉", "深度学习"]
}
```

**响应示例**:
```json
{
  "code": 200,
  "message": "success",
  "data": {
    "totalMatches": 5,
    "matches": [
      {
        "assetId": "ASSET-ADAS-001",
        "assetName": "车道线检测模块 V2.0",
        "assetType": "Module",
        "matchScore": 95.0,
        "matchRank": 1,
        "functionalMatchScore": 98.0,
        "technicalMatchScore": 95.0,
        "maturityLevel": "L5",
        "compatibilityScore": 90.0,
        "reuseCount": 15,
        "adaptationEffort": 5,
        "estimatedSaving": 75.0,
        "reuseRecommendation": "强烈推荐复用，预计节省 75% 开发工作量",
        "matchAnalysis": {
          "functionalMatch": {
            "score": 98.0,
            "details": "完全满足车道线检测需求",
            "status": "excellent"
          },
          "technicalMatch": {
            "score": 95.0,
            "details": "使用深度学习，性能指标符合要求",
            "status": "excellent"
          },
          "maturity": {
            "level": "L5",
            "details": "经过15个项目验证，稳定可靠",
            "status": "excellent"
          },
          "compatibility": {
            "score": 90.0,
            "details": "需要适配新的硬件平台",
            "status": "good"
          }
        }
      }
    ]
  }
}
```

---

## 6. 页面跳转

### 6.1 入口
- 需求管理 > MR创建 > 搜索资产 > 资产匹配
- 需求管理 > SSTS拆解 > 搜索资产 > 资产匹配
- 资产管理 > 资产搜索 > 智能匹配

### 6.2 出口
- 查看详情 → 资产详情页
- 复用评估 → 复用评估页(C2-F03)
- 选择此资产 → 返回需求页面，关联资产

---

## 7. 特殊说明

### 7.1 匹配算法
- 使用NLP技术提取需求特征
- 基于语义相似度计算功能匹配度
- 基于技术栈分析计算技术匹配度
- 综合多维度评分计算总体匹配度

### 7.2 匹配度计算公式
```
总体匹配度 = 功能匹配度 × 0.4 + 技术匹配度 × 0.3 + 成熟度评分 × 0.2 + 兼容性评分 × 0.1
```

### 7.3 推荐策略
- 匹配度 >= 90%: 强烈推荐复用
- 匹配度 80-90%: 推荐复用
- 匹配度 70-80%: 可以复用，需评估
- 匹配度 < 70%: 不建议复用

---

**设计完成日期**: 2025-01-15  
**设计人员**: Auto-RD平台设计组

