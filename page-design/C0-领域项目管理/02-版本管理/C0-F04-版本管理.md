# C0-F04: 版本管理

> **功能编号**: C0-F04  
> **功能名称**: 版本管理  
> **主要用户**: PM（项目经理）、PO（产品负责人）  
> **页面类型**: 列表页  
> **优先级**: P0  
> **价值流阶段**: S4-项目立项

---

## 一、功能概述

### 1.1 功能描述
提供整车项目的版本列表查看、版本基本信息管理功能，支撑项目的版本管理和发布节奏。

### 1.2 业务价值
- 提供版本全局视图
- 支持版本基本信息管理
- 为版本规划和发布提供基础

### 1.3 使用场景
- PM查看项目所有版本
- PO查看版本范围和进度
- 团队成员查看版本信息

---

## 二、页面布局

### 2.1 版本列表页

```
┌─────────────────────────────────────────────────────────────────┐
│ 面包屑: 首页 > 项目管理 > PRJ-2025-001 > 版本管理               │
├─────────────────────────────────────────────────────────────────┤
│ 页面标题: 版本管理                        [+ 创建版本] [导出]   │
├─────────────────────────────────────────────────────────────────┤
│ ┌─────────────────────────────────────────────────────────────┐ │
│ │ 项目信息                                                     │ │
│ │ 项目: 岚图H56智能驾驶平台项目 | 项目代号: H56               │ │
│ │ 项目周期: 2025-02-01 ~ 2026-01-31 | 版本数量: 4个           │ │
│ └─────────────────────────────────────────────────────────────┘ │
├─────────────────────────────────────────────────────────────────┤
│ ┌─────────────────────────────────────────────────────────────┐ │
│ │ 筛选: [全部状态▼] [全部类型▼]              [搜索版本...]   │ │
│ └─────────────────────────────────────────────────────────────┘ │
├─────────────────────────────────────────────────────────────────┤
│ ┌─────────────────────────────────────────────────────────────┐ │
│ │ 版本列表 (4个)                                               │ │
│ │ ┌───────────────────────────────────────────────────────────┐│ │
│ │ │ 版本号 | 版本名称 | 类型 | 状态 | 发布日期 | 进度 | 操作 ││ │
│ │ ├───────────────────────────────────────────────────────────┤│ │
│ │ │ V1.0 | MVP版本 | 主版本 | 🟢 规划中 | 2025-06-30 | 40% |││ │
│ │ │      | 2个Epic, 13个Feature                              ││ │
│ │ │      | 负责人: 👤 张伟 (PO)                               ││ │
│ │ │      | [查看] [编辑] [规划] [发布] [更多▼]               ││ │
│ │ ├───────────────────────────────────────────────────────────┤│ │
│ │ │ V2.0 | 完整功能版本 | 主版本 | 🟡 待规划 | 2025-12-31 | 0%││ │
│ │ │      | 3个Epic, 20个Feature                              ││ │
│ │ │      | 负责人: 👤 张伟 (PO)                               ││ │
│ │ │      | [查看] [编辑] [规划] [发布] [更多▼]               ││ │
│ │ └───────────────────────────────────────────────────────────┘│ │
│ └─────────────────────────────────────────────────────────────┘ │
└─────────────────────────────────────────────────────────────────┘
```

---

## 三、页面交互

### 3.1 列表筛选

**筛选条件**:
- 按状态筛选：全部/规划中/开发中/测试中/已发布
- 按类型筛选：全部/主版本/次版本/补丁版本
- 搜索：支持版本号、版本名称搜索

**排序**:
- 默认按发布日期倒序排列
- 支持按版本号、状态、进度排序

### 3.2 版本操作

**查看**:
- 跳转到版本详情页
- 显示版本完整信息

**编辑**:
- 跳转到版本编辑页
- 修改版本基本信息

**规划**:
- 跳转到版本规划页（C0-F05）
- 分配Epic到版本

**发布**:
- 跳转到版本发布页（C0-F06）
- 执行版本发布流程

**更多**:
- 删除版本
- 复制版本
- 导出版本

---

## 四、API接口

### 4.1 获取版本列表

**接口**: `GET /api/projects/{projectId}/versions`

**请求参数**:
```
status: string (可选) - 版本状态
type: string (可选) - 版本类型
keyword: string (可选) - 搜索关键词
page: number (可选) - 页码
pageSize: number (可选) - 每页数量
```

**响应示例**:
```json
{
  "code": 200,
  "message": "success",
  "data": {
    "total": 4,
    "page": 1,
    "pageSize": 10,
    "items": [
      {
        "versionId": "V-001",
        "versionNumber": "V1.0",
        "versionName": "MVP版本",
        "versionType": "MAJOR",
        "status": "PLANNING",
        "releaseDate": "2025-06-30",
        "owner": {
          "userId": "U002",
          "userName": "张伟",
          "role": "PO"
        },
        "epicCount": 2,
        "featureCount": 13,
        "sstsCount": 45,
        "progress": 40,
        "description": "最小可行产品版本，实现核心L2+自动驾驶功能",
        "createdAt": "2025-01-15T10:00:00Z",
        "updatedAt": "2025-01-15T10:00:00Z"
      }
    ]
  }
}
```

### 4.2 删除版本

**接口**: `DELETE /api/versions/{versionId}`

**响应示例**:
```json
{
  "code": 200,
  "message": "版本删除成功",
  "data": {
    "versionId": "V-001"
  }
}
```

---

## 五、Mock数据

### 5.1 版本列表数据

```json
[
  {
    "versionId": "V-001",
    "versionNumber": "V1.0",
    "versionName": "MVP版本",
    "versionType": "MAJOR",
    "status": "PLANNING",
    "releaseDate": "2025-06-30",
    "owner": {
      "userId": "U002",
      "userName": "张伟",
      "role": "PO"
    },
    "epicCount": 2,
    "featureCount": 13,
    "sstsCount": 45,
    "progress": 40,
    "estimatedWorkload": 200,
    "completedWorkload": 80,
    "description": "最小可行产品版本，实现核心L2+自动驾驶功能"
  }
]
```

---

**设计完成日期**: 2025-01-15  
**设计人员**: Auto-RD平台设计组  
**下一步**: 查看 [C0-F05-版本规划.md](./C0-F05-版本规划.md)

