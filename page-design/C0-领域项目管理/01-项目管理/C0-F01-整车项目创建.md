# C0-F01: 整车项目创建

> **功能编号**: C0-F01  
> **功能名称**: 整车项目创建  
> **主要用户**: PM（项目经理）  
> **页面类型**: 表单页  
> **优先级**: P0  
> **价值流阶段**: S4-项目立项

---

## 一、页面布局

### 1.1 页面结构

```
┌─────────────────────────────────────────────────────────────┐
│ 顶部导航栏                                                  │
├──────┬──────────────────────────────────────────────────────┤
│      │ 面包屑: 首页 > 项目管理 > 整车项目 > 创建项目        │
│      ├──────────────────────────────────────────────────────┤
│ 左侧 │ 页面标题: 创建整车项目              [保存草稿] [创建]│
│ 导航 ├──────────────────────────────────────────────────────┤
│      │                                                      │
│      │ 表单区域                                             │
│      │ ┌────────────────────────────────────────────────┐  │
│      │ │ 步骤条: ① 基本信息 → ② 项目范围 → ③ 团队配置  │  │
│      │ └────────────────────────────────────────────────┘  │
│      │                                                      │
│      │                                                      │
├──────┴──────────────────────────────────────────────────────┤
│ 底部操作栏: [取消] [上一步] [下一步] [保存草稿] [创建]      │
└─────────────────────────────────────────────────────────────┘
```

---

## 二、表单字段设计

### 2.1 步骤1: 基本信息

| 字段名称 | 字段类型 | 是否必填 | 默认值 | 验证规则 | 说明 |
|---------|---------|---------|--------|---------|------|
| 项目ID | 文本框（只读） | 是 | 自动生成 | - | 格式：PRJ-{年份}-{序号} |
| 项目名称 | 文本框 | 是 | - | 长度≤100字符 | 整车项目名称 |
| 项目代号 | 文本框 | 是 | - | 长度≤20字符，仅字母数字 | 项目代号，如：H56 |
| 项目描述 | 富文本编辑器 | 是 | - | 长度≤2000字符 | 项目详细描述 |
| 项目类型 | 下拉选择 | 是 | - | - | 新车型开发/改款/年度改型 |
| 产品线 | 多选框 | 是 | - | 至少选1个 | 智能驾驶/智能座舱/电子电器 |
| 项目经理 | 用户选择器 | 是 | 当前用户 | - | 默认为创建人 |
| 项目状态 | 单选按钮 | 是 | 规划中 | - | 规划中/执行中/已完成/已取消 |

### 2.2 步骤2: 项目范围

| 字段名称 | 字段类型 | 是否必填 | 默认值 | 验证规则 | 说明 |
|---------|---------|---------|--------|---------|------|
| 计划开始日期 | 日期选择器 | 是 | - | ≥今天 | 项目计划开始日期 |
| 计划结束日期 | 日期选择器 | 是 | - | ≥开始日期 | 项目计划结束日期 |
| PI数量 | 数字输入框 | 是 | 4 | 1-12 | 项目包含的PI数量 |
| PI周期 | 下拉选择 | 是 | 12周 | - | 8周/10周/12周 |
| Epic池 | Epic选择器 | 是 | - | 至少选1个 | 从Epic池选择项目范围 |
| 项目目标 | 文本域 | 是 | - | 长度≤1000字符 | 项目整体目标 |
| 关键里程碑 | 列表编辑器 | 是 | - | 至少1条 | 项目关键里程碑 |

### 2.3 步骤3: 团队配置

| 字段名称 | 字段类型 | 是否必填 | 默认值 | 验证规则 | 说明 |
|---------|---------|---------|--------|---------|------|
| 核心团队 | 团队成员选择器 | 是 | - | 至少3人 | 项目核心团队成员 |
| 产品负责人 | 用户选择器 | 是 | - | - | PO角色 |
| 架构师 | 用户选择器 | 是 | - | - | 系统架构师 |
| 质量负责人 | 用户选择器 | 是 | - | - | QA负责人 |
| 领域团队 | 团队选择器 | 否 | - | - | 关联的领域团队 |
| 干系人 | 用户选择器 | 否 | - | - | 项目干系人 |

### 2.4 附加信息

| 字段名称 | 字段类型 | 是否必填 | 默认值 | 验证规则 | 说明 |
|---------|---------|---------|--------|---------|------|
| 项目标签 | 标签选择器 | 否 | - | - | 可添加多个标签 |
| 项目文档 | 文件上传 | 否 | - | 单个文件≤20MB | 支持多文件上传 |
| 备注 | 文本域 | 否 | - | 长度≤500字符 | 其他备注信息 |

---

## 三、页面交互

### 3.1 步骤导航

**步骤1 → 步骤2**:
- 验证步骤1所有必填字段
- 点击"下一步"进入步骤2
- 步骤1数据保存到草稿

**步骤2 → 步骤3**:
- 验证步骤2所有必填字段
- 验证日期逻辑（结束日期≥开始日期）
- 点击"下一步"进入步骤3

**步骤3 → 提交**:
- 验证步骤3所有必填字段
- 验证核心团队至少3人
- 点击"创建"提交项目

**返回上一步**:
- 点击"上一步"返回前一步骤
- 保留已填写的数据

### 3.2 表单验证

**实时验证**:
- 项目名称：输入时检查长度，超过100字符提示
- 项目代号：输入时检查格式，仅允许字母数字
- 日期：选择时检查逻辑，结束日期必须≥开始日期
- PI数量：输入时检查范围，必须在1-12之间

**提交验证**:
- 所有必填字段必须填写
- Epic池至少选择1个Epic
- 关键里程碑至少填写1条
- 核心团队至少3人
- 如果验证失败，高亮错误字段并显示错误提示

### 3.3 按钮交互

**[取消]按钮**:
- 点击后弹窗确认："确定要取消吗？未保存的内容将丢失。"
- 确认后返回项目列表页

**[保存草稿]按钮**:
- 保存当前填写内容为草稿状态
- 提示："草稿已保存"
- 保持在当前页面

**[创建]按钮**:
- 验证所有步骤的必填字段
- 提交成功后提示："项目创建成功"
- 跳转到项目详情页

### 3.4 智能提示

**项目ID自动生成**:
- 创建时自动生成项目ID
- 格式：PRJ-2025-001

**Epic池智能推荐**:
- 根据产品线自动筛选Epic
- 显示Epic的优先级和状态
- 支持搜索和批量选择

**PI周期建议**:
- 根据项目类型推荐PI周期
- 新车型开发：12周
- 改款：10周
- 年度改型：8周

---

## 四、页面示例

### 4.1 步骤1: 基本信息示例

```
┌─────────────────────────────────────────────────────────────┐
│ 创建整车项目                          [保存草稿] [创建]     │
├─────────────────────────────────────────────────────────────┤
│ 步骤条: ● 基本信息 → ○ 项目范围 → ○ 团队配置               │
├─────────────────────────────────────────────────────────────┤
│                                                             │
│ 基础信息                                                    │
│ ┌─────────────────────────────────────────────────────────┐ │
│ │ 项目ID *                                                │ │
│ │ PRJ-2025-001                       (自动生成)           │ │
│ │                                                         │ │
│ │ 项目名称 *                                              │ │
│ │ ┌─────────────────────────────────────────────────────┐ │ │
│ │ │ 岚图H56智能驾驶平台项目                             │ │ │
│ │ └─────────────────────────────────────────────────────┘ │ │
│ │                                                         │ │
│ │ 项目代号 *                                              │ │
│ │ ┌─────────────────────────────────────────────────────┐ │ │
│ │ │ H56                                                 │ │ │
│ │ └─────────────────────────────────────────────────────┘ │ │
│ │                                                         │ │
│ │ 项目描述 *                                              │ │
│ │ ┌─────────────────────────────────────────────────────┐ │ │
│ │ │ 岚图H56车型智能驾驶平台开发项目，实现L2+级自动驾驶  │ │ │
│ │ │ 功能，包括高速公路和城市道路场景                    │ │ │
│ │ └─────────────────────────────────────────────────────┘ │ │
│ │                                                         │ │
│ │ 项目类型 *                                              │ │
│ │ ┌─────────────────────────────────────────────────────┐ │ │
│ │ │ 新车型开发 ▼                                        │ │ │
│ │ └─────────────────────────────────────────────────────┘ │ │
│ │                                                         │ │
│ │ 产品线 *                                                │ │
│ │ ☑ 智能驾驶  ☑ 智能座舱  ☐ 电子电器                     │ │
│ │                                                         │ │
│ │ 项目经理 *                                              │ │
│ │ ┌─────────────────────────────────────────────────────┐ │ │
│ │ │ 👤 李明 (PM)                                        │ │ │
│ │ └─────────────────────────────────────────────────────┘ │ │
│ └─────────────────────────────────────────────────────────┘ │
│                                                             │
├─────────────────────────────────────────────────────────────┤
│ [取消]                                  [保存草稿] [下一步] │
└─────────────────────────────────────────────────────────────┘
```

### 4.2 步骤2: 项目范围示例

```
┌─────────────────────────────────────────────────────────────┐
│ 创建整车项目                          [保存草稿] [创建]     │
├─────────────────────────────────────────────────────────────┤
│ 步骤条: ✓ 基本信息 → ● 项目范围 → ○ 团队配置               │
├─────────────────────────────────────────────────────────────┤
│                                                             │
│ 项目时间                                                    │
│ ┌─────────────────────────────────────────────────────────┐ │
│ │ 计划开始日期 *          计划结束日期 *                  │ │
│ │ ┌──────────────────┐   ┌──────────────────┐            │ │
│ │ │ 2025-02-01 📅   │   │ 2026-01-31 📅   │            │ │
│ │ └──────────────────┘   └──────────────────┘            │ │
│ │                                                         │ │
│ │ PI数量 *                PI周期 *                        │ │
│ │ ┌──────────────────┐   ┌──────────────────┐            │ │
│ │ │ 4                │   │ 12周 ▼          │            │ │
│ │ └──────────────────┘   └──────────────────┘            │ │
│ └─────────────────────────────────────────────────────────┘ │
│                                                             │
│ Epic池 * (已选择 3个)                                       │
│ ┌─────────────────────────────────────────────────────────┐ │
│ │ [搜索Epic...]                              [+ 添加Epic] │ │
│ │ ┌─────────────────────────────────────────────────────┐ │ │
│ │ │ ☑ ADAS-E001 | L2+级自动驾驶功能 | P0 | 规划中      │ │ │
│ │ │ ☑ ADAS-E002 | 智能泊车系统 | P1 | 规划中          │ │ │
│ │ │ ☑ CABIN-E001 | 智能座舱交互系统 | P0 | 规划中     │ │ │
│ │ └─────────────────────────────────────────────────────┘ │ │
│ └─────────────────────────────────────────────────────────┘ │
│                                                             │
│ 项目目标 *                                                  │
│ ┌─────────────────────────────────────────────────────────┐ │
│ │ 1. 实现L2+级自动驾驶功能，覆盖高速和城市场景            │ │
│ │ 2. 打造行业领先的智能座舱体验                           │ │
│ │ 3. 建立可复用的智能驾驶平台架构                         │ │
│ └─────────────────────────────────────────────────────────┘ │
│                                                             │
│ 关键里程碑 *                                                │
│ ┌─────────────────────────────────────────────────────────┐ │
│ │ 1. 2025-04-30 | 需求评审完成                            │ │
│ │ 2. 2025-07-31 | 架构设计完成                            │ │
│ │ 3. 2025-10-31 | 功能开发完成                            │ │
│ │ 4. 2026-01-31 | 系统集成测试完成                        │ │
│ │ [+ 添加里程碑]                                          │ │
│ └─────────────────────────────────────────────────────────┘ │
│                                                             │
├─────────────────────────────────────────────────────────────┤
│ [取消] [上一步]                         [保存草稿] [下一步] │
└─────────────────────────────────────────────────────────────┘
```

### 4.3 步骤3: 团队配置示例

```
┌─────────────────────────────────────────────────────────────┐
│ 创建整车项目                          [保存草稿] [创建]     │
├─────────────────────────────────────────────────────────────┤
│ 步骤条: ✓ 基本信息 → ✓ 项目范围 → ● 团队配置               │
├─────────────────────────────────────────────────────────────┤
│                                                             │
│ 核心团队 * (已选择 5人)                                     │
│ ┌─────────────────────────────────────────────────────────┐ │
│ │ [搜索成员...]                              [+ 添加成员] │ │
│ │ ┌─────────────────────────────────────────────────────┐ │ │
│ │ │ 👤 李明 | PM | 项目经理                             │ │ │
│ │ │ 👤 张伟 | PO | 产品负责人                           │ │ │
│ │ │ 👤 王强 | SA | 系统架构师                           │ │ │
│ │ │ 👤 刘芳 | QA | 质量负责人                           │ │ │
│ │ │ 👤 陈杰 | SE | 系统工程师                           │ │ │
│ │ └─────────────────────────────────────────────────────┘ │ │
│ └─────────────────────────────────────────────────────────┘ │
│                                                             │
│ 关键角色                                                    │
│ ┌─────────────────────────────────────────────────────────┐ │
│ │ 产品负责人 *                                            │ │
│ │ ┌─────────────────────────────────────────────────────┐ │ │
│ │ │ 👤 张伟 (PO)                                        │ │ │
│ │ └─────────────────────────────────────────────────────┘ │ │
│ │                                                         │ │
│ │ 架构师 *                                                │ │
│ │ ┌─────────────────────────────────────────────────────┐ │ │
│ │ │ 👤 王强 (SA)                                        │ │ │
│ │ └─────────────────────────────────────────────────────┘ │ │
│ │                                                         │ │
│ │ 质量负责人 *                                            │ │
│ │ ┌─────────────────────────────────────────────────────┐ │ │
│ │ │ 👤 刘芳 (QA)                                        │ │ │
│ │ └─────────────────────────────────────────────────────┘ │ │
│ └─────────────────────────────────────────────────────────┘ │
│                                                             │
│ 领域团队 (已选择 2个)                                       │
│ ┌─────────────────────────────────────────────────────────┐ │
│ │ ☑ ADAS团队 (15人)                                       │ │
│ │ ☑ 座舱团队 (12人)                                       │ │
│ └─────────────────────────────────────────────────────────┘ │
│                                                             │
├─────────────────────────────────────────────────────────────┤
│ [取消] [上一步]                         [保存草稿] [创建]   │
└─────────────────────────────────────────────────────────────┘
```

---

## 五、API接口

### 5.1 创建项目

**接口**: `POST /api/projects`

**请求示例**:
```json
{
  "projectName": "岚图H56智能驾驶平台项目",
  "projectCode": "H56",
  "description": "岚图H56车型智能驾驶平台开发项目，实现L2+级自动驾驶功能",
  "projectType": "NEW_VEHICLE",
  "productLines": ["ADAS", "CABIN"],
  "projectManager": "U001",
  "status": "PLANNING",
  "startDate": "2025-02-01",
  "endDate": "2026-01-31",
  "piCount": 4,
  "piCycle": "12_WEEKS",
  "epicIds": ["ADAS-E001", "ADAS-E002", "CABIN-E001"],
  "objectives": [
    "实现L2+级自动驾驶功能，覆盖高速和城市场景",
    "打造行业领先的智能座舱体验",
    "建立可复用的智能驾驶平台架构"
  ],
  "milestones": [
    {
      "name": "需求评审完成",
      "date": "2025-04-30"
    },
    {
      "name": "架构设计完成",
      "date": "2025-07-31"
    },
    {
      "name": "功能开发完成",
      "date": "2025-10-31"
    },
    {
      "name": "系统集成测试完成",
      "date": "2026-01-31"
    }
  ],
  "coreTeam": ["U001", "U002", "U003", "U004", "U005"],
  "productOwner": "U002",
  "architect": "U003",
  "qaLead": "U004",
  "domainTeams": ["TEAM-ADAS", "TEAM-CABIN"],
  "tags": ["H56", "L2+", "智能驾驶"],
  "documents": []
}
```

**响应示例**:
```json
{
  "code": 200,
  "message": "项目创建成功",
  "data": {
    "projectId": "PRJ-2025-001",
    "projectName": "岚图H56智能驾驶平台项目",
    "projectCode": "H56",
    "status": "PLANNING",
    "createdAt": "2025-01-15T10:00:00Z",
    "createdBy": "U001"
  }
}
```

### 5.2 获取Epic池

**接口**: `GET /api/epics?productLine={productLine}&status=PLANNING`

**响应示例**:
```json
{
  "code": 200,
  "message": "success",
  "data": {
    "total": 5,
    "items": [
      {
        "epicId": "ADAS-E001",
        "epicName": "L2+级自动驾驶功能",
        "productLine": "ADAS",
        "priority": "P0",
        "status": "PLANNING",
        "owner": "张伟"
      },
      {
        "epicId": "ADAS-E002",
        "epicName": "智能泊车系统",
        "productLine": "ADAS",
        "priority": "P1",
        "status": "PLANNING",
        "owner": "张伟"
      }
    ]
  }
}
```

---

## 六、页面跳转

### 6.1 入口
- 顶部导航 > 项目管理 > 整车项目 > 创建项目
- 项目列表页 > [+ 创建项目] 按钮

### 6.2 出口
- 创建成功 → 项目详情页
- 取消 → 项目列表页
- 保存草稿 → 保持当前页面

---

## 七、Mock数据

### 7.1 项目类型

```json
[
  {
    "value": "NEW_VEHICLE",
    "label": "新车型开发",
    "suggestedPiCycle": "12_WEEKS"
  },
  {
    "value": "FACELIFT",
    "label": "改款",
    "suggestedPiCycle": "10_WEEKS"
  },
  {
    "value": "ANNUAL_UPDATE",
    "label": "年度改型",
    "suggestedPiCycle": "8_WEEKS"
  }
]
```

### 7.2 产品线

```json
[
  {
    "value": "ADAS",
    "label": "智能驾驶"
  },
  {
    "value": "CABIN",
    "label": "智能座舱"
  },
  {
    "value": "EE",
    "label": "电子电器"
  }
]
```

### 7.3 PI周期

```json
[
  {
    "value": "8_WEEKS",
    "label": "8周"
  },
  {
    "value": "10_WEEKS",
    "label": "10周"
  },
  {
    "value": "12_WEEKS",
    "label": "12周"
  }
]
```

---

## 八、特殊说明

### 8.1 Epic池选择
- 只显示状态为"规划中"的Epic
- 根据选择的产品线自动筛选Epic
- 支持搜索Epic名称和ID
- 显示Epic的优先级和负责人

### 8.2 团队配置
- 核心团队至少3人
- 项目经理、产品负责人、架构师、质量负责人为必填
- 支持从组织架构中选择团队成员
- 支持关联领域团队

### 8.3 里程碑管理
- 里程碑日期必须在项目开始和结束日期之间
- 里程碑按日期自动排序
- 支持添加、编辑、删除里程碑

---

**设计完成日期**: 2025-01-15
**设计人员**: Auto-RD平台设计组
**下一步**: 查看 [C0-F05-版本规划.md](../02-版本管理/C0-F05-版本规划.md)

