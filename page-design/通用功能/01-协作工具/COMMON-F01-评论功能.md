# COMMON-F01 è¯„è®ºåŠŸèƒ½

> **åŠŸèƒ½ç¼–å·**: COMMON-F01  
> **åŠŸèƒ½åç§°**: è¯„è®ºåŠŸèƒ½  
> **æ‰€å±èƒ½åŠ›åŸŸ**: é€šç”¨åŠŸèƒ½  
> **ä¸»è¦ç”¨æˆ·**: æ‰€æœ‰ç”¨æˆ·  
> **é¡µé¢ç±»å‹**: é€šç”¨ç»„ä»¶

---

## ä¸€ã€åŠŸèƒ½æ¦‚è¿°

### 1.1 åŠŸèƒ½å®šä½
è¯„è®ºåŠŸèƒ½æ˜¯åœ¨Epic/Feature/SSTSç­‰å®ä½“ä¸Šæ·»åŠ è¯„è®ºçš„é€šç”¨åŠŸèƒ½ï¼Œæ”¯æŒå¯Œæ–‡æœ¬è¯„è®ºã€åµŒå¥—å›å¤ã€@æåŠã€é™„ä»¶ä¸Šä¼ ç­‰ã€‚

### 1.2 æ ¸å¿ƒä»·å€¼
- **åä½œæ²Ÿé€š**: æ”¯æŒå›¢é˜Ÿæˆå‘˜ä¹‹é—´çš„åä½œæ²Ÿé€š
- **é—®é¢˜è®¨è®º**: é’ˆå¯¹å…·ä½“é—®é¢˜è¿›è¡Œè®¨è®º
- **çŸ¥è¯†æ²‰æ·€**: è®°å½•è®¨è®ºè¿‡ç¨‹å’Œå†³ç­–
- **é€šçŸ¥æœºåˆ¶**: é€šè¿‡@æåŠé€šçŸ¥ç›¸å…³äººå‘˜

### 1.3 è¯„è®ºæµç¨‹

```mermaid
graph LR
    A[æ·»åŠ è¯„è®º] --> B[è¾“å…¥å†…å®¹]
    B --> C[@æåŠç”¨æˆ·]
    C --> D[ä¸Šä¼ é™„ä»¶]
    D --> E[æäº¤è¯„è®º]
    E --> F[é€šçŸ¥ç›¸å…³äººå‘˜]
    F --> G[å›å¤è¯„è®º]
```

---

## äºŒã€ç»„ä»¶è®¾è®¡

### 2.1 è¯„è®ºç»„ä»¶ç»“æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ è¯„è®ºåŒºåŸŸ (CommentSection)                                   â”‚
â”‚ â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” â”‚
â”‚                                                             â”‚
â”‚ æ·»åŠ è¯„è®º                                                    â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚ â”‚ [ç”¨æˆ·å¤´åƒ] æ·»åŠ è¯„è®º...                                   â”‚â”‚
â”‚ â”‚                                                         â”‚â”‚
â”‚ â”‚ [å¯Œæ–‡æœ¬ç¼–è¾‘å™¨]                                          â”‚â”‚
â”‚ â”‚                                                         â”‚â”‚
â”‚ â”‚ [@æåŠ] [ä¸Šä¼ é™„ä»¶] [è¡¨æƒ…] [æäº¤]                        â”‚â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                                                             â”‚
â”‚ è¯„è®ºåˆ—è¡¨                                                    â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚ â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚â”‚
â”‚ â”‚ â”‚ ğŸ‘¤ å¼ ä¼Ÿ (PO)  2å°æ—¶å‰                               â”‚â”‚â”‚
â”‚ â”‚ â”‚ "è¿™ä¸ªFeatureçš„ä¸šåŠ¡ä»·å€¼å¾ˆæ˜ç¡®ï¼Œå»ºè®®ä¼˜å…ˆå¼€å‘ã€‚"       â”‚â”‚â”‚
â”‚ â”‚ â”‚ [å›å¤] [ğŸ‘ 5] [ç¼–è¾‘] [åˆ é™¤]                        â”‚â”‚â”‚
â”‚ â”‚ â”‚                                                     â”‚â”‚â”‚
â”‚ â”‚ â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚â”‚â”‚
â”‚ â”‚ â”‚   â”‚ ğŸ‘¤ æå¨œ (PM)  1å°æ—¶å‰                        â”‚â”‚â”‚â”‚
â”‚ â”‚ â”‚   â”‚ "åŒæ„ï¼Œå·²çº³å…¥ä¸‹ä¸ªSprintè®¡åˆ’ã€‚"                â”‚â”‚â”‚â”‚
â”‚ â”‚ â”‚   â”‚ [å›å¤] [ğŸ‘ 2]                                â”‚â”‚â”‚â”‚
â”‚ â”‚ â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚â”‚â”‚
â”‚ â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚â”‚
â”‚ â”‚                                                         â”‚â”‚
â”‚ â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚â”‚
â”‚ â”‚ â”‚ ğŸ‘¤ ç‹äº” (SE)  3å°æ—¶å‰                               â”‚â”‚â”‚
â”‚ â”‚ â”‚ "æŠ€æœ¯æ–¹æ¡ˆå¯è¡Œï¼Œä½†éœ€è¦è¡¥å……ä»¥ä¸‹å†…å®¹ï¼š                 â”‚â”‚â”‚
â”‚ â”‚ â”‚ 1. æ¥å£å®šä¹‰                                          â”‚â”‚â”‚
â”‚ â”‚ â”‚ 2. æ€§èƒ½æŒ‡æ ‡                                          â”‚â”‚â”‚
â”‚ â”‚ â”‚ 3. æµ‹è¯•æ–¹æ¡ˆ"                                         â”‚â”‚â”‚
â”‚ â”‚ â”‚ ğŸ“ é™„ä»¶: æŠ€æœ¯æ–¹æ¡ˆ.docx                              â”‚â”‚â”‚
â”‚ â”‚ â”‚ [å›å¤] [ğŸ‘ 3] [ç¼–è¾‘] [åˆ é™¤]                        â”‚â”‚â”‚
â”‚ â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ä¸‰ã€æ•°æ®å­—æ®µ

### 3.1 è¯„è®ºå­—æ®µ

| å­—æ®µå | å­—æ®µç±»å‹ | æ˜¯å¦å¿…å¡« | è¯´æ˜ |
|--------|---------|---------|------|
| id | String | æ˜¯ | è¯„è®ºID |
| entityType | Enum | æ˜¯ | å®ä½“ç±»å‹: epic/feature/ssts/mr/task |
| entityId | String | æ˜¯ | å®ä½“ID |
| author | User | æ˜¯ | è¯„è®ºä½œè€… |
| content | Text | æ˜¯ | è¯„è®ºå†…å®¹ï¼ˆå¯Œæ–‡æœ¬ï¼‰ |
| mentions | Array<User> | å¦ | @æåŠçš„ç”¨æˆ·åˆ—è¡¨ |
| attachments | Array<Attachment> | å¦ | é™„ä»¶åˆ—è¡¨ |
| parentId | String | å¦ | çˆ¶è¯„è®ºIDï¼ˆå›å¤æ—¶ï¼‰ |
| replies | Array<Comment> | å¦ | å›å¤åˆ—è¡¨ |
| likes | Number | å¦ | ç‚¹èµæ•° |
| likedBy | Array<User> | å¦ | ç‚¹èµç”¨æˆ·åˆ—è¡¨ |
| createdAt | DateTime | æ˜¯ | åˆ›å»ºæ—¶é—´ |
| updatedAt | DateTime | æ˜¯ | æ›´æ–°æ—¶é—´ |
| edited | Boolean | å¦ | æ˜¯å¦å·²ç¼–è¾‘ |

### 3.2 é™„ä»¶å­—æ®µ

| å­—æ®µå | å­—æ®µç±»å‹ | è¯´æ˜ |
|--------|---------|------|
| id | String | é™„ä»¶ID |
| name | String | æ–‡ä»¶å |
| size | Number | æ–‡ä»¶å¤§å°ï¼ˆå­—èŠ‚ï¼‰ |
| type | String | æ–‡ä»¶ç±»å‹ |
| url | String | æ–‡ä»¶URL |
| uploadedBy | User | ä¸Šä¼ è€… |
| uploadedAt | DateTime | ä¸Šä¼ æ—¶é—´ |

---

## å››ã€äº¤äº’è®¾è®¡

### 4.1 æ·»åŠ è¯„è®º

- **å¯Œæ–‡æœ¬ç¼–è¾‘**: æ”¯æŒå¯Œæ–‡æœ¬ç¼–è¾‘ï¼ˆåŠ ç²—ã€æ–œä½“ã€åˆ—è¡¨ã€é“¾æ¥ç­‰ï¼‰
- **@æåŠ**: è¾“å…¥@åæ˜¾ç¤ºç”¨æˆ·åˆ—è¡¨ï¼Œé€‰æ‹©ç”¨æˆ·è¿›è¡ŒæåŠ
- **é™„ä»¶ä¸Šä¼ **: æ”¯æŒæ‹–æ‹½æˆ–ç‚¹å‡»ä¸Šä¼ é™„ä»¶
- **è¡¨æƒ…**: æ”¯æŒæ’å…¥è¡¨æƒ…ç¬¦å·
- **é¢„è§ˆ**: æ”¯æŒé¢„è§ˆè¯„è®ºå†…å®¹

### 4.2 å›å¤è¯„è®º

- **åµŒå¥—å›å¤**: æ”¯æŒå¤šçº§åµŒå¥—å›å¤
- **å¼•ç”¨**: å›å¤æ—¶è‡ªåŠ¨å¼•ç”¨åŸè¯„è®ºå†…å®¹
- **é€šçŸ¥**: å›å¤æ—¶é€šçŸ¥åŸè¯„è®ºä½œè€…å’Œ@æåŠçš„ç”¨æˆ·

### 4.3 è¯„è®ºæ“ä½œ

- **ç‚¹èµ**: ç‚¹èµ/å–æ¶ˆç‚¹èµè¯„è®º
- **ç¼–è¾‘**: ç¼–è¾‘è‡ªå·±çš„è¯„è®ºï¼ˆæ˜¾ç¤ºç¼–è¾‘æ ‡è®°ï¼‰
- **åˆ é™¤**: åˆ é™¤è‡ªå·±çš„è¯„è®ºï¼ˆéœ€è¦ç¡®è®¤ï¼‰
- **ä¸¾æŠ¥**: ä¸¾æŠ¥ä¸å½“è¯„è®º

---

## äº”ã€APIæ¥å£

### 5.1 è·å–è¯„è®ºåˆ—è¡¨

**è¯·æ±‚**:
```http
GET /api/v1/comments?entityType=feature&entityId=feature-001&page=1&pageSize=20
```

**å“åº”**:
```json
{
  "code": 200,
  "data": {
    "comments": [
      {
        "id": "comment-001",
        "entityType": "feature",
        "entityId": "feature-001",
        "author": {
          "id": "user-001",
          "name": "å¼ ä¼Ÿ",
          "role": "PO"
        },
        "content": "è¿™ä¸ªFeatureçš„ä¸šåŠ¡ä»·å€¼å¾ˆæ˜ç¡®ï¼Œå»ºè®®ä¼˜å…ˆå¼€å‘ã€‚",
        "mentions": [],
        "attachments": [],
        "replies": [...],
        "likes": 5,
        "createdAt": "2025-01-15T10:00:00Z",
        "edited": false
      }
    ],
    "total": 10,
    "page": 1,
    "pageSize": 20
  }
}
```

### 5.2 æ·»åŠ è¯„è®º

**è¯·æ±‚**:
```http
POST /api/v1/comments
Content-Type: application/json

{
  "entityType": "feature",
  "entityId": "feature-001",
  "content": "è¿™ä¸ªFeatureçš„ä¸šåŠ¡ä»·å€¼å¾ˆæ˜ç¡®ï¼Œå»ºè®®ä¼˜å…ˆå¼€å‘ã€‚",
  "mentions": ["user-002"],
  "parentId": null
}
```

### 5.3 å›å¤è¯„è®º

**è¯·æ±‚**:
```http
POST /api/v1/comments
Content-Type: application/json

{
  "entityType": "feature",
  "entityId": "feature-001",
  "content": "åŒæ„ï¼Œå·²çº³å…¥ä¸‹ä¸ªSprintè®¡åˆ’ã€‚",
  "parentId": "comment-001"
}
```

---

## å…­ã€é›†æˆä½ç½®

### 6.1 Epicè¯¦æƒ…é¡µ
- åœ¨Epicè¯¦æƒ…é¡µæ·»åŠ "è¯„è®º"Tab
- æ˜¾ç¤ºè¯¥Epicçš„æ‰€æœ‰è¯„è®º

### 6.2 Featureè¯¦æƒ…é¡µ
- åœ¨Featureè¯¦æƒ…é¡µæ·»åŠ "è¯„è®º"Tab
- æ˜¾ç¤ºè¯¥Featureçš„æ‰€æœ‰è¯„è®º

### 6.3 SSTSè¯¦æƒ…é¡µ
- åœ¨SSTSè¯¦æƒ…é¡µæ·»åŠ "è¯„è®º"Tab
- æ˜¾ç¤ºè¯¥SSTSçš„æ‰€æœ‰è¯„è®º

---

**è®¾è®¡ç‰ˆæœ¬**: V1.0  
**æœ€åæ›´æ–°**: 2026-01-17
