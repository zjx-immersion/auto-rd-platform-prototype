# ç´§å‡‘å‹å¸ƒå±€åº”ç”¨æŒ‡å—

> **ç›®çš„**: æŒ‡å¯¼å¼€å‘äººå‘˜å¿«é€Ÿåº”ç”¨ç´§å‡‘å‹å¸ƒå±€åˆ°ç°æœ‰é¡µé¢  
> **é€‚ç”¨èŒƒå›´**: Phase 1-6 æ‰€æœ‰åˆ—è¡¨é¡µå’Œè¯¦æƒ…é¡µ  
> **é¢„è®¡èŠ‚çœ**: æ¯é¡µ10-15åˆ†é’Ÿå¼€å‘æ—¶é—´

---

## ä¸€ã€åˆ—è¡¨é¡µä¼˜åŒ–ç¤ºä¾‹

### 1.1 ä¼˜åŒ–å‰ï¼ˆä¼ ç»Ÿå¸ƒå±€ï¼‰

```vue
<template>
  <div class="epic-list-container">
    <PageContainer>
      <!-- é¡µé¢å¤´éƒ¨ -->
      <div class="page-header">
        <div class="header-left">
          <h2>Epicç®¡ç†</h2>
          <p class="description">ç®¡ç†å’ŒæŸ¥çœ‹æ‰€æœ‰Epicéœ€æ±‚</p>
        </div>
        <div class="header-right">
          <el-button type="primary" @click="handleCreate">æ–°å»ºEpic</el-button>
        </div>
      </div>

      <!-- ç­›é€‰åŒº -->
      <el-card class="filter-card" shadow="never">
        <el-form :inline="true" :model="filterForm">
          <el-form-item label="é¡¹ç›®">
            <el-select v-model="filterForm.projectId">
              <el-option label="å…¨éƒ¨" value="" />
            </el-select>
          </el-form-item>
          <el-form-item label="çŠ¶æ€">
            <el-select v-model="filterForm.status">
              <el-option label="å…¨éƒ¨" value="" />
            </el-select>
          </el-form-item>
          <el-form-item>
            <el-button type="primary" @click="handleFilter">æŸ¥è¯¢</el-button>
            <el-button @click="handleReset">é‡ç½®</el-button>
          </el-form-item>
        </el-form>
      </el-card>

      <!-- æ•°æ®è¡¨æ ¼ -->
      <el-card class="table-card" shadow="never">
        <el-table :data="tableData" v-loading="loading">
          <!-- è¡¨æ ¼åˆ— -->
        </el-table>
        <div class="pagination-wrapper">
          <el-pagination ... />
        </div>
      </el-card>
    </PageContainer>
  </div>
</template>

<style scoped lang="scss">
.page-header {
  margin-bottom: 20px;
  // ...
}
.filter-card {
  margin-bottom: 16px;
}
</style>
```

**é—®é¢˜**:
- âŒ æ ‡é¢˜åŒºå ç”¨80pxï¼ˆæ ‡é¢˜+æè¿°ï¼‰
- âŒ ç­›é€‰åŒºå•ç‹¬å ç”¨120px
- âŒ å¡ç‰‡å¤šå±‚åµŒå¥—ï¼Œé—´è·æµªè´¹
- âŒ è¡¨æ ¼é«˜åº¦å›ºå®šï¼Œä¸è‡ªé€‚åº”

---

### 1.2 ä¼˜åŒ–åï¼ˆç´§å‡‘å‹å¸ƒå±€ï¼‰

```vue
<template>
  <CompactListLayout
    title="Epicç®¡ç†"
    :current-page="pagination.currentPage"
    :page-size="pagination.pageSize"
    :total="pagination.total"
    @create="handleCreate"
    @size-change="handleSizeChange"
    @page-change="handlePageChange"
  >
    <!-- è‡ªå®šä¹‰å·¥å…·æ å·¦ä¾§ -->
    <template #toolbar-left>
      <el-input
        v-model="searchKeyword"
        placeholder="æœç´¢Epicåç§°ã€ç¼–ç "
        clearable
        style="width: 220px"
        @change="handleSearch"
      >
        <template #prefix>
          <el-icon><Search /></el-icon>
        </template>
      </el-input>
      
      <el-select
        v-model="filterForm.projectId"
        placeholder="é¡¹ç›®"
        clearable
        style="width: 150px"
        @change="handleFilter"
      >
        <el-option
          v-for="project in allProjects"
          :key="project.id"
          :label="project.name"
          :value="project.id"
        />
      </el-select>
      
      <el-select
        v-model="filterForm.status"
        placeholder="çŠ¶æ€"
        clearable
        style="width: 120px"
        @change="handleFilter"
      >
        <el-option label="å¾…å¤„ç†" value="todo" />
        <el-option label="è¿›è¡Œä¸­" value="inprogress" />
        <el-option label="å·²å®Œæˆ" value="done" />
      </el-select>
      
      <el-button :icon="RefreshLeft" circle @click="handleRefresh" title="åˆ·æ–°" />
    </template>

    <!-- è‡ªå®šä¹‰å·¥å…·æ å³ä¾§ -->
    <template #toolbar-right>
      <el-button type="primary" :icon="Plus" @click="handleCreate">
        æ–°å»ºEpic
      </el-button>
      <el-button :icon="Upload">å¯¼å…¥</el-button>
      <el-button :icon="Download">å¯¼å‡º</el-button>
    </template>

    <!-- æ•°æ®è¡¨æ ¼ -->
    <template #table>
      <el-table
        :data="tableData"
        :height="tableHeight"
        v-loading="loading"
        stripe
        border
        @row-click="handleRowClick"
      >
        <el-table-column type="selection" width="55" fixed="left" />
        <el-table-column prop="code" label="Epicç¼–ç " width="150" />
        <el-table-column prop="name" label="Epicåç§°" min-width="200" show-overflow-tooltip />
        <el-table-column prop="projectName" label="æ‰€å±é¡¹ç›®" width="150" />
        <el-table-column label="çŠ¶æ€" width="100">
          <template #default="{ row }">
            <el-tag :type="getStatusType(row.status)" size="small">
              {{ getStatusText(row.status) }}
            </el-tag>
          </template>
        </el-table-column>
        <el-table-column label="ä¼˜å…ˆçº§" width="100">
          <template #default="{ row }">
            <el-tag :type="getPriorityType(row.priority)" size="small">
              {{ getPriorityText(row.priority) }}
            </el-tag>
          </template>
        </el-table-column>
        <el-table-column prop="featureCount" label="Featureæ•°" width="100" />
        <el-table-column label="è¿›åº¦" width="150">
          <template #default="{ row }">
            <el-progress :percentage="row.progress" :stroke-width="8" />
          </template>
        </el-table-column>
        <el-table-column label="æ“ä½œ" width="200" fixed="right">
          <template #default="{ row }">
            <el-button link type="primary" size="small" @click.stop="handleView(row)">
              æŸ¥çœ‹
            </el-button>
            <el-button link type="primary" size="small" @click.stop="handleEdit(row)">
              ç¼–è¾‘
            </el-button>
            <el-button link type="primary" size="small" @click.stop="handleDecompose(row)">
              æ‹†è§£
            </el-button>
            <el-button link type="danger" size="small" @click.stop="handleDelete(row)">
              åˆ é™¤
            </el-button>
          </template>
        </el-table-column>
      </el-table>
    </template>
  </CompactListLayout>
</template>

<script setup lang="ts">
import { ref, computed, onMounted } from 'vue'
import { useRouter } from 'vue-router'
import { ElMessage } from 'element-plus'
import { Search, RefreshLeft, Plus, Upload, Download } from '@element-plus/icons-vue'
import { useEpicStore } from '@/stores/modules/epic'
import { useProjectStore } from '@/stores/modules/project'
import { useTableHeight } from '@/composables/useTableHeight'
import CompactListLayout from '@/components/Layout/CompactListLayout.vue'
import type { Epic } from '@/types'

const router = useRouter()
const epicStore = useEpicStore()
const projectStore = useProjectStore()

// ä½¿ç”¨è¡¨æ ¼é«˜åº¦è‡ªé€‚åº”Hook
const { tableHeight } = useTableHeight()

// æ•°æ®
const loading = ref(false)
const searchKeyword = ref('')
const tableData = ref<Epic[]>([])

// ç­›é€‰è¡¨å•
const filterForm = ref({
  projectId: '',
  status: '',
  priority: ''
})

// åˆ†é¡µ
const pagination = ref({
  currentPage: 1,
  pageSize: 20,
  total: 0
})

// è®¡ç®—å±æ€§
const allProjects = computed(() => projectStore.projects)

// æ–¹æ³•
const fetchData = async () => {
  loading.value = true
  try {
    await epicStore.fetchEpics()
    tableData.value = epicStore.epics
    pagination.value.total = tableData.value.length
  } finally {
    loading.value = false
  }
}

const handleSearch = () => {
  // æœç´¢é€»è¾‘
}

const handleFilter = () => {
  // ç­›é€‰é€»è¾‘
}

const handleRefresh = () => {
  fetchData()
}

const handleCreate = () => {
  router.push('/function/c1-requirement/epic/create')
}

const handleView = (row: Epic) => {
  router.push(`/function/c1-requirement/epic/${row.id}`)
}

const handleEdit = (row: Epic) => {
  router.push(`/function/c1-requirement/epic/edit/${row.id}`)
}

const handleDecompose = (row: Epic) => {
  router.push(`/function/c1-requirement/feature/decompose/${row.id}`)
}

const handleDelete = async (row: Epic) => {
  // åˆ é™¤é€»è¾‘
}

const handleRowClick = (row: Epic) => {
  handleView(row)
}

const handleSizeChange = (size: number) => {
  pagination.value.pageSize = size
  fetchData()
}

const handlePageChange = (page: number) => {
  pagination.value.currentPage = page
  fetchData()
}

// è¾…åŠ©æ–¹æ³•
const getStatusType = (status: string) => {
  const map: Record<string, any> = {
    todo: 'info',
    inprogress: '',
    done: 'success'
  }
  return map[status] || ''
}

const getStatusText = (status: string) => {
  const map: Record<string, string> = {
    todo: 'å¾…å¤„ç†',
    inprogress: 'è¿›è¡Œä¸­',
    done: 'å·²å®Œæˆ'
  }
  return map[status] || status
}

const getPriorityType = (priority: string) => {
  const map: Record<string, any> = {
    p0: 'danger',
    p1: 'warning',
    p2: '',
    p3: 'success'
  }
  return map[priority] || ''
}

const getPriorityText = (priority: string) => {
  const map: Record<string, string> = {
    p0: 'P0-ç´§æ€¥',
    p1: 'P1-é«˜',
    p2: 'P2-ä¸­',
    p3: 'P3-ä½'
  }
  return map[priority] || priority
}

onMounted(() => {
  fetchData()
})
</script>
```

**æ”¹è¿›**:
- âœ… ä½¿ç”¨ `CompactListLayout` ç»„ä»¶ï¼Œå¸ƒå±€ä¸€è‡´
- âœ… å·¥å…·æ ä¸€ä½“åŒ–ï¼Œæ ‡é¢˜+ç­›é€‰+æ“ä½œåœ¨ä¸€è¡Œ
- âœ… è¡¨æ ¼é«˜åº¦è‡ªé€‚åº”ï¼Œä½¿ç”¨ `useTableHeight` Hook
- âœ… æ— å¤šä½™å¡ç‰‡åµŒå¥—ï¼Œè§†è§‰æ›´æ¸…çˆ½
- âœ… ä»£ç æ›´ç®€æ´ï¼Œå‡å°‘çº¦30%æ ·å¼ä»£ç 

---

## äºŒã€è¯¦æƒ…é¡µä¼˜åŒ–ç¤ºä¾‹

### 2.1 ä¼˜åŒ–å‰ï¼ˆä¼ ç»Ÿå¸ƒå±€ï¼‰

```vue
<template>
  <div class="epic-detail-container">
    <PageContainer>
      <!-- é¡µé¢å¤´éƒ¨ -->
      <div class="page-header">
        <div class="header-left">
          <el-button @click="handleBack">è¿”å›</el-button>
          <div class="title-section">
            <h1>{{ detailData.name }}</h1>
            <el-tag>{{ detailData.status }}</el-tag>
          </div>
          <div class="meta-info">
            <span>åˆ›å»ºäºº: {{ detailData.creator }}</span>
            <span>åˆ›å»ºæ—¶é—´: {{ detailData.createdAt }}</span>
          </div>
        </div>
        <div class="header-right">
          <el-button @click="handleEdit">ç¼–è¾‘</el-button>
          <el-button @click="handleDelete">åˆ é™¤</el-button>
        </div>
      </div>

      <!-- æ ‡ç­¾é¡µå†…å®¹ -->
      <el-card>
        <el-tabs v-model="activeTab">
          <el-tab-pane label="åŸºæœ¬ä¿¡æ¯" name="basic">
            <!-- å†…å®¹ -->
          </el-tab-pane>
        </el-tabs>
      </el-card>

      <!-- ä¾§è¾¹é¢æ¿ -->
      <el-card class="side-panel">
        <h3>å¿«æ·æ“ä½œ</h3>
        <!-- æ“ä½œ -->
      </el-card>
    </PageContainer>
  </div>
</template>
```

---

### 2.2 ä¼˜åŒ–åï¼ˆç´§å‡‘å‹å¸ƒå±€ï¼‰

```vue
<template>
  <CompactDetailLayout
    :title="detailData.name"
    @back="handleBack"
    @edit="handleEdit"
    @delete="handleDelete"
  >
    <!-- å¤´éƒ¨é¢å¤–ä¿¡æ¯ -->
    <template #header-extra>
      <el-tag :type="getStatusType(detailData.status)" size="small">
        {{ getStatusText(detailData.status) }}
      </el-tag>
      <el-tag type="info" size="small">{{ detailData.code }}</el-tag>
    </template>

    <!-- è‡ªå®šä¹‰å¤´éƒ¨æ“ä½œ -->
    <template #header-actions>
      <el-button :icon="Edit" @click="handleEdit">ç¼–è¾‘</el-button>
      <el-button :icon="Delete" @click="handleDelete">åˆ é™¤</el-button>
      <el-dropdown>
        <el-button>
          æ›´å¤š<el-icon class="el-icon--right"><arrow-down /></el-icon>
        </el-button>
        <template #dropdown>
          <el-dropdown-menu>
            <el-dropdown-item @click="handleClone">å…‹éš†</el-dropdown-item>
            <el-dropdown-item @click="handleExport">å¯¼å‡º</el-dropdown-item>
            <el-dropdown-item @click="handleDecompose">æ‹†è§£Feature</el-dropdown-item>
          </el-dropdown-menu>
        </template>
      </el-dropdown>
    </template>

    <!-- ä¸»å†…å®¹åŒº -->
    <el-tabs v-model="activeTab" type="card">
      <el-tab-pane label="åŸºæœ¬ä¿¡æ¯" name="basic">
        <div class="info-section">
          <el-descriptions :column="2" border>
            <el-descriptions-item label="Epicç¼–ç ">
              {{ detailData.code }}
            </el-descriptions-item>
            <el-descriptions-item label="æ‰€å±é¡¹ç›®">
              <el-link @click="goToProject">{{ detailData.projectName }}</el-link>
            </el-descriptions-item>
            <el-descriptions-item label="ä¼˜å…ˆçº§">
              <el-tag :type="getPriorityType(detailData.priority)">
                {{ getPriorityText(detailData.priority) }}
              </el-tag>
            </el-descriptions-item>
            <el-descriptions-item label="è´Ÿè´£äºº">
              {{ detailData.ownerName }}
            </el-descriptions-item>
            <el-descriptions-item label="åˆ›å»ºæ—¶é—´" :span="2">
              {{ detailData.createdAt }}
            </el-descriptions-item>
            <el-descriptions-item label="æè¿°" :span="2">
              {{ detailData.description }}
            </el-descriptions-item>
          </el-descriptions>
        </div>
      </el-tab-pane>

      <el-tab-pane label="Featureåˆ—è¡¨" name="features">
        <div class="feature-section">
          <div class="section-header">
            <span>å…± {{ features.length }} ä¸ªFeature</span>
            <el-button type="primary" size="small" @click="handleAddFeature">
              æ·»åŠ Feature
            </el-button>
          </div>
          <el-table :data="features" stripe>
            <el-table-column prop="code" label="Featureç¼–ç " width="150" />
            <el-table-column prop="name" label="Featureåç§°" min-width="200" />
            <el-table-column prop="status" label="çŠ¶æ€" width="100" />
            <el-table-column label="æ“ä½œ" width="150">
              <template #default="{ row }">
                <el-button link type="primary" size="small" @click="viewFeature(row)">
                  æŸ¥çœ‹
                </el-button>
                <el-button link type="danger" size="small" @click="removeFeature(row)">
                  ç§»é™¤
                </el-button>
              </template>
            </el-table-column>
          </el-table>
        </div>
      </el-tab-pane>

      <el-tab-pane label="æ“ä½œå†å²" name="history">
        <el-timeline>
          <el-timeline-item
            v-for="activity in activities"
            :key="activity.id"
            :timestamp="activity.timestamp"
          >
            {{ activity.content }}
          </el-timeline-item>
        </el-timeline>
      </el-tab-pane>
    </el-tabs>

    <!-- ä¾§è¾¹é¢æ¿ -->
    <template #side-panel>
      <div class="panel-section">
        <h3 class="section-title">å¿«æ·æ“ä½œ</h3>
        <el-button size="small" style="width: 100%; margin-bottom: 8px" @click="handleDecompose">
          æ‹†è§£Feature
        </el-button>
        <el-button size="small" style="width: 100%; margin-bottom: 8px" @click="handleAddToPI">
          åŠ å…¥PI
        </el-button>
        <el-button size="small" style="width: 100%; margin-bottom: 8px" @click="handleViewProgress">
          æŸ¥çœ‹è¿›åº¦
        </el-button>
      </div>

      <div class="panel-section">
        <h3 class="section-title">ç›¸å…³ä¿¡æ¯</h3>
        <div class="info-item">
          <span class="label">æ‰€å±é¡¹ç›®:</span>
          <el-link @click="goToProject">{{ detailData.projectName }}</el-link>
        </div>
        <div class="info-item">
          <span class="label">Featureæ•°é‡:</span>
          <span>{{ features.length }}</span>
        </div>
        <div class="info-item">
          <span class="label">å®Œæˆè¿›åº¦:</span>
          <el-progress :percentage="detailData.progress" />
        </div>
      </div>

      <div class="panel-section">
        <h3 class="section-title">å…³é”®æŒ‡æ ‡</h3>
        <el-statistic :value="features.length" title="Featureæ•°" />
        <el-statistic :value="detailData.progress" suffix="%" title="å®Œæˆè¿›åº¦" />
        <el-statistic :value="detailData.storyPoints" title="Story Points" />
      </div>
    </template>
  </CompactDetailLayout>
</template>

<script setup lang="ts">
import { ref, computed, onMounted } from 'vue'
import { useRouter, useRoute } from 'vue-router'
import { ElMessage, ElMessageBox } from 'element-plus'
import { Edit, Delete, ArrowDown } from '@element-plus/icons-vue'
import { useEpicStore } from '@/stores/modules/epic'
import { useFeatureStore } from '@/stores/modules/feature'
import CompactDetailLayout from '@/components/Layout/CompactDetailLayout.vue'
import type { Epic, Feature, ActivityLog } from '@/types'

const router = useRouter()
const route = useRoute()
const epicStore = useEpicStore()
const featureStore = useFeatureStore()

const epicId = route.params.id as string

const detailData = ref<Epic>({} as Epic)
const features = ref<Feature[]>([])
const activities = ref<ActivityLog[]>([])
const activeTab = ref('basic')

const fetchData = async () => {
  try {
    detailData.value = await epicStore.fetchEpicById(epicId)
    features.value = await featureStore.fetchFeaturesByEpic(epicId)
  } catch (error) {
    ElMessage.error('åŠ è½½æ•°æ®å¤±è´¥')
  }
}

const handleBack = () => {
  router.back()
}

const handleEdit = () => {
  router.push(`/function/c1-requirement/epic/edit/${epicId}`)
}

const handleDelete = async () => {
  try {
    await ElMessageBox.confirm('ç¡®å®šè¦åˆ é™¤è¯¥Epicå—ï¼Ÿ', 'è­¦å‘Š', {
      type: 'warning'
    })
    await epicStore.deleteEpic(epicId)
    ElMessage.success('åˆ é™¤æˆåŠŸ')
    handleBack()
  } catch {
    // ç”¨æˆ·å–æ¶ˆ
  }
}

const handleDecompose = () => {
  router.push(`/function/c1-requirement/feature/decompose/${epicId}`)
}

const handleClone = () => {
  // å…‹éš†é€»è¾‘
}

const handleExport = () => {
  // å¯¼å‡ºé€»è¾‘
}

const handleAddFeature = () => {
  router.push(`/function/c1-requirement/feature/create?epicId=${epicId}`)
}

const viewFeature = (feature: Feature) => {
  router.push(`/function/c1-requirement/feature/${feature.id}`)
}

const removeFeature = async (feature: Feature) => {
  // ç§»é™¤Featureé€»è¾‘
}

const goToProject = () => {
  router.push(`/function/c0-project/detail/${detailData.value.projectId}`)
}

const getStatusType = (status: string) => {
  // çŠ¶æ€ç±»å‹æ˜ å°„
}

const getStatusText = (status: string) => {
  // çŠ¶æ€æ–‡æœ¬æ˜ å°„
}

const getPriorityType = (priority: string) => {
  // ä¼˜å…ˆçº§ç±»å‹æ˜ å°„
}

const getPriorityText = (priority: string) => {
  // ä¼˜å…ˆçº§æ–‡æœ¬æ˜ å°„
}

onMounted(() => {
  fetchData()
})
</script>

<style scoped lang="scss">
.info-section {
  padding: 16px 0;
}

.feature-section {
  .section-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 16px;
  }
}

.panel-section {
  margin-bottom: 24px;

  &:last-child {
    margin-bottom: 0;
  }

  .section-title {
    margin: 0 0 12px 0;
    font-size: 14px;
    font-weight: 600;
    color: #262626;
  }

  .info-item {
    padding: 8px 0;
    font-size: 14px;

    .label {
      color: #8c8c8c;
      margin-right: 8px;
    }
  }
}
</style>
```

---

## ä¸‰ã€æ‰¹é‡ä¼˜åŒ–æ¸…å•

### 3.1 ç¬¬ä¸€æ‰¹ï¼šæ ¸å¿ƒåˆ—è¡¨é¡µï¼ˆ10ä¸ªï¼Œé¢„è®¡2-3å°æ—¶ï¼‰

| # | é¡µé¢ | è·¯å¾„ | ä¼˜å…ˆçº§ | é¢„è®¡æ—¶é—´ |
|---|------|------|--------|---------|
| 1 | Epicåˆ—è¡¨ | `C1-Requirement/EpicList.vue` | P0 | 15åˆ†é’Ÿ |
| 2 | Featureåˆ—è¡¨ | `C1-Requirement/FeatureList.vue` | P0 | 15åˆ†é’Ÿ |
| 3 | SSTSåˆ—è¡¨ | `C1-Requirement/SSTSList.vue` | P0 | 15åˆ†é’Ÿ |
| 4 | MRåˆ—è¡¨ | `C1-Requirement/MRList.vue` | P0 | 15åˆ†é’Ÿ |
| 5 | éœ€æ±‚æ±  | `C1-Requirement/RequirementPool.vue` | P0 | 15åˆ†é’Ÿ |
| 6 | Sprintåˆ—è¡¨ | `C3-Planning/SprintList.vue` | P0 | 15åˆ†é’Ÿ |
| 7 | Taskåˆ—è¡¨ | `C4-Iteration/TaskList.vue` | P0 | 15åˆ†é’Ÿ |
| 8 | æµ‹è¯•ç”¨ä¾‹åˆ—è¡¨ | `C5-Testing/TestCaseList.vue` | P0 | 15åˆ†é’Ÿ |
| 9 | ç¼ºé™·åˆ—è¡¨ | `C5-Testing/DefectList.vue` | P0 | 15åˆ†é’Ÿ |
| 10 | èµ„äº§åˆ—è¡¨ | `C2-Assets/AssetList.vue` | P0 | 15åˆ†é’Ÿ |

**ä¼˜åŒ–æ­¥éª¤**ï¼ˆæ¯é¡µï¼‰:
1. å¼•å…¥ `CompactListLayout` ç»„ä»¶
2. å¼•å…¥ `useTableHeight` Hook
3. ç§»é™¤æ—§çš„é¡µé¢å¤´éƒ¨å’Œç­›é€‰å¡ç‰‡
4. å°†ç­›é€‰é¡¹ç§»åˆ° `toolbar-left` æ’æ§½
5. å°†æ“ä½œæŒ‰é’®ç§»åˆ° `toolbar-right` æ’æ§½
6. åœ¨è¡¨æ ¼ä¸Šæ·»åŠ  `:height="tableHeight"`
7. ç§»é™¤æ—§çš„æ ·å¼ä»£ç 
8. æµ‹è¯•éªŒè¯

---

### 3.2 ç¬¬äºŒæ‰¹ï¼šæ ¸å¿ƒè¯¦æƒ…é¡µï¼ˆ9ä¸ªï¼Œé¢„è®¡2-3å°æ—¶ï¼‰

| # | é¡µé¢ | è·¯å¾„ | ä¼˜å…ˆçº§ | é¢„è®¡æ—¶é—´ |
|---|------|------|--------|---------|
| 1 | Epicè¯¦æƒ… | `C1-Requirement/EpicDetail.vue` | P1 | 20åˆ†é’Ÿ |
| 2 | Featureè¯¦æƒ… | `C1-Requirement/FeatureDetail.vue` | P1 | 20åˆ†é’Ÿ |
| 3 | SSTSè¯¦æƒ… | `C1-Requirement/SSTSDetail.vue` | P1 | 20åˆ†é’Ÿ |
| 4 | MRè¯¦æƒ… | `C1-Requirement/MRDetail.vue` | P1 | 20åˆ†é’Ÿ |
| 5 | Sprintè¯¦æƒ… | `C4-Iteration/SprintDetail.vue` | P1 | 20åˆ†é’Ÿ |
| 6 | Taskè¯¦æƒ… | `C4-Iteration/TaskDetail.vue` | P1 | 15åˆ†é’Ÿ |
| 7 | æµ‹è¯•ç”¨ä¾‹è¯¦æƒ… | `C5-Testing/TestCaseDetail.vue` | P1 | 15åˆ†é’Ÿ |
| 8 | ç¼ºé™·è¯¦æƒ… | `C5-Testing/DefectDetail.vue` | P1 | 15åˆ†é’Ÿ |
| 9 | é¡¹ç›®è¯¦æƒ… | `C0-Project/ProjectDetail.vue` | P1 | 20åˆ†é’Ÿ |

**ä¼˜åŒ–æ­¥éª¤**ï¼ˆæ¯é¡µï¼‰:
1. å¼•å…¥ `CompactDetailLayout` ç»„ä»¶
2. ç§»é™¤æ—§çš„é¡µé¢å¤´éƒ¨
3. å°†æ ‡é¢˜ç§»åˆ°ç»„ä»¶prop
4. å°†æ ‡ç­¾ç­‰é¢å¤–ä¿¡æ¯ç§»åˆ° `header-extra` æ’æ§½
5. å°†æ“ä½œæŒ‰é’®ç§»åˆ° `header-actions` æ’æ§½
6. ä¾§è¾¹é¢æ¿å†…å®¹ç§»åˆ° `side-panel` æ’æ§½
7. è°ƒæ•´å†…å®¹åŒºTabæ ·å¼
8. ç§»é™¤æ—§çš„æ ·å¼ä»£ç 
9. æµ‹è¯•éªŒè¯

---

## å››ã€å¿«é€Ÿè¿ç§»æ£€æŸ¥æ¸…å•

### âœ… åˆ—è¡¨é¡µè¿ç§»æ£€æŸ¥

- [ ] å·²å¼•å…¥ `CompactListLayout` ç»„ä»¶
- [ ] å·²å¼•å…¥ `useTableHeight` Hook
- [ ] æ ‡é¢˜ä¼ é€’åˆ° `title` prop
- [ ] ç­›é€‰é¡¹åœ¨ `toolbar-left` æ’æ§½
- [ ] æ“ä½œæŒ‰é’®åœ¨ `toolbar-right` æ’æ§½
- [ ] è¡¨æ ¼è®¾ç½®äº† `:height="tableHeight"`
- [ ] è¡¨æ ¼è®¾ç½®äº† `border` å’Œ `stripe`
- [ ] åˆ†é¡µå‚æ•°æ­£ç¡®ç»‘å®š
- [ ] å·²ç§»é™¤æ—§çš„é¡µé¢å¤´éƒ¨å’Œç­›é€‰å¡ç‰‡
- [ ] å·²ç§»é™¤å¤§éƒ¨åˆ†æ ·å¼ä»£ç 
- [ ] é¡µé¢åŠŸèƒ½æ­£å¸¸ï¼ˆç­›é€‰ã€åˆ†é¡µã€CRUDï¼‰
- [ ] è¡¨æ ¼é«˜åº¦è‡ªé€‚åº”çª—å£å¤§å°
- [ ] æ— æ§åˆ¶å°é”™è¯¯å’Œè­¦å‘Š

### âœ… è¯¦æƒ…é¡µè¿ç§»æ£€æŸ¥

- [ ] å·²å¼•å…¥ `CompactDetailLayout` ç»„ä»¶
- [ ] æ ‡é¢˜ä¼ é€’åˆ° `title` prop
- [ ] è¿”å›/ç¼–è¾‘/åˆ é™¤äº‹ä»¶æ­£ç¡®ç»‘å®š
- [ ] é¢å¤–ä¿¡æ¯åœ¨ `header-extra` æ’æ§½
- [ ] æ“ä½œæŒ‰é’®åœ¨ `header-actions` æ’æ§½
- [ ] ä¾§è¾¹é¢æ¿å†…å®¹åœ¨ `side-panel` æ’æ§½
- [ ] Tabå†…å®¹æ­£ç¡®å±•ç¤º
- [ ] å·²ç§»é™¤æ—§çš„é¡µé¢å¤´éƒ¨
- [ ] å·²ç§»é™¤å¤§éƒ¨åˆ†æ ·å¼ä»£ç 
- [ ] é¡µé¢åŠŸèƒ½æ­£å¸¸ï¼ˆæŸ¥çœ‹ã€ç¼–è¾‘ã€åˆ é™¤ï¼‰
- [ ] ä¾§è¾¹é¢æ¿æ­£ç¡®æ˜¾ç¤º
- [ ] å“åº”å¼é€‚é…æ­£å¸¸
- [ ] æ— æ§åˆ¶å°é”™è¯¯å’Œè­¦å‘Š

---

## äº”ã€å¸¸è§é—®é¢˜FAQ

### Q1: å¦‚ä½•è‡ªå®šä¹‰å·¥å…·æ ï¼Ÿ

**A**: ä½¿ç”¨æ’æ§½è¦†ç›–é»˜è®¤å†…å®¹

```vue
<CompactListLayout title="è‡ªå®šä¹‰æ ‡é¢˜">
  <template #toolbar-left>
    <!-- å®Œå…¨è‡ªå®šä¹‰å·¦ä¾§å·¥å…·æ  -->
    <el-input ... />
    <el-select ... />
  </template>
  
  <template #toolbar-right>
    <!-- å®Œå…¨è‡ªå®šä¹‰å³ä¾§å·¥å…·æ  -->
    <el-button ... />
  </template>
</CompactListLayout>
```

### Q2: å¦‚ä½•éšè—åˆ†é¡µï¼Ÿ

**A**: è®¾ç½® `show-pagination` ä¸º `false`

```vue
<CompactListLayout
  title="æ— åˆ†é¡µåˆ—è¡¨"
  :show-pagination="false"
>
  ...
</CompactListLayout>
```

### Q3: å¦‚ä½•è°ƒæ•´è¡¨æ ¼é«˜åº¦è®¡ç®—ï¼Ÿ

**A**: ä¼ é€’è‡ªå®šä¹‰çš„ `fixedHeight` å‚æ•°

```typescript
// é»˜è®¤å€¼ï¼š232 = header(64) + toolbar(56) + pagination(56) + padding(56)
const { tableHeight } = useTableHeight(250) // è‡ªå®šä¹‰å›ºå®šé«˜åº¦
```

### Q4: ä¾§è¾¹é¢æ¿ä½•æ—¶éšè—ï¼Ÿ

**A**: è‡ªåŠ¨å“åº”å¼ï¼Œ1024pxä»¥ä¸‹éšè—

```scss
@media (max-width: 1024px) {
  .side-panel {
    display: none;  // è‡ªåŠ¨éšè—
  }
}
```

ä¹Ÿå¯ä»¥æ‰‹åŠ¨æ§åˆ¶ï¼š

```vue
<CompactDetailLayout
  :show-side-panel="false"
>
  ...
</CompactDetailLayout>
```

### Q5: å¦‚ä½•ä¿æŒæ—§é¡µé¢åŠŸèƒ½ä¸å˜ï¼Ÿ

**A**: åªæ›¿æ¢å¸ƒå±€ç»“æ„ï¼Œä¸šåŠ¡é€»è¾‘å’Œæ–¹æ³•ä¿æŒä¸å˜

```vue
<!-- è¿ç§»å‰åï¼Œè¿™äº›é€»è¾‘å®Œå…¨ä¸å˜ -->
<script setup lang="ts">
const handleFilter = () => { ... }   // ä¸å˜
const handleCreate = () => { ... }   // ä¸å˜
const fetchData = () => { ... }      // ä¸å˜
// ...
</script>
```

---

## å…­ã€æ€§èƒ½ä¼˜åŒ–å»ºè®®

### 6.1 å¤§æ•°æ®é‡è¡¨æ ¼

å¦‚æœè¡¨æ ¼æ•°æ®è¶…è¿‡1000æ¡ï¼Œå»ºè®®å¯ç”¨è™šæ‹Ÿæ»šåŠ¨ï¼š

```vue
<!-- ä½¿ç”¨ el-table-v2 æ›¿ä»£ el-table -->
<el-table-v2
  :columns="columns"
  :data="tableData"
  :width="tableWidth"
  :height="tableHeight"
  fixed
/>
```

### 6.2 é¿å…é‡å¤æ¸²æŸ“

ä½¿ç”¨ `v-once` å’Œ `v-memo` ä¼˜åŒ–ï¼š

```vue
<template v-for="item in staticList" :key="item.id">
  <div v-once>{{ item.name }}</div>
</template>
```

### 6.3 æ‡’åŠ è½½Tabå†…å®¹

è¯¦æƒ…é¡µTabå†…å®¹æŒ‰éœ€åŠ è½½ï¼š

```vue
<el-tab-pane label="Featureåˆ—è¡¨" name="features" lazy>
  <template #lazy>
    <FeatureList :epic-id="epicId" />
  </template>
</el-tab-pane>
```

---

## ä¸ƒã€æ€»ç»“

### âœ… ä¼˜åŠ¿

1. **ç»Ÿä¸€å¸ƒå±€**: æ‰€æœ‰åˆ—è¡¨é¡µå’Œè¯¦æƒ…é¡µå¸ƒå±€ä¸€è‡´
2. **ä»£ç ç®€åŒ–**: å‡å°‘30-50%çš„æ¨¡æ¿å’Œæ ·å¼ä»£ç 
3. **è‡ªé€‚åº”é«˜åº¦**: è¡¨æ ¼è‡ªåŠ¨é€‚åº”çª—å£ï¼Œæ— éœ€æ‰‹åŠ¨è®¡ç®—
4. **å“åº”å¼è®¾è®¡**: è‡ªåŠ¨é€‚é…ä¸åŒå±å¹•å°ºå¯¸
5. **ç»´æŠ¤æ€§å¥½**: å¸ƒå±€é€»è¾‘é›†ä¸­ç®¡ç†ï¼Œæ˜“äºç»Ÿä¸€ä¿®æ”¹

### âš ï¸ æ³¨æ„äº‹é¡¹

1. **æ¸è¿›å¼è¿ç§»**: å…ˆè¿ç§»å…³é”®é¡µé¢ï¼Œé€æ­¥è¦†ç›–å…¨éƒ¨
2. **å……åˆ†æµ‹è¯•**: è¿ç§»ååŠ¡å¿…æµ‹è¯•æ‰€æœ‰åŠŸèƒ½
3. **æ ·å¼å¾®è°ƒ**: æ ¹æ®å®é™…éœ€æ±‚å¾®è°ƒé—´è·å’Œå°ºå¯¸
4. **å…¼å®¹æ€§**: ç¡®ä¿IE11+å’Œç°ä»£æµè§ˆå™¨å…¼å®¹

### ğŸ“š å‚è€ƒèµ„æ–™

- ç´§å‡‘å‹å¸ƒå±€è®¾è®¡è§„èŒƒ: `prototype-framework/ç´§å‡‘å‹å¸ƒå±€è®¾è®¡è§„èŒƒ.md`
- å¸ƒå±€ä¼˜åŒ–å®æ–½æŠ¥å‘Š: `analysis-workspace/å¸ƒå±€ä¼˜åŒ–å®æ–½æŠ¥å‘Š.md`
- é€šç”¨å¸ƒå±€ç»„ä»¶æºç :
  - `frontend/src/components/Layout/CompactListLayout.vue`
  - `frontend/src/components/Layout/CompactDetailLayout.vue`
  - `frontend/src/composables/useTableHeight.ts`

---

**æ–‡æ¡£ç‰ˆæœ¬**: V1.0  
**æ›´æ–°æ—¥æœŸ**: 2026-01-17  
**ä¸‹ä¸€æ­¥**: æŒ‰æ‰¹æ¬¡ä¼˜åŒ–æ ¸å¿ƒé¡µé¢
