# 数据实体字段完整说明文档

> **文档版本**: 1.0.0  
> **更新日期**: 2026-01-17  
> **说明**: 本文档详细说明系统中各实体的数据字段和字段值

---

## 1. Epic（业务需求）

### 1.1 字段说明

| 字段名 | 类型 | 必填 | 说明 | 示例值 |
|--------|------|------|------|--------|
| `id` | string | 是 | 唯一标识符 | `"epic-001"` |
| `code` | string | 是 | Epic编号 | `"EPIC-001"` |
| `title` | string | 是 | Epic标题 | `"高速公路自动驾驶(NOA)"` |
| `projectId` | string | 否 | 所属项目ID | `"proj-001"` |
| `description` | string | 是 | 业务需求描述 | `"实现高速公路场景下的L3级自动驾驶功能..."` |
| `businessValue` | string | 是 | 业务价值 | `"为用户提供高速公路场景下的智能驾驶体验..."` |
| `acceptanceCriteria` | string[] | 是 | 验收标准列表 | `["在高速公路场景下，系统能够自主控制车辆行驶", ...]` |
| `featureIds` | string[] | 是 | 关联的Feature ID列表 | `["feat-001", "feat-002"]` |
| `priority` | string | 是 | 优先级 | `"high"`, `"medium"`, `"low"` |
| `storyPoints` | number | 是 | 总故事点 | `180` |
| `completedStoryPoints` | number | 是 | 已完成故事点 | `120` |
| `progress` | number | 是 | 进度百分比 | `67` |
| `status` | string | 是 | 状态 | `"in-progress"`, `"committed"`, `"planning"`, `"done"`, `"cancelled"` |
| `targetVersion` | string | 否 | 目标版本ID | `"ver-001"` |
| `targetPI` | string | 否 | 目标PI ID | `"pi-002"` |
| `owner` | string | 是 | 负责人用户ID | `"user-001"` |
| `tags` | string[] | 是 | 标签列表 | `["智能驾驶", "L3", "NOA", "高速"]` |
| `createdAt` | string | 是 | 创建时间（ISO格式） | `"2025-12-01T08:00:00Z"` |
| `updatedAt` | string | 是 | 更新时间（ISO格式） | `"2026-01-17T12:00:00Z"` |
| `createdBy` | string | 是 | 创建人用户ID | `"user-001"` |
| `updatedBy` | string | 是 | 更新人用户ID | `"user-001"` |

### 1.2 字段值枚举

#### `priority` 优先级
- `"high"` - 高优先级
- `"medium"` - 中优先级
- `"low"` - 低优先级

#### `status` 状态
- `"planning"` - 规划中
- `"committed"` - 已承诺
- `"in-progress"` - 进行中
- `"done"` - 已完成
- `"cancelled"` - 已取消

### 1.3 数据示例

```json
{
  "id": "epic-001",
  "code": "EPIC-001",
  "title": "高速公路自动驾驶(NOA)",
  "projectId": "proj-001",
  "description": "实现高速公路场景下的L3级自动驾驶功能，包括自动巡航、自动变道、匝道汇入汇出等核心能力",
  "businessValue": "为用户提供高速公路场景下的智能驾驶体验，减轻长途驾驶疲劳，提升行车安全性",
  "acceptanceCriteria": [
    "在高速公路场景下，系统能够自主控制车辆行驶",
    "支持0-120km/h速度范围内的自动巡航",
    "能够自主完成变道超车动作",
    "能够识别并处理匝道汇入汇出场景",
    "通过ISO 26262 ASIL-D功能安全认证"
  ],
  "featureIds": [],
  "priority": "high",
  "storyPoints": 180,
  "completedStoryPoints": 120,
  "progress": 67,
  "status": "in-progress",
  "targetVersion": "ver-001",
  "targetPI": "pi-002",
  "owner": "user-001",
  "tags": ["智能驾驶", "L3", "NOA", "高速"],
  "createdAt": "2025-12-01T08:00:00Z",
  "updatedAt": "2026-01-17T12:00:00Z",
  "createdBy": "user-001",
  "updatedBy": "user-001"
}
```

---

## 2. Feature（功能需求）

### 2.1 字段说明

| 字段名 | 类型 | 必填 | 说明 | 示例值 |
|--------|------|------|------|--------|
| `id` | string | 是 | 唯一标识符 | `"feat-001"` |
| `code` | string | 是 | Feature编号 | `"FEAT-001"` |
| `title` | string | 是 | Feature标题（映射自`name`字段） | `"自适应巡航控制(ACC)"` |
| `name` | string | 是 | Feature名称（JSON数据源字段） | `"自适应巡航控制(ACC)"` |
| `epicId` | string | 是 | 所属Epic ID | `"epic-001"` |
| `projectId` | string | 是 | 所属项目ID | `"proj-001"` |
| `description` | string | 是 | 功能描述 | `"实现全速域自适应巡航控制，支持0-120km/h速度范围"` |
| `productLine` | string | 否 | 产品线 | `"智能驾驶"` |
| `product` | string | 否 | 产品 | `"ADAS核心算法"` |
| `priority` | string | 是 | 优先级 | `"high"`, `"medium"`, `"low"` |
| `complexity` | string | 是 | 复杂度 | `"high"`, `"medium"`, `"low"` |
| `storyPoints` | number | 是 | 故事点 | `34` |
| `estimate` | string | 否 | 估算时间 | `"6周"` |
| `status` | string | 是 | 状态 | `"done"`, `"in-progress"`, `"committed"`, `"planning"`, `"backlog"` |
| `targetVersion` | string | 否 | 目标版本ID | `"ver-001"` |
| `targetPI` | string | 否 | 目标PI ID | `"pi-001"` |
| `owner` | string | 是 | 负责人用户ID | `"user-002"` |
| `sstsIds` | string[] | 是 | 关联的SSTS ID列表 | `["ssts-001", "ssts-002"]` |
| `prd` | object | 是 | PRD文档对象 | 见下方说明 |
| `tags` | string[] | 是 | 标签列表 | `["ACC", "巡航", "ADAS"]` |
| `createdAt` | string | 是 | 创建时间（ISO格式） | `"2025-12-05T08:00:00Z"` |
| `updatedAt` | string | 是 | 更新时间（ISO格式） | `"2026-03-20T12:00:00Z"` |
| `createdBy` | string | 是 | 创建人用户ID | `"user-001"` |
| `updatedBy` | string | 是 | 更新人用户ID | `"user-002"` |

#### `prd` 对象字段

| 字段名 | 类型 | 必填 | 说明 | 示例值 |
|--------|------|------|------|--------|
| `content` | string | 是 | PRD内容（HTML/Markdown） | `"<h2>ACC功能需求</h2><p>..."` |
| `version` | string | 是 | PRD版本号 | `"1.0"` |
| `status` | string | 是 | PRD状态 | `"approved"`, `"in-review"`, `"draft"` |

### 2.2 字段值枚举

#### `priority` 优先级
- `"high"` - 高优先级
- `"medium"` - 中优先级
- `"low"` - 低优先级

#### `complexity` 复杂度
- `"high"` - 高复杂度
- `"medium"` - 中复杂度
- `"low"` - 低复杂度

#### `status` 状态
- `"backlog"` - 待开始
- `"planning"` - 规划中
- `"committed"` - 已承诺
- `"in-progress"` - 进行中
- `"done"` - 已完成
- `"cancelled"` - 已取消

#### `prd.status` PRD状态
- `"draft"` - 草稿
- `"in-review"` - 评审中
- `"approved"` - 已批准

### 2.3 数据示例

```json
{
  "id": "feat-001",
  "code": "FEAT-001",
  "name": "自适应巡航控制(ACC)",
  "title": "自适应巡航控制(ACC)",
  "epicId": "epic-001",
  "projectId": "proj-001",
  "description": "实现全速域自适应巡航控制，支持0-120km/h速度范围",
  "productLine": "智能驾驶",
  "product": "ADAS核心算法",
  "priority": "high",
  "complexity": "high",
  "storyPoints": 34,
  "estimate": "6周",
  "status": "done",
  "targetVersion": "ver-001",
  "targetPI": "pi-001",
  "owner": "user-002",
  "sstsIds": [],
  "prd": {
    "content": "<h2>ACC功能需求</h2><p>实现全速域自适应巡航...</p>",
    "version": "1.0",
    "status": "approved"
  },
  "tags": ["ACC", "巡航", "ADAS"],
  "createdAt": "2025-12-05T08:00:00Z",
  "updatedAt": "2026-03-20T12:00:00Z",
  "createdBy": "user-001",
  "updatedBy": "user-002"
}
```

---

## 3. SSTS（系统级技术规格）

### 3.1 字段说明

| 字段名 | 类型 | 必填 | 说明 | 示例值 |
|--------|------|------|------|--------|
| `id` | string | 是 | 唯一标识符 | `"ssts-001"` |
| `code` | string | 是 | SSTS编号 | `"SSTS-001"` |
| `title` | string | 是 | SSTS标题（映射自`name`字段） | `"ACC目标车辆检测"` |
| `name` | string | 是 | SSTS名称（JSON数据源字段） | `"ACC目标车辆检测"` |
| `featureId` | string | 是 | 所属Feature ID | `"feat-001"` |
| `description` | string | 是 | 规格描述 | `"实现前方目标车辆的检测和跟踪算法"` |
| `priority` | string | 是 | 优先级 | `"high"`, `"medium"`, `"low"` |
| `complexity` | string | 是 | 复杂度 | `"high"`, `"medium"`, `"low"` |
| `estimate` | string | 否 | 估算时间 | `"2周"` |
| `status` | string | 是 | 状态 | `"done"`, `"in-progress"`, `"committed"`, `"planning"`, `"draft"` |
| `assignedTeam` | string | 否 | 分配的团队ID | `"team-001"` |
| `targetPI` | string | 否 | 目标PI ID | `"pi-001"` |
| `dependencies` | string[] | 是 | 依赖的其他SSTS ID列表 | `["ssts-001"]` |
| `mrIds` | string[] | 是 | 关联的MR ID列表 | `[]` |
| `createdAt` | string | 是 | 创建时间（ISO格式） | `"2025-12-10T08:00:00Z"` |
| `updatedAt` | string | 是 | 更新时间（ISO格式） | `"2026-02-28T12:00:00Z"` |

### 3.2 字段值枚举

#### `priority` 优先级
- `"high"` - 高优先级
- `"medium"` - 中优先级
- `"low"` - 低优先级

#### `complexity` 复杂度
- `"high"` - 高复杂度
- `"medium"` - 中复杂度
- `"low"` - 低复杂度

#### `status` 状态
- `"draft"` - 草稿
- `"planning"` - 规划中
- `"committed"` - 已承诺
- `"in-progress"` - 进行中
- `"done"` - 已完成
- `"completed"` - 已完成（同done）

### 3.3 数据示例

```json
{
  "id": "ssts-001",
  "code": "SSTS-001",
  "name": "ACC目标车辆检测",
  "title": "ACC目标车辆检测",
  "featureId": "feat-001",
  "description": "实现前方目标车辆的检测和跟踪算法",
  "priority": "high",
  "complexity": "high",
  "estimate": "2周",
  "status": "done",
  "assignedTeam": "team-001",
  "targetPI": "pi-001",
  "dependencies": [],
  "mrIds": [],
  "createdAt": "2025-12-10T08:00:00Z",
  "updatedAt": "2026-02-28T12:00:00Z"
}
```

---

## 4. Project（领域项目）

### 4.1 字段说明

| 字段名 | 类型 | 必填 | 说明 | 示例值 |
|--------|------|------|------|--------|
| `id` | string | 是 | 唯一标识符 | `"proj-001"` |
| `code` | string | 是 | 项目编号 | `"PRJ-001"` |
| `name` | string | 是 | 项目名称 | `"智能驾驶L3级功能开发"` |
| `vehicleModel` | string | 是 | 车型 | `"岚图FREE 2026款"` |
| `domain` | string | 是 | 所属领域 | `"智能驾驶"`, `"智能座舱"`, `"电子电器架构"` |
| `startDate` | string | 是 | 开始日期 | `"2026-01-01"` |
| `sopDate` | string | 是 | SOP日期 | `"2026-12-31"` |
| `endDate` | string | 否 | 结束日期 | `"2026-12-31"` |
| `status` | string | 是 | 状态 | `"in-progress"`, `"planning"`, `"completed"`, `"cancelled"` |
| `health` | string | 是 | 项目健康度 | `"green"`, `"yellow"`, `"red"` |
| `description` | string | 是 | 项目描述 | `"实现L3级自动驾驶功能..."` |
| `objectives` | string[] | 是 | 项目目标列表 | `["实现高速公路L3级自动驾驶（NOA）", ...]` |
| `milestones` | object[] | 是 | 里程碑列表 | 见下方说明 |
| `epicIds` | string[] | 是 | 关联的Epic ID列表 | `["epic-001", "epic-002"]` |
| `piVersionIds` | string[] | 是 | 关联的PI版本ID列表 | `["pi-001", "pi-002"]` |
| `owner` | string | 是 | 项目经理用户ID | `"user-001"` |
| `sponsor` | string | 否 | 发起人用户ID | `"user-001"` |

#### `milestones` 对象字段

| 字段名 | 类型 | 必填 | 说明 | 示例值 |
|--------|------|------|------|--------|
| `id` | string | 是 | 里程碑ID | `"ms-001-1"` |
| `name` | string | 是 | 里程碑名称 | `"需求评审完成"` |
| `date` | string | 是 | 目标日期 | `"2026-03-31"` |
| `type` | string | 是 | 里程碑类型 | `"review"`, `"development"`, `"release"`, `"freeze"`, `"sop"` |
| `status` | string | 是 | 状态 | `"achieved"`, `"at-risk"`, `"pending"` |
| `description` | string | 否 | 描述 | `"完成所有Epic和Feature的需求评审"` |
| `deliverables` | string[] | 是 | 交付物清单 | `["Epic评审报告", "Feature PRD文档"]` |

### 4.2 字段值枚举

#### `domain` 领域
- `"智能驾驶"` - 智能驾驶领域
- `"智能座舱"` - 智能座舱领域
- `"电子电器架构"` - 电子电器架构领域
- `"底盘控制"` - 底盘控制领域
- `"新能源"` - 新能源领域

#### `status` 状态
- `"planning"` - 规划中
- `"in-progress"` - 进行中
- `"completed"` - 已完成
- `"cancelled"` - 已取消
- `"closing"` - 收尾中

#### `health` 健康度
- `"green"` - 健康（绿色）
- `"yellow"` - 有风险（黄色）
- `"red"` - 严重问题（红色）

---

## 5. Version（产品版本）

### 5.1 字段说明

| 字段名 | 类型 | 必填 | 说明 | 示例值 |
|--------|------|------|------|--------|
| `id` | string | 是 | 唯一标识符 | `"ver-001"` |
| `code` | string | 是 | 版本编号 | `"V1.0"` |
| `name` | string | 是 | 版本名称 | `"智驾1.0 - 高速NOA"` |
| `projectId` | string | 是 | 所属项目ID | `"proj-001"` |
| `description` | string | 是 | 版本描述 | `"首个量产版本，包含高速NOA..."` |
| `startDate` | string | 是 | 开始日期 | `"2026-01-01"` |
| `releaseDate` | string | 是 | 发布日期 | `"2026-06-30"` |
| `status` | string | 是 | 状态 | `"in-progress"`, `"planning"`, `"released"`, `"cancelled"` |
| `featureIds` | string[] | 是 | 关联的Feature ID列表 | `["feat-001", "feat-002"]` |
| `metadata` | object | 否 | 元数据 | 见下方说明 |
| `createdAt` | string | 是 | 创建时间（ISO格式） | `"2026-01-01T08:00:00Z"` |
| `updatedAt` | string | 是 | 更新时间（ISO格式） | `"2026-01-17T12:00:00Z"` |
| `createdBy` | string | 是 | 创建人用户ID | `"user-001"` |
| `updatedBy` | string | 是 | 更新人用户ID | `"user-001"` |

#### `metadata` 对象字段

| 字段名 | 类型 | 必填 | 说明 | 示例值 |
|--------|------|------|------|--------|
| `targetVehicles` | string[] | 否 | 目标车型列表 | `["岚图FREE 2026款"]` |
| `marketRegions` | string[] | 否 | 市场区域列表 | `["中国大陆"]` |
| `releaseNotes` | string | 否 | 发布说明 | `"1. 高速公路NOA功能\n2. 自动变道辅助"` |

---

## 6. PI（Program Increment）

### 6.1 字段说明

| 字段名 | 类型 | 必填 | 说明 | 示例值 |
|--------|------|------|------|--------|
| `id` | string | 是 | 唯一标识符 | `"pi-001"` |
| `code` | string | 是 | PI编号 | `"PI-2026-Q1"` |
| `name` | string | 是 | PI名称 | `"2026 Q1 PI"` |
| `startDate` | string | 是 | 开始日期 | `"2026-01-01"` |
| `endDate` | string | 是 | 结束日期 | `"2026-03-31"` |
| `sprintCount` | number | 是 | Sprint数量 | `6` |
| `sprintDuration` | number | 是 | Sprint时长（天） | `14` |
| `projectIds` | string[] | 是 | 关联的项目ID列表 | `["proj-001"]` |
| `objectives` | object[] | 是 | PI目标列表 | 见下方说明 |
| `epicIds` | string[] | 是 | 关联的Epic ID列表 | `[]` |
| `featureIds` | string[] | 是 | 关联的Feature ID列表 | `[]` |

#### `objectives` 对象字段

| 字段名 | 类型 | 必填 | 说明 | 示例值 |
|--------|------|------|------|--------|
| `id` | string | 是 | 目标ID | `"obj-001-1"` |
| `description` | string | 是 | 目标描述 | `"完成高速NOA核心算法开发"` |
| `businessValue` | number | 是 | 业务价值（1-10） | `8` |
| `status` | string | 是 | 状态 | `"achieved"`, `"at-risk"`, `"pending"` |

---

## 7. User（用户）

### 7.1 字段说明

| 字段名 | 类型 | 必填 | 说明 | 示例值 |
|--------|------|------|------|--------|
| `id` | string | 是 | 唯一标识符 | `"user-001"` |
| `name` | string | 是 | 用户姓名 | `"张三"` |
| `email` | string | 是 | 邮箱 | `"zhangsan@voyah.com"` |
| `role` | string | 是 | 角色 | `"项目经理"`, `"开发工程师"`, `"测试工程师"` |
| `department` | string | 否 | 部门 | `"智能驾驶"` |
| `avatar` | string | 否 | 头像URL | `"https://api.dicebear.com/..."` |
| `phone` | string | 否 | 手机号 | `"13800138001"` |
| `status` | string | 是 | 状态 | `"active"`, `"inactive"` |

---

## 8. 数据关联关系

### 8.1 Epic → Feature → SSTS 关联链

```
Epic (epic-001)
  ├── Feature (feat-001)
  │     ├── SSTS (ssts-001)
  │     └── SSTS (ssts-002)
  ├── Feature (feat-002)
  │     ├── SSTS (ssts-003)
  │     └── SSTS (ssts-004)
  └── Feature (feat-003)
        ├── SSTS (ssts-005)
        └── SSTS (ssts-006)
```

### 8.2 Project → Version → PI → Epic → Feature 关联链

```
Project (proj-001)
  ├── Version (ver-001)
  │     └── Feature (feat-001)
  ├── PI (pi-001)
  │     └── Feature (feat-001)
  └── Epic (epic-001)
        └── Feature (feat-001)
```

### 8.3 关联字段映射

| 实体 | 关联字段 | 关联到 | 关联字段 |
|------|----------|--------|----------|
| Epic | `featureIds` | Feature | `epicId` |
| Feature | `sstsIds` | SSTS | `featureId` |
| Epic | `projectId` | Project | `id` |
| Feature | `projectId` | Project | `id` |
| Epic | `targetPI` | PI | `id` |
| Feature | `targetPI` | PI | `id` |
| Epic | `targetVersion` | Version | `id` |
| Feature | `targetVersion` | Version | `id` |
| Epic | `owner` | User | `id` |
| Feature | `owner` | User | `id` |
| SSTS | `assignedTeam` | Team | `id` |

---

## 9. 字段映射说明

### 9.1 Feature字段映射

在数据加载时，系统会自动将JSON数据源中的`name`字段映射为`title`字段：

```typescript
// 数据加载器中的映射逻辑
const mappedFeatures = features.map((f: any) => ({
  ...f,
  title: f.title || f.name || '', // 优先使用title，如果没有则使用name
}))
```

### 9.2 SSTS字段映射

在数据加载时，系统会自动将JSON数据源中的`name`字段映射为`title`字段：

```typescript
// 数据加载器中的映射逻辑
const mappedSSTS = sstsList.map((s: any) => ({
  ...s,
  title: s.title || s.name || '', // 优先使用title，如果没有则使用name
}))
```

---

## 10. 数据统计

### 10.1 当前数据集统计

| 实体类型 | 数量 | 说明 |
|---------|------|------|
| Epic | 6 | 业务需求 |
| Feature | 10 | 功能需求 |
| SSTS | 15 | 系统级技术规格 |
| Project | 3 | 领域项目 |
| Version | 6 | 产品版本 |
| PI | 4 | Program Increment |
| User | 10 | 系统用户 |

### 10.2 数据关联统计

- **Epic → Feature**: 平均每个Epic关联1.67个Feature
- **Feature → SSTS**: 平均每个Feature关联1.5个SSTS
- **Project → Epic**: 平均每个Project关联2个Epic
- **Epic → PI**: 4个Epic关联到PI
- **Feature → PI**: 10个Feature关联到PI

---

## 11. 注意事项

1. **字段映射**: Feature和SSTS的`name`字段会在加载时自动映射为`title`字段，以符合TypeScript类型定义。

2. **关联关系**: 
   - Epic的`featureIds`数组与Feature的`epicId`字段形成双向关联
   - Feature的`sstsIds`数组与SSTS的`featureId`字段形成双向关联
   - 在建立关联时，需要同时更新两边的数据

3. **状态流转**: 
   - Epic状态: `planning` → `committed` → `in-progress` → `done`
   - Feature状态: `backlog` → `planning` → `committed` → `in-progress` → `done`
   - SSTS状态: `draft` → `planning` → `committed` → `in-progress` → `done`

4. **时间格式**: 所有时间字段使用ISO 8601格式（`YYYY-MM-DDTHH:mm:ssZ`）

5. **ID格式**: 
   - Epic: `epic-XXX`
   - Feature: `feat-XXX`
   - SSTS: `ssts-XXX`
   - Project: `proj-XXX`
   - Version: `ver-XXX`
   - PI: `pi-XXX`
   - User: `user-XXX`

---

**文档结束**
